<!DOCTYPE html>
    <html>
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta />
        
    <title>最佳安全实践_通用规则|微信支付商户文档中心</title><meta>
    <meta>
    
    
    
    
  
      </head>
      <body>
        
        <div><section><header><div><div><div><a><img></a></div><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div><div><div> 文档中心 </div><img></div></div></div><div><img><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div></div></header><section><div><div><div><div><a>产品文档（V2）</a><a>通用规则</a><a>SDK&amp;开发工具</a><a>更新日志</a></div></div><div><div><div><img><div>通用规则</div></div></div><div><button><span> 技术咨询 </span></button></div></div></div></div></section><section><aside><div><div><ul><li><section><p><span><span>接入规范</span></span><span></span></p><ul><li><div><a><span>商户收银台H5大字号规范</span></a></div></li><li><div><a><span>微信支付二维码规范</span></a></div></li></ul></section></li><li><div><a><span>安全规范</span></a></div></li><li><section><p><span><span>名词表</span></span><span></span></p><ul><li><div><a><span>支付模式</span></a></div></li><li><div><a><span>名词解释</span></a></div></li><li><div><a><span>参数规定</span></a></div></li></ul></section></li><li><section><p><span><span>API安全</span></span><span></span></p><ul><li><div><a><span>最佳安全实践</span></a></div></li><li><div><a><span>安全与网络相关注意事项</span></a></div></li><li><div><a><span>HTTPS服务器配置</span></a></div></li><li></li><li></li><li></li><li></li><li></li><li></li></ul></section></li><li><section><p><span><span>最佳实践</span></span><span></span></p><ul><li><div><a><span>支付回调和查单实现指引</span></a></div></li><li><div><a><span>回调通知注意事项</span></a></div></li><li><div><a><span>专线商户Notify升级指引</span></a></div></li><li><div><a><span>支付验收指引</span></a></div></li><li><div><a><span>跨城冗灾方案</span></a></div></li><li></li></ul></section></li></ul></div></div></aside><main><div><main><div><div><h1>最佳安全实践</h1><span> 更新时间：2024.11.18</span><div><div><html><head></head><body><div><div><p><span><span>对于接入了微信支付的商户们来说，请仔细阅读和遵守该最佳安全实践，将极大的提升贵公司在使用微信支付时的安全性。我们也会持续关注商户安全性，将最新最好的实践更新于此。</span></span></p><div><h2>商户平台安全使用</h2></div><div><p><span><span>对于商户平台的安全使用，我们从&nbsp;申请入驻、收到开户邮件、登录商户平台、商户平台日常使用 四个方面来展开。</span></span></p></div><div><h3>1、申请入驻</h3></div><ul><li><p><span><span>申请入驻微信支付不会收取任何费用，谨防上当受骗。</span></span></p></li><li><p><span><span>提交申请资料后，需注意申请资料的保管，防止泄露或丢失。</span></span></p></li></ul><div><h3>2、收到开户邮件</h3></div><ul><li><p><span><span>开户邮件内容中包含了账户、初始登录密码等敏感信息，需妥善保管，防止泄露。</span></span></p></li></ul><div><h3>3、登录商户平台</h3></div><ul><li><p><span><span>首次登录请修改登录密码，密码复杂度建议大于8位字符，并且同时含有大、小写、数字、特殊符号。</span></span></p></li><li><p><span><span>仔细检查域名是否为&nbsp;https://pay.weixin.qq.com ，防止误登录钓鱼网站导致密码等信息的泄露。</span></span></p></li></ul><div><h3>4、商户平台日常使用</h3></div><ul><li><p><span><span>登录权限保护</span></span></p><ul><li><p><span><span>&nbsp;定期（至多6个月）修改登录密码。</span></span></p></li><li><p><span><span>保护好注册管理员的手机设备，因为资金等敏感操作需要验证这个短信验证码。</span></span></p></li><li><p><span><span>合理的划分操作员及其权限，实施最小化权限原则。</span></span></p></li><li><p><span><span>离职或工作调动后员工操作权限的清理和定期回收。</span></span></p></li><li><p><span><span>&nbsp;为每一个员工建立员工账号，而不是多个人混用同一个账户。</span></span></p></li></ul></li><li><p><span><span>浏览器选择</span></span></p><ul><li><p><span><span>使用较新的主流浏览器并检查开启浏览器和系统的自动更新机制。</span></span></p></li></ul></li><li><p><span><span>功能使用</span></span></p><ul><li><p><span><span>企业营销功能需要设置防刷级别、限领次数等安全功能，如果是调用API，建议设置访问IP白名单等。</span></span></p></li></ul></li></ul><div><h2>系统开发注意事项</h2></div><div><p><span><span>对于需要自行或外包开发信息系统的商户来说，有一些安全的注意事项，我们从&nbsp;需求、设计、编码、测试、部署&amp;运维 五个方面来展开。</span></span></p></div><div><h3>1、需求</h3></div><ul><li><p><span><span>商户自建营销活动需设计防刷机制。</span></span></p></li></ul><div><h3>2、设计</h3></div><ul><li><p><span><span>数据采集</span></span></p><ul><li><p><span><span>法律禁止企业记录和存储的数据（如磁道信息、信用卡CVV码等）不能收集。</span></span></p></li><li><p><span><span>客户端敏感数据必须先进行加密处理。</span></span></p></li></ul></li><li><p><span><span>数据传输</span></span></p><ul><li><p><span><span>使用HTTPS确保网络传输安全性。</span></span></p></li><li><p><span><span>禁用SSL等不安全协议和算法，建议使用TLS1.2。</span></span></p></li><li><p><span><span>不要轻易的尝试设计和实现自己的加密传输算法，几乎都会存在问题。</span></span></p></li></ul></li><li><p><span><span>数据保存</span></span></p><ul><li><p><span><span>敏感信息禁止出现在日志中，如确实需要，需进行脱敏处理。</span></span></p></li><li><p><span><span>缓存和DB中的敏感数据需进行加密或者虚化（Hash）。</span></span></p></li><li><p><span><span>密码等关键认证必须采用加盐Hash方式保存。</span></span></p></li></ul></li><li><p><span><span>数据访问</span></span></p><ul><li><p><span><span>外部请求数据访问必须进行鉴权操作。</span></span></p></li><li><p><span><span>对于内部的数据访问要严加控制，降低用户信息泄露风险。</span></span></p></li></ul></li><li><p><span><span>审计日志</span></span></p><ul><li><p><span><span>记录的操作日志要包括5W信息（Who、When、Why、How、What）。</span></span></p></li></ul></li><li><p><span><span>资金处理</span></span></p><ul><li><p><span><span>建立对账机制，每天对系统收支数据与微信支付数据进行对账，避免资金出现问题。</span></span></p></li><li><p><span><span>DB或者KV需要设计数据防篡改机制。</span></span></p></li></ul></li></ul><div><h3>3、编码</h3></div><ul><li><p><span><span>防止参数处理不当导致的常见漏洞</span></span></p><ul><li><p><span><span><a>安全漏洞checklist</a></span></span></p></li><li><p><span><span><a>系统漏洞检测及修复</a></span></span></p></li><li><p><span><span><a>Web漏洞检测及修复</a></span></span></p></li><li><p><span><span><a>最新安全漏洞及修复</a></span></span></p></li></ul></li><li><p><span><span>防止逻辑处理不当导致的漏洞</span></span></p><ul><li><p><span><span>支付成功回调通知必须验证微信支付签名，避免被恶意攻击。</span></span></p></li><li><p><span><span>在后台进行商户价格的判断逻辑，避免客户端篡改价格导致商户损失。</span></span></p></li><li><p><span><span>避免在App或者网站页面里面出现商户APIkey或API证书等信息，防止泄露。</span></span></p></li></ul></li><li><p><span><span>APP开发安全注意事项</span></span></p><ul><li><p><span><span>IOS应用安全开发参考&nbsp;</span></span><span><span><a>Apple&nbsp;NextPrevious Security Development Checklists</a></span></span></p></li><li><p><span><span>android应用安全开发参考&nbsp;</span></span><span><span><a>Android&nbsp;Security Tips</a></span></span></p></li></ul></li></ul><div><h3>4、测试</h3></div><ul><li><p><span><span>对输入输出参数进行专项安全测试。</span></span></p></li><li><p><span><span>通过众测或自建、第三方的安全扫描机制对系统进行安全扫描并对问题进行修复。</span></span></p></li></ul><div><h3>5、部署与运维</h3></div><ul><li><p><span><span>确保系统所使用商业和开源组件的版本是最新稳定版。</span></span></p></li><li><p><span><span>参考此份checklist进行安全配置&nbsp;</span></span><span><span><a>系统漏洞检测及修复</a></span></span></p></li><li><p><span><span>考虑系统和数据服务冗灾，至少有主备机制，建议多机房多地部署。</span></span></p></li><li><p><span><span>建议采用各大云系统，并且启用相关的云安全防控机制。</span></span></p></li><li><p><span><span>如有条件，建议自建或者购买一些安全监控服务或设备。</span></span></p></li><li><p><span><span>设定关键指标项，进行实时数据上报和监控</span></span></p></li><li><p><span><span>有专门的人员来跟进安全事件的处置。</span></span></p></li><li><p><span><span>关注信息系统所使用框架及组件的安全信息情况。</span></span></p></li><li><p><span><span>按时打补丁，定期检查系统升级。</span></span></p></li><li><p><span><span>服务端口开启最小化原则。</span></span></p></li><li><p><span><span>服务器登录操作可审计。</span></span></p></li><li><p><span><span>内部管理运营系统必须认证登录做操作日志记录以供审计。</span></span></p></li><li><p><span><span>建立业务下线机制，不再使用的业务做下线操作减少被攻击面。</span></span></p></li></ul><p>&nbsp;</p></div><p>&nbsp;</p></div></body></html></div><div></div></div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><div> 更多支持 </div><div><a>开发文档(服务商)</a><a>开发文档(V2版)</a><a>开发者社区</a><a>微信开放平台</a><a>微信公众平台</a><a>腾讯客服</a></div></div></div></div><div><div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><a><span>商户平台安全使用</span></a></div><div><a><span>1、申请入驻</span></a></div><div><a><span>2、收到开户邮件</span></a></div><div><a><span>3、登录商户平台</span></a></div><div><a><span>4、商户平台日常使用</span></a></div><div><a><span>系统开发注意事项</span></a></div><div><a><span>1、需求</span></a></div><div><a><span>2、设计</span></a></div><div><a><span>3、编码</span></a></div><div><a><span>4、测试</span></a></div><div><a><span>5、部署与运维</span></a></div></div><div><a><i></i><span>AI开发助手</span></a></div></div><div><div><div><img><img><div> 元宝AI </div></div><div><div><img><img><div> 反馈 </div></div><div><img><img><div> 目录 </div></div><div><img><img><div> 置顶 </div></div></div></div></div></div></div></main><footer><div> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div> Powered By Tencent &amp; Tenpay<br>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>