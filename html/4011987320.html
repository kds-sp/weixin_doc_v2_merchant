<!DOCTYPE html>
    <html>
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta />
        
    <title>支付中签约_产品文档（V2）|微信支付商户文档中心</title><meta>
    <meta>
    
    
    
    
  
      </head>
      <body>
        
        <div><section><header><div><div><div><a><img></a></div><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div><div><div> 文档中心 </div><img></div></div></div><div><img><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div></div></header><section><div><div><div><div><a>产品文档（V2）</a><a>通用规则</a><a>SDK&amp;开发工具</a><a>更新日志</a></div></div><div><div><div><img><div>产品文档（V2）</div></div></div><div><button><span> 技术咨询 </span></button></div></div></div></div></section><section><aside><div><div><ul><li><section><p><span><span>支付产品</span></span><span></span></p><ul><li><section><p><span><span>付款码支付</span></span><span></span></p></section></li><li><section><p><span><span>JSAPI支付</span></span><span></span></p></section></li><li><section><p><span><span>Native支付</span></span><span></span></p></section></li><li><section><p><span><span>APP支付</span></span><span></span></p></section></li><li><section><p><span><span>H5支付</span></span><span></span></p></section></li><li><section><p><span><span>小程序支付</span></span><span></span></p></section></li></ul></section></li><li><section><p><span><span>运营工具</span></span><span></span></p><ul><li><section><p><span><span>现金红包</span></span><span></span></p></section></li><li><section><p><span><span>小程序红包</span></span><span></span></p></section></li><li><section><p><span><span>付款到银行卡</span></span><span></span></p></section></li><li></li><li><section><p><span><span>委托代扣</span></span><span></span></p><ul><li><div><a><span>产品介绍</span></a></div></li><li><section><p><span><span>接入指引</span></span><span></span></p></section></li><li><section><p><span><span>API列表</span></span><span></span></p><ul><li><section><p><span><span>纯签约API</span></span><span></span></p></section></li><li><section><p><span><span>支付中签约</span></span><span></span></p><ul><li><div><a><span>支付中签约</span></a></div></li></ul></section></li><li><section><p><span><span>扣款及解约API</span></span><span></span></p></section></li><li><section><p><span><span>查询及回调通知API</span></span><span></span></p></section></li><li><section><p><span><span>基础API</span></span><span></span></p></section></li></ul></section></li><li><div><a><span>常见问题</span></a></div></li></ul></section></li><li></li><li></li></ul></section></li><li><section><p><span><span>扩展工具</span></span><span></span></p><ul><li><section><p><span><span>分账</span></span><span></span></p></section></li><li><section><p><span><span>清关报关</span></span><span></span></p></section></li><li></li><li></li><li></li></ul></section></li></ul></div></div></aside><main><div><main><div><div><h1>支付中签约</h1><span> 更新时间：2025.09.24</span><div><div><html><head></head><body><div><div><p><span><span>支付的同时完成代扣协议的签约。</span></span></p></div><div><p><span><span><span>开发流程介绍：</span></span></span></p></div><div><p><span><span>步骤1</span></span><span>&nbsp;请求支付中签约接口（参数见</span><span><span><a>请求参数</a></span></span><span>），获取预支付id（对应参数：prepay_id）此步骤需要根据不同支付方式选择不同的trade_type（trade_type详细介绍请参见交易类型规则）。</span></p></div><p>&nbsp;</p><div><p><span><span>步骤2</span></span><span>&nbsp;按照不同支付方式的不同规则，按要求唤起微信支付收银台，不同的支付方式，对于唤起微信支付收银台的方法要求不同，具体可以参见以下表格：</span></p></div><div><table><colgroup><col><col></colgroup><tbody><tr><th><p><span><span>扫码支付（NATIVE）详见：</span></span></p></th><th><p><span><span><a>扫码支付(NATIVE)在线文档</a></span></span></p></th></tr><tr><td><p><span><span>公众号支付（JSAPI）详见：</span></span></p></td><td><p><span><span><a>公众号支付(JSAPI)在线文档</a></span></span></p></td></tr><tr><td><p><span><span>App支付（APP）详见：</span></span></p></td><td><p><span><span><a>App支付(APP)在线文档</a></span></span></p></td></tr><tr><td><p><span><span>H5（MWEB）支付详见：</span></span></p></td><td><p><span><span><a>H5(MWEB)在线文档</a></span></span></p></td></tr><tr><td><p><span><span>小程序（JSAPI）支付详见：</span></span></p></td><td><p><span><span><a>小程序支付在线文档</a></span></span></p></td></tr></tbody></table></div><div><p><span><span>步骤3</span></span><span>&nbsp;用户完成支付，微信通过支付中签约接口中商户上传的通知回调地址（对应参数：notify_url），将支付结果返回给商户，同时将签约结果通过contract_notify_url通知给商户，两次通知皆为异步通知。</span></p></div><div><h2><span>接口说明</span></h2></div><div><p><span><span><span>适用对象：</span></span></span><span><span>直连商户</span></span></p></div><div><p><span><span><span>请求URL：</span></span></span><span><span>&nbsp;https://api.mch.weixin.qq.com/pay/contractorder</span></span></p></div><div><p><span><span><span>请求方式：</span></span></span><span><span>&nbsp;POST</span></span></p></div><div><p><span><span><span>是否需要证书：</span></span></span><span><span>&nbsp;否</span></span></p></div><div><h2><span>请求参数</span></h2></div><div><table><colgroup><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>参数名</span></span></p></th><th><p><span><span>变量</span></span></p></th><th><p><span><span>类型[长度限制]</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>应用ID</span></span></p></td><td><p><span><span>appid</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>由微信生成的应用ID，全局唯一。</span></span><br><span><span>请求查单接口时请注意APPID的应用属性，例如公众号场景下，需使用应用属性为公众号的APPID</span></span><br><span><span>示例值：wxcbda96de0b165486</span></span></p></td></tr><tr><td><p><span><span>商户号</span></span></p></td><td><p><span><span>mch_id</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>商户号是商户在微信申请微信支付成功后分配的账号ID，登录平台为pay.weixin.qq.com</span></span><br><span><span>示例值：1200009811</span></span></p></td></tr><tr><td><p><span><span>签约商户号</span></span></p></td><td><p><span><span>contract_mchid</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>签约商户号，必须与mch_id一致</span></span><br><span><span>示例值：1200009811</span></span></p></td></tr><tr><td><p><span><span>签约appid</span></span></p></td><td><p><span><span>contract_appid</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>签约公众号，必须与appid一致</span></span><br><span><span>示例值：wxcbda96de0b165486</span></span></p></td></tr><tr><td><p><span><span>商户订单号</span></span></p></td><td><p><span><span>out_trade_no</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>商户系统内部的订单号,32个字符内、可包含字母,其他说明见</span></span><span><span><a>商户订单号</a></span></span><br><span><span>示例值：123456</span></span></p></td></tr><tr><td><p><span><span>设备号</span></span></p></td><td><p><span><span>device_info</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>终端设备号(门店号或收银设备ID)，注意：PC网页或公众号内支付请传"WEB"</span></span><br><span><span>示例值：013467007045764</span></span></p></td></tr><tr><td><p><span><span>随机字符串</span></span></p></td><td><p><span><span>nonce_str</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>随机字符串，不长于32位.</span></span><br><span><span>示例值：5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></span></p></td></tr><tr><td><p><span><span>商品描述</span></span></p></td><td><p><span><span>body</span></span></p></td><td><p><span><span>string[1,127]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>商品或支付单简要描述</span></span><br><span><span>示例值：Ipad&nbsp;mini 16G 白色</span></span></p></td></tr><tr><td><p><span><span>商品详情</span></span></p></td><td><p><span><span>detail</span></span></p></td><td><p><span><span>string[1,8192]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>商品名称明细列表</span></span><br><span><span>示例值：Ipad&nbsp;mini 16G 白色</span></span></p></td></tr><tr><td><p><span><span>附加数据</span></span></p></td><td><p><span><span>attach</span></span></p></td><td><p><span><span>string[1,127]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>附加数据,在查询API和支付通知中原样返回,该字段主要用于商户携带订单的自定义数据</span></span><br><span><span>示例值：深圳分店</span></span></p></td></tr><tr><td><p><span><span>回调通知url</span></span></p></td><td><p><span><span>notify_url</span></span></p></td><td><p><span><span>string[1,256]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>回调通知地址，以http或https开头，通知url必须为外网可访问的url，不能携带参数。</span></span><br><span><span>示例值：https://weixin.qq.com</span></span></p></td></tr><tr><td><p><span><span>总金额</span></span></p></td><td><p><span><span>total_fee</span></span></p></td><td><p><span><span>int</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>订单总金额，单位为分</span></span><br><span><span>示例值：888</span></span></p></td></tr><tr><td><p><span><span>终端IP</span></span></p></td><td><p><span><span>spbill_create_ip</span></span></p></td><td><p><span><span>string[1,16]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>用户的客户端IP&nbsp;，支持IPV4，目前不支持ipv6</span></span><br><span><span>示例值：123.12.12.123</span></span></p></td></tr><tr><td><p><span><span>交易起始时间</span></span></p></td><td><p><span><span>time_start</span></span></p></td><td><p><span><span>string[1,14]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>订单生成时间,格式为yyyyMMddHHmmss,如2009年12月25日9点10分10秒表示为20091225091010.&nbsp;其他详见</span></span><span><span><a>时间规则</a></span></span><br><span><span>示例值：20091225091010</span></span></p></td></tr><tr><td><p><span><span>交易结束时间</span></span></p></td><td><p><span><span>time_expire</span></span></p></td><td><p><span><span>string[1,14]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>订单失效时间,格式为yyyyMMddHHmmss,如2009年12月27日9点10分10秒表示为20091227091010.&nbsp;其他详见</span></span><span><span><a>时间规则</a></span></span><br><span><span>示例值：20091227091010</span></span></p></td></tr><tr><td><p><span><span>商品标记</span></span></p></td><td><p><span><span>goods_tag</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>商品标记,代金券或立减优惠功能的参数</span></span><br><span><span>示例值：WXG</span></span></p></td></tr><tr><td><p><span><span>交易类型</span></span></p></td><td><p><span><span>trade_type</span></span></p></td><td><p><span><span>string[1,16]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>取值如下：JSAPI,NATIVE,APP,MWEB</span></span><br><span><span>示例值：JSAPI</span></span></p></td></tr><tr><td><p><span><span>商品ID</span></span></p></td><td><p><span><span>product_id</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>trade_type=NATIVE,此参数必传.&nbsp;此id为二维码中包含的商品ID,商户自行定义.</span></span><br><span><span>示例值：12235413214070356458058</span></span></p></td></tr><tr><td><p><span><span>用户标识</span></span></p></td><td><p><span><span>openid</span></span></p></td><td><p><span><span>string[1,128]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>trade_type=JSAPI,此参数必传，用户在商户appid下的唯一标识.</span></span><br><span><span>示例值：oUpF8uMuAJO_M2pxb1Q9zNjWeS6o</span></span></p></td></tr><tr><td><p><span><span>模板id</span></span></p></td><td><p><span><span>plan_id</span></span></p></td><td><p><span><span>int</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>协议模板id</span></span><br><span><span>示例值：123</span></span></p></td></tr><tr><td><p><span><span>签约协议号</span></span></p></td><td><p><span><span>contract_code</span></span></p></td><td><p><span><span>string[1,64]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>商户侧的签约协议号，由商户生成，只能是数字、大小写字母的描述。</span></span><br><span><span>示例值：100001256</span></span></p></td></tr><tr><td><p><span><span>请求序列号</span></span></p></td><td><p><span><span>request_serial</span></span></p></td><td><p><span><span>int&nbsp;64</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>商户请求签约时的序列号，要求唯一性。禁止使用0开头，序列号主要用于排序，不作为查询条件，纯数字，范围不能超过int&nbsp;64的范围（9223372036854775807）。</span></span><br><span><span>示例值：1695</span></span></p></td></tr><tr><td><p><span><span>用户账户展示名称</span></span></p></td><td><p><span><span>contract_display_account</span></span></p></td><td><p><span><span>string[1,64]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>签约用户的名称,用于支付中签约页面的“开通账号”处进行展示，参数值不支持UTF8非3字节编码的字符，例如表情符号，所以请勿传微信昵称到该字段</span></span><br><span><span>示例值：123</span></span></p></td></tr><tr><td><p><span><span>签约信息通知url</span></span></p></td><td><p><span><span>contract_notify_url</span></span></p></td><td><p><span><span>string[1,256]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>签约信息回调通知的url，以http或https开头，通知url必须为外网可访问的url，不能携带参数。</span></span><br><span><span>示例值：https://yoursite.com</span></span></p></td></tr><tr><td><p><span><span>签名</span></span></p></td><td><p><span><span>sign</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>签名规则详见</span></span><span><span><a>签名生成算法</a></span></span><span>&nbsp;注：所有参数都是encode前做签名</span><br><span><span>示例值：E1EE61A91C8E90F299DE6AE075D60A2D</span></span></p></td></tr></tbody></table></div><div><h2><span>请求示例：</span></h2></div><p><span><span>XML</span></span></p><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;&nbsp;</span><span>
</span></span></span><span><span>2</span><span><span>&nbsp;&lt;appid&gt;wxcbda96de0b165486&lt;/appid&gt; &nbsp;</span><span>
</span></span></span><span><span>3</span><span><span>&nbsp;&lt;mch_id&gt;1200009811&lt;/mch_id&gt; </span><span>
</span></span></span><span><span>4</span><span><span>&nbsp;&lt;contract_mchid&gt;1200009811&lt;/contract_mchid&gt; &nbsp;</span><span>
</span></span></span><span><span>5</span><span><span>&nbsp;&lt;contract_appid&gt;wxcbda96de0b165486&lt;/contract_appid&gt; </span><span>
</span></span></span><span><span>6</span><span><span>&nbsp;&lt;out_trade_no&gt;123456&lt;/out_trade_no&gt; </span><span>
</span></span></span><span><span>7</span><span><span>&nbsp;&lt;device_info&gt;013467007045764&lt;/device_info&gt; </span><span>
</span></span></span><span><span>8</span><span><span>&nbsp;&lt;nonce_str&gt;5K8264ILTKCH16CQ2502SI8ZNMTM67VS&lt;/nonce_str&gt;</span><span>
</span></span></span><span><span>9</span><span><span>&nbsp;&lt;body&gt;Ipad mini 16G 白色&lt;/body&gt;</span><span>
</span></span></span><span><span>10</span><span><span>&nbsp;&lt;detail&gt;Ipad mini 16G 白色&lt;/detail&gt;</span><span>
</span></span></span><span><span>11</span><span><span>&nbsp;&lt;notify_url&gt;https://weixin.qq.com&lt;/notify_url&gt;</span><span>
</span></span></span><span><span>12</span><span><span>&nbsp;&lt;total_fee&gt;888&lt;/total_fee&gt;</span><span>
</span></span></span><span><span>13</span><span><span>&nbsp;&lt;spbill_create_ip&gt;123.12.12.123&lt;/spbill_create_ip&gt;</span><span>
</span></span></span><span><span>14</span><span><span>&nbsp;&lt;trade_type&gt;JSAPI&lt;/trade_type&gt;</span><span>
</span></span></span><span><span>15</span><span><span>&nbsp;&lt;plan_id&gt;123&lt;/plan_id&gt;</span><span>
</span></span></span><span><span>16</span><span><span>&nbsp;&lt;contract_code&gt;100001256&lt;/contract_code&gt;</span><span>
</span></span></span><span><span>17</span><span><span>&nbsp;&lt;request_serial&gt;1000&lt;/request_serial&gt; </span><span>
</span></span></span><span><span>18</span><span><span>&nbsp;&lt;contract_display_account&gt;微信代扣&lt;/contract_display_account&gt; </span><span>
</span></span></span><span><span>19</span><span><span>&nbsp;&lt;contract_notify_url&gt;https://yoursite.com&lt;/contract_notify_url&gt; </span><span>
</span></span></span><span><span>20</span><span><span>&nbsp;&lt;sign&gt;C380BEC2BFD727A4B6845133519F3AD6&lt;/sign&gt; </span><span>
</span></span></span><span><span>21</span><span><span>&lt;/xml&gt;</span></span></span></pre></div><div><h2><span>返回参数</span></h2></div><div><table><colgroup><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>参数名</span></span></p></th><th><p><span><span>变量</span></span></p></th><th><p><span><span>类型[长度限制]</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>返回状态码</span></span></p></td><td><p><span><span>return_code</span></span></p></td><td><p><span><span>string[1,16]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>SUCCESS/FAIL</span></span><br><span><span>示例值：SUCCESS</span></span></p></td></tr><tr><td><p><span><span>返回信息</span></span></p></td><td><p><span><span>return_msg</span></span></p></td><td><p><span><span>string[1,128]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>返回信息，如非空，为错误原因</span></span><br><span><span>如：签名失败&nbsp;等。</span></span><br><span><span>示例值：签名失败</span></span></p></td></tr></tbody></table></div><div><p><span><span><span>以下字段在return_code为SUCCESS的时候有返回</span></span></span></p></div><div><table><colgroup><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>参数名</span></span></p></th><th><p><span><span>变量</span></span></p></th><th><p><span><span>类型[长度限制]</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>业务结果</span></span></p></td><td><p><span><span>result_code</span></span></p></td><td><p><span><span>string[1,16]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>SUCCESS/FAIL</span></span><br><span><span>示例值：SUCCESS</span></span></p></td></tr><tr><td><p><span><span>应用ID</span></span></p></td><td><p><span><span>appid</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>直连商户申请的公众号或移动应用appid。</span></span><br><span><span>示例值：wxcbda96de0b165486</span></span></p></td></tr><tr><td><p><span><span>商户号</span></span></p></td><td><p><span><span>mch_id</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>商户号是商户在微信申请微信支付成功后分配的账号ID，登录平台为pay.weixin.qq.com</span></span><br><span><span>示例值：1200009811</span></span></p></td></tr><tr><td><p><span><span>随机字符串</span></span></p></td><td><p><span><span>nonce_str</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>随机字符串,不长于32位.</span></span><br><span><span>示例值：5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></span></p></td></tr><tr><td><p><span><span>签名</span></span></p></td><td><p><span><span>sign</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>签名规则详见签名生成算法&nbsp;注：所有参数都是encode前做签名.</span></span><br><span><span>示例值：E1EE61A91C8E90F299DE6AE075D60A2D</span></span></p></td></tr><tr><td><p><span><span>错误代码</span></span></p></td><td><p><span><span>err_code</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>错误返回的错误代码</span></span><br><span><span>示例值：SYSTEMERROR</span></span></p></td></tr><tr><td><p><span><span>错误代码描述</span></span></p></td><td><p><span><span>err_code_des</span></span></p></td><td><p><span><span>string[1,128]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>错误返回的信息描述</span></span><br><span><span>示例值：系统错误</span></span></p></td></tr><tr><td><p><span><span>预签约结果</span></span></p></td><td><p><span><span>contract_result_code</span></span></p></td><td><p><span><span>string[1,16]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>预签约结果</span></span><br><span><span>示例值：SUCCESS</span></span></p></td></tr><tr><td><p><span><span>预签约错误代码</span></span></p></td><td><p><span><span>contract_err_code</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>预签约错误代码</span></span><br><span><span>示例值：Fail</span></span></p></td></tr><tr><td><p><span><span>预签约错误描述</span></span></p></td><td><p><span><span>contract_err_code_des</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>预签约错误描述</span></span><br><span><span>示例值：已签约</span></span></p></td></tr></tbody></table></div><div><p><span><span><span>以下字段在return_code&nbsp;和result_code都为SUCCESS的时候有返回</span></span></span></p></div><div><table><colgroup><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>参数名</span></span></p></th><th><p><span><span>变量</span></span></p></th><th><p><span><span>类型[长度限制]</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>签名</span></span></p></td><td><p><span><span>sign</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span><a>详见签名生成算法</a></span></span><br><span><span>示例值：C380BEC2BFD727A4B6845133519F3AD6</span></span></p></td></tr><tr><td><p><span><span>公众账号id</span></span></p></td><td><p><span><span>appid</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>微信支付分配的公众账号id</span></span><br><span><span>示例值：wxcbda96de0b165486</span></span></p></td></tr><tr><td><p><span><span>商户号</span></span></p></td><td><p><span><span>mch_id</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>微信支付分配的商户号</span></span><br><span><span>示例值：10000098</span></span></p></td></tr><tr><td><p><span><span>预支付交易会话标识</span></span></p></td><td><p><span><span>prepay_id</span></span></p></td><td><p><span><span>string[1,64]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>微信生成的预支付回话标识,用于后续接口调用中使用,该值有效期为2小时.</span></span><br><span><span>示例值：wx201410272009395522657a690389285100</span></span></p></td></tr><tr><td><p><span><span>交易类型</span></span></p></td><td><p><span><span>trade_type</span></span></p></td><td><p><span><span>string[1,16]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>调用接口提交的交易类型，取值如下：JSAPI,NATIVE,APP,MWEB</span></span><br><span><span>示例值：JSAPI</span></span></p></td></tr><tr><td><p><span><span>二维码链接</span></span></p></td><td><p><span><span>code_url</span></span></p></td><td><p><span><span>string[1,64]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>trade_type为NATIVE是有返回,可将该参数值生成二维码展示出来进行扫码支付</span></span><br><span><span>示例值：weixin：//wxpay/s/An4baqw</span></span></p></td></tr><tr><td><p><span><span>模板id</span></span></p></td><td><p><span><span>plan_id</span></span></p></td><td><p><span><span>int</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>商户在微信商户平台设置的代扣协议模板id</span></span><br><span><span>示例值：123</span></span></p></td></tr><tr><td><p><span><span>请求序列号</span></span></p></td><td><p><span><span>request_serial</span></span></p></td><td><p><span><span>int&nbsp;64</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>商户请求签约时的序列号,商户侧须唯一，禁止使用0开头</span></span><br><span><span>示例值：1695</span></span></p></td></tr><tr><td><p><span><span>签约协议号</span></span></p></td><td><p><span><span>contract_code</span></span></p></td><td><p><span><span>string[1,64]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>商户请求签约时传入的签约协议号,商户侧须唯一</span></span><br><span><span>示例值：1023658866</span></span></p></td></tr><tr><td><p><span><span>用户账户展示名称</span></span></p></td><td><p><span><span>contract_display_account</span></span></p></td><td><p><span><span>string[1,64]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>签约用户的名称,用于页面展示</span></span><br><span><span>示例值：张三</span></span></p></td></tr><tr><td><p><span><span>支付跳转链接</span></span></p></td><td><p><span><span>mweb_url</span></span></p></td><td><p><span><span>string[1,64]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>mweb_url为拉起微信支付收银台的中间页面，可通过访问该url来拉起微信客户端，完成支付,mweb_url的有效期为5分钟。</span></span><br><span><span>示例值：https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx2016121516420242444321ca0631331346&amp;package=1405458241</span></span></p></td></tr><tr><td><p><span><span>商户订单号</span></span></p></td><td><p><span><span>out_trade_no</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>商户订单号</span></span><br><span><span>示例值：123456</span></span></p></td></tr></tbody></table></div><div><h2><span>返回示例：</span></h2></div><p><span><span>正常示例</span></span></p><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;</span><span>
</span></span></span><span><span>2</span><span><span>&nbsp;&lt;return_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/return_code&gt;</span><span>
</span></span></span><span><span>3</span><span><span>&nbsp;&lt;result_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/result_code&gt;</span><span>
</span></span></span><span><span>4</span><span><span>&nbsp;&lt;appid&gt;&lt;![CDATA[wxcbda96de0b165486]]&gt;&lt;/appid&gt;</span><span>
</span></span></span><span><span>5</span><span><span>&nbsp;&lt;mch_id&gt;&lt;![CDATA[1200009811]]&gt;&lt;/mch_id&gt;</span><span>
</span></span></span><span><span>6</span><span><span>&nbsp;&lt;prepay_id&gt;&lt;![CDATA[wx201410272009395522657a690389285100]]&gt;&lt;/prepay_id&gt;</span><span>
</span></span></span><span><span>7</span><span><span>&nbsp;&lt;sign&gt;&lt;![CDATA[E1EE61A91C8E90F299DE6AE075D60A2D]]&gt;&lt;/sign&gt;</span><span>
</span></span></span><span><span>8</span><span><span>&nbsp;&lt;trade_type&gt;&lt;![CDATA[JSAPI]]&gt;&lt;/trade_type&gt;</span><span>
</span></span></span><span><span>9</span><span><span>&nbsp;&lt;code_url&gt;&lt;![CDATA[weixin：//wxpay/s/An4baqw]]&gt;&lt;/code_url&gt;</span><span>
</span></span></span><span><span>10</span><span><span>&nbsp;&lt;plan_id&gt;&lt;![CDATA[123]]&gt;&lt;/plan_id&gt;</span><span>
</span></span></span><span><span>11</span><span><span>&nbsp;&lt;out_trade_no&gt;&lt;![CDATA[123456]]&gt;&lt;/out_trade_no&gt;</span><span>
</span></span></span><span><span>12</span><span><span>&lt;/xml&gt;</span></span></span></pre></div><div><h2><span>错误码</span></h2></div><div><table><colgroup><col><col><col></colgroup><tbody><tr><th><p><span><span>错误码</span></span></p></th><th><p><span><span>描述</span></span></p></th><th><p><span><span>解决方案</span></span></p></th></tr><tr><td><p><span><span>SIGN_ERROR</span></span></p></td><td><p><span><span>签名错误</span></span></p></td><td><p><span><span>验证签名算法</span></span></p></td></tr><tr><td><p><span><span>PARAMETER&nbsp;FAIL</span></span></p></td><td><p><span><span>参数错误</span></span></p></td><td><p><span><span>验证参数</span></span></p></td></tr><tr><td><p><span><span>XML&nbsp;FAIL</span></span></p></td><td><p><span><span>XML格式错误</span></span></p></td><td><p><span><span>检查XML格式</span></span></p></td></tr><tr><td><p><span><span>RESULT&nbsp;NULL</span></span></p></td><td><p><span><span>查询为空</span></span></p></td><td><p><span><span>传入正确查询参数</span></span></p></td></tr><tr><td><p><span><span>MERCHANT&nbsp;PERMISSION ERROR</span></span></p></td><td><p><span><span>受理商户没有权限</span></span></p></td><td><p><span><span>确认商户权限</span></span></p></td></tr><tr><td><p><span><span>INVALID&nbsp;PLAN_ID</span></span></p></td><td><p><span><span>签约模板无效</span></span></p></td><td><p><span><span>检查正确模板id</span></span></p></td></tr><tr><td><p><span><span>CONTRACT_CODE&nbsp;DUPLICATION</span></span></p></td><td><p><span><span>该签约号已存在</span></span></p></td><td><p><span><span>contract_code已经被签约，请传入不重复的签约号</span></span></p></td></tr><tr><td><p><span><span>MERCHANT&nbsp;AUTHORITY ERROR</span></span></p></td><td><p><span><span>商户权限校验失败</span></span></p></td><td><p><span><span>联系相关接口人确认委托代扣权限</span></span></p></td></tr></tbody></table></div><p>&nbsp;</p></div></body></html></div><div></div></div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><div> 更多支持 </div><div><a>开发文档(服务商)</a><a>开发文档(V2版)</a><a>开发者社区</a><a>微信开放平台</a><a>微信公众平台</a><a>腾讯客服</a></div></div></div></div><div><div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><a><span>接口说明</span></a></div><div><a><span>请求参数</span></a></div><div><a><span>请求示例：</span></a></div><div><a><span>返回参数</span></a></div><div><a><span>返回示例：</span></a></div><div><a><span>错误码</span></a></div></div><div><a><i></i><span>AI开发助手</span></a></div></div><div><div><div><img><img><div> 元宝AI </div></div><div><div><img><img><div> 反馈 </div></div><div><img><img><div> 目录 </div></div><div><img><img><div> 置顶 </div></div></div></div></div></div></div></main><footer><div> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div> Powered By Tencent &amp; Tenpay<br>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>