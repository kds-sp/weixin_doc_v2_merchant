<!DOCTYPE html>
    <html>
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta />
        
    <title>查询退款_产品文档（V2）|微信支付商户文档中心</title><meta>
    <meta>
    
    
    
    
  
      </head>
      <body>
        
        <div><section><header><div><div><div><a><img></a></div><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div><div><div> 文档中心 </div><img></div></div></div><div><img><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div></div></header><section><div><div><div><div><a>产品文档（V2）</a><a>通用规则</a><a>SDK&amp;开发工具</a><a>更新日志</a></div></div><div><div><div><img><div>产品文档（V2）</div></div></div><div><button><span> 技术咨询 </span></button></div></div></div></div></section><section><aside><div><div><ul><li><section><p><span><span>支付产品</span></span><span></span></p><ul><li><section><p><span><span>付款码支付</span></span><span></span></p></section></li><li><section><p><span><span>JSAPI支付</span></span><span></span></p></section></li><li><section><p><span><span>Native支付</span></span><span></span></p></section></li><li><section><p><span><span>APP支付</span></span><span></span></p></section></li><li><section><p><span><span>H5支付</span></span><span></span></p><ul><li><div><a><span>支付账户</span></a></div></li><li><div><a><span>场景介绍</span></a></div></li><li><div><a><span>案例介绍</span></a></div></li><li><div><a><span>业务流程</span></a></div></li><li><div><a><span>协议规则</span></a></div></li><li><div><a><span>开发指引</span></a></div></li><li><div><a><span>获取用户ip指引</span></a></div></li><li><section><p><span><span>API列表</span></span><span></span></p><ul><li><div><a><span>统一下单</span></a></div></li><li><div><a><span>查询订单</span></a></div></li><li><div><a><span>关闭订单</span></a></div></li><li><div><a><span>申请退款</span></a></div></li><li><div><a><span>查询退款</span></a></div></li><li><div><a><span>下载交易账单</span></a></div></li><li><div><a><span>下载资金账单</span></a></div></li><li><div><a><span>支付结果通知</span></a></div></li><li><div><a><span>交易保障</span></a></div></li><li><div><a><span>退款结果通知</span></a></div></li></ul></section></li><li><div><a><span>常见问题</span></a></div></li></ul></section></li><li><section><p><span><span>小程序支付</span></span><span></span></p></section></li></ul></section></li><li><section><p><span><span>运营工具</span></span><span></span></p><ul><li><section><p><span><span>现金红包</span></span><span></span></p></section></li><li><section><p><span><span>小程序红包</span></span><span></span></p></section></li><li><section><p><span><span>付款到银行卡</span></span><span></span></p></section></li><li></li><li><section><p><span><span>委托代扣</span></span><span></span></p></section></li><li></li><li></li></ul></section></li><li><section><p><span><span>扩展工具</span></span><span></span></p><ul><li><section><p><span><span>分账</span></span><span></span></p></section></li><li><section><p><span><span>清关报关</span></span><span></span></p></section></li><li></li><li></li><li></li></ul></section></li></ul></div></div></aside><main><div><main><div><div><h1>查询退款</h1><span> 更新时间：2025.03.21</span><div><div><html><head></head><body><div><div><div><h2>应用场景</h2></div><div><p><span><span>提交退款申请后，通过调用该接口查询退款状态。退款有一定延时，用零钱支付的退款20分钟内到账，银行卡支付的退款3个工作日后重新查询退款状态。</span></span></p></div><table><tbody><tr><td><table><tbody><tr><td><svg><path></path></svg></td><td><div><p><span><span><span>注意：</span></span></span></p></div><p><span><span>1、如果单个支付订单部分退款次数超过20次请使用退款单号查询</span></span></p><div><p><span><span>2、如果该订单支付时间超过一年半，需单独使用微信订单号查询或者同时使用微信订单号和微信退款单号查询</span></span></p></div></td></tr></tbody></table></td></tr></tbody></table><div><h2>分页查询</h2></div><div><p><span><span>当一个订单部分退款超过10笔后，商户用微信订单号或商户订单号调退款查询API查询退款时，默认返回前10笔和total_refund_count（订单总退款次数）。商户需要查询同一订单下超过10笔的退款单时，可传入订单号及offset来查询，微信支付会返回offset及后面的10笔，以此类推。当商户传入的offset超过total_refund_count，则系统会返回报错PARAM_ERROR。</span></span></p></div><div><p><span><span>举例：&nbsp;</span></span></p></div><div><p><span><span>一笔订单下的退款单有36笔，当商户想查询第25笔时，可传入订单号及offset=24，微信支付平台会返回第25笔到第35笔的退款单信息，或商户可直接传入退款单号查询退款</span></span></p></div><div><h2>退款状态机</h2></div><div><p><span><span>退款状态变化如下：</span></span><br><span><img></span>&nbsp;</p></div><div><h2>接口地址</h2></div><div><p><span><span>接口链接：https://api.mch.weixin.qq.com/pay/refundquery</span></span></p></div><div><h2>是否需要证书</h2></div><div><p><span><span>不需要。</span></span></p></div><div><h3>请求参数</h3></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>公众账号ID</span></span></p></td><td><p><span><span>appid</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>wx8888888888888888</span></span></p></td><td><p><span><span>微信支付分配的公众账号ID（企业号corpid即为此appid）</span></span></p></td></tr><tr><td><p><span><span>商户号</span></span></p></td><td><p><span><span>mch_id</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>1900000109</span></span></p></td><td><p><span><span>微信支付分配的商户号</span></span></p></td></tr><tr><td><p><span><span>随机字符串</span></span></p></td><td><p><span><span>nonce_str</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></span></p></td><td><p><span><span>随机字符串，不长于32位。推荐</span></span><span><span><a>随机数生成算法</a></span></span></p></td></tr><tr><td><p><span><span>签名</span></span></p></td><td><p><span><span>sign</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>C380BEC2BFD727A4B6845133519F3AD6</span></span></p></td><td><p><span><span>签名，详见</span></span><span><span><a>签名生成算法</a></span></span></p></td></tr><tr><td><p><span><span>签名类型</span></span></p></td><td><p><span><span>sign_type</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>HMAC-SHA256</span></span></p></td><td><p><span><span>签名类型，目前支持HMAC-SHA256和MD5，默认为MD5</span></span></p></td></tr><tr><td><p><span><span>微信订单号</span></span></p></td><td><p><span><span>transaction_id</span></span></p></td><td><p><span><span>四选一</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>1217752501201407033233368018</span></span></p></td><td><p><span><span>微信订单号查询的优先级是：&nbsp;refund_id &gt; out_refund_no &gt; transaction_id &gt; out_trade_no</span></span></p></td></tr><tr><td><p><span><span>商户订单号</span></span></p></td><td><p><span><span>out_trade_no</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>1217752501201407033233368018</span></span></p></td><td><p><span><span>商户系统内部订单号，要求32个字符内（最少6个字符），只能是数字、大小写字母_-|*且在同一个商户号下唯一。详见</span></span><span><span><a>商户订单号</a></span></span></p></td></tr><tr><td><p><span><span>商户退款单号</span></span></p></td><td><p><span><span>out_refund_no</span></span></p></td><td><p><span><span>String(64)</span></span></p></td><td><p><span><span>1217752501201407033233368018</span></span></p></td><td><p><span><span>商户系统内部的退款单号，商户系统内部唯一，只能是数字、大小写字母_-|*@&nbsp;，同一退款单号多次请求只退一笔。</span></span></p></td></tr><tr><td><p><span><span>微信退款单号</span></span></p></td><td><p><span><span>refund_id</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>1217752501201407033233368018</span></span></p></td><td><p><span><span>微信生成的退款单号，在申请退款接口有返回</span></span></p></td></tr><tr><td><p><span><span>偏移量</span></span></p></td><td><p><span><span>offset</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>int</span></span></p></td><td><p><span><span>15</span></span></p></td><td><p><span><span>偏移量，当部分退款次数超过10次时可使用，表示返回的查询结果从这个偏移量开始取记录</span></span></p></td></tr></tbody></table></div><div><p><span><span>举例如下：</span></span></p></div><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;</span><span>
</span></span></span><span><span>2</span><span><span>&nbsp;&nbsp;&nbsp;&lt;appid&gt;wx2421b1c4370ec43b&lt;/appid&gt;</span><span>
</span></span></span><span><span>3</span><span><span>&nbsp;&nbsp;&nbsp;&lt;mch_id&gt;10000100&lt;/mch_id&gt;</span><span>
</span></span></span><span><span>4</span><span><span>&nbsp;&nbsp;&nbsp;&lt;nonce_str&gt;0b9f35f484df17a732e537c37708d1d0&lt;/nonce_str&gt;</span><span>
</span></span></span><span><span>5</span><span><span>&nbsp;&nbsp;&nbsp;&lt;out_refund_no&gt;&lt;/out_refund_no&gt;</span><span>
</span></span></span><span><span>6</span><span><span>&nbsp;&nbsp;&nbsp;&lt;out_trade_no&gt;1415757673&lt;/out_trade_no&gt;</span><span>
</span></span></span><span><span>7</span><span><span>&nbsp;&nbsp;&nbsp;&lt;refund_id&gt;&lt;/refund_id&gt;</span><span>
</span></span></span><span><span>8</span><span><span>&nbsp;&nbsp;&nbsp;&lt;transaction_id&gt;&lt;/transaction_id&gt;</span><span>
</span></span></span><span><span>9</span><span><span>&nbsp;&nbsp;&nbsp;&lt;sign&gt;66FFB727015F450D167EF38CCC549521&lt;/sign&gt;</span><span>
</span></span></span><span><span>10</span><span><span>&lt;/xml&gt;</span></span></span></pre></div><div><h2>返回数据</h2></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span>字段名</span></p></th><th><p><span>变量名</span></p></th><th><p><span>必填</span></p></th><th><p><span>类型</span></p></th><th><p><span>示例值</span></p></th><th><p><span>描述</span></p></th></tr><tr><td><p><span>返回状态码</span></p></td><td><p><span>return_code</span></p></td><td><p><span>是</span></p></td><td><p><span>String(16)</span></p></td><td><p><span>SUCCESS</span></p></td><td><p><span>SUCCESS/FAIL</span></p><p><span>此字段是通信标识，表示接口层的请求结果，并非退款状态。</span></p></td></tr><tr><td><p><span>返回信息</span></p></td><td><p><span>return_msg</span></p></td><td><p><span>是</span></p></td><td><p><span>String(128)</span></p></td><td><p><span>OK</span></p></td><td><p><span>当return_code为FAIL时返回信息为错误原因&nbsp;，例如</span></p><p><span>签名失败</span></p><p><span>参数格式校验错误</span></p></td></tr></tbody></table></div><div><p><span>以下字段在return_code为SUCCESS的时候有返回</span></p></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span>字段名</span></p></th><th><p><span>变量名</span></p></th><th><p><span>必填</span></p></th><th><p><span>类型</span></p></th><th><p><span>示例值</span></p></th><th><p><span>描述</span></p></th></tr><tr><td><p><span>业务结果</span></p></td><td><p><span>result_code</span></p></td><td><p><span>是</span></p></td><td><p><span>String(16)</span></p></td><td><p><span>SUCCESS</span></p></td><td><p><span>SUCCESS/FAIL</span></p><p><span>SUCCESS退款申请接收成功，退款结果以退款状态为准</span></p><p><span>FAIL</span></p></td></tr><tr><td><p><span>错误码</span></p></td><td><p><span>err_code</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>SYSTEMERROR</span></p></td><td><p><span>错误码详见第6节</span></p></td></tr><tr><td><p><span>错误描述</span></p></td><td><p><span>err_code_des</span></p></td><td><p><span>是</span></p></td><td><p><span>String(128)</span></p></td><td><p><span>系统错误</span></p></td><td><p><span>结果信息描述</span></p></td></tr><tr><td><p><span>公众账号ID</span></p></td><td><p><span>appid</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>wx8888888888888888</span></p></td><td><p><span>微信分配的公众账号ID（企业号corpid即为此appid）</span></p></td></tr><tr><td><p><span>商户号</span></p></td><td><p><span>mch_id</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>1900000109</span></p></td><td><p><span>微信支付分配的商户号</span></p></td></tr><tr><td><p><span>随机字符串</span></p></td><td><p><span>nonce_str</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></p></td><td><p><span>随机字符串，不长于32位</span></p></td></tr><tr><td><p><span>签名</span></p></td><td><p><span>sign</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>C380BEC2BFD727A4B6845133519F3AD6</span></p></td><td><p><span>签名，详见</span><span><span><a>签名算法</a></span></span></p></td></tr><tr><td><p><span>订单总退款次数</span></p></td><td><p><span>total_refund_count</span></p></td><td><p><span>否</span></p></td><td><p><span>int</span></p></td><td><p><span>35</span></p></td><td><p><span>订单总共已发生的部分退款次数，当请求参数传入offset后有返回</span></p></td></tr><tr><td><p><span>微信订单号</span></p></td><td><p><span>transaction_id</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>1217752501201407033233368018</span></p></td><td><p><span>微信订单号</span></p></td></tr><tr><td><p><span>商户订单号</span></p></td><td><p><span>out_trade_no</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>1217752501201407033233368018</span></p></td><td><p><span>商户系统内部订单号，要求32个字符内（最少6个字符），只能是数字、大小写字母_-|*且在同一个商户号下唯一。详见</span><span><span><a>商户订单号</a></span></span></p></td></tr><tr><td><p><span>订单金额</span></p></td><td><p><span>total_fee</span></p></td><td><p><span>是</span></p></td><td><p><span>int</span></p></td><td><p><span>100</span></p></td><td><p><span>订单总金额，单位为分，只能为整数，详见</span><span><span><a>支付金额</a></span></span></p></td></tr><tr><td><p><span>应结订单金额</span></p></td><td><p><span>settlement_total_fee</span></p></td><td><p><span>否</span></p></td><td><p><span>int</span></p></td><td><p><span>100</span></p></td><td><p><span>当订单使用了免充值型优惠券后返回该参数，应结订单金额=订单金额-免充值优惠券金额。</span></p></td></tr><tr><td><p><span>货币种类</span></p></td><td><p><span>fee_type</span></p></td><td><p><span>否</span></p></td><td><p><span>String(8)</span></p></td><td><p><span>CNY</span></p></td><td><p><span>订单金额货币类型，符合ISO&nbsp;4217标准的三位字母代码，默认人民币：CNY，其他值列表详见</span><span><span><a>货币类型</a></span></span></p></td></tr><tr><td><p><span>现金支付金额</span></p></td><td><p><span>cash_fee</span></p></td><td><p><span>是</span></p></td><td><p><span>int</span></p></td><td><p><span>100</span></p></td><td><p><span>现金支付金额，单位为分，只能为整数，详见</span><span><span><a>支付金额</a></span></span></p></td></tr><tr><td><p><span>退款笔数</span></p></td><td><p><span>refund_count</span></p></td><td><p><span>是</span></p></td><td><p><span>int</span></p></td><td><p><span>1</span></p></td><td><p><span>当前返回退款笔数</span></p></td></tr><tr><td><p><span>商户退款单号</span></p></td><td><p><span>out_refund_no_$n</span></p></td><td><p><span>是</span></p></td><td><p><span>String(64)</span></p></td><td><p><span>1217752501201407033233368018</span></p></td><td><p><span>商户系统内部的退款单号，商户系统内部唯一，只能是数字、大小写字母_-|*@&nbsp;，同一退款单号多次请求只退一笔。</span></p></td></tr><tr><td><p><span>微信退款单号</span></p></td><td><p><span>refund_id_$n</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>1217752501201407033233368018</span></p></td><td><p><span>微信退款单号</span></p></td></tr><tr><td><p><span>退款渠道</span></p></td><td><p><span>refund_channel_$n</span></p></td><td><p><span>否</span></p></td><td><p><span>String(16)</span></p></td><td><p><span>ORIGINAL</span></p></td><td><p><span>ORIGINAL—原路退款</span></p><p><span>BALANCE—退回到余额</span></p><p><span>OTHER_BALANCE—原账户异常退到其他余额账户</span></p><p><span>OTHER_BANKCARD—原银行卡异常退到其他银行卡</span></p></td></tr><tr><td><p><span>申请退款金额</span></p></td><td><p><span>refund_fee_$n</span></p></td><td><p><span>是</span></p></td><td><p><span>int</span></p></td><td><p><span>100</span></p></td><td><p><span>退款总金额,单位为分,可以做部分退款</span></p></td></tr><tr><td><p><span>退款总金额</span></p></td><td><p><span>refund_fee</span></p></td><td><p><span>是</span></p></td><td><p><span>int</span></p></td><td><p><span>100</span></p></td><td><p><span>各退款单的退款金额累加</span></p></td></tr><tr><td><p><span>代金券退款总金额</span></p></td><td><p><span>coupon_refund_fee</span></p></td><td><p><span>是</span></p></td><td><p><span>int</span></p></td><td><p><span>100</span></p></td><td><p><span>各退款单的代金券退款金额累加</span></p></td></tr><tr><td><p><span>退款金额</span></p></td><td><p><span>settlement_refund_fee_$n</span></p></td><td><p><span>否</span></p></td><td><p><span>int</span></p></td><td><p><span>100</span></p></td><td><p><span>退款金额=申请退款金额-非充值代金券退款金额，退款金额&lt;=申请退款金额</span></p></td></tr><tr><td><p><span>代金券类型</span></p></td><td><p><span>coupon_type_$n_$m</span></p></td><td><p><span>否</span></p></td><td><p><span>String(8)</span></p></td><td><p><span>CASH</span></p></td><td><p><span>CASH--充值代金券</span></p><p><span>NO_CASH---非充值优惠券</span></p><p><span>开通免充值券功能，并且订单使用了优惠券后有返回（取值：CASH、NO_CASH）。$n为下标,$m为下标,从0开始编号，举例：coupon_type_$0_$1</span></p></td></tr><tr><td><p><span>总代金券退款金额</span></p></td><td><p><span>coupon_refund_fee_$n</span></p></td><td><p><span>否</span></p></td><td><p><span>int</span></p></td><td><p><span>100</span></p></td><td><p><span>代金券退款金额&lt;=退款金额，退款金额-代金券或立减优惠退款金额为现金，说明详见</span><span><span><a>代金券或立减优惠</a></span></span></p></td></tr><tr><td><p><span>退款代金券使用数量</span></p></td><td><p><span>coupon_refund_count_$n</span></p></td><td><p><span>否</span></p></td><td><p><span>int</span></p></td><td><p><span>1</span></p></td><td><p><span>退款代金券使用数量&nbsp;,$n为下标,从0开始编号</span></p></td></tr><tr><td><p><span>退款代金券ID</span></p></td><td><p><span>coupon_refund_id_$n_$m</span></p></td><td><p><span>否</span></p></td><td><p><span>String(20)</span></p></td><td><p><span>10000&nbsp;</span></p></td><td><p><span>退款代金券ID,&nbsp;$n为下标，$m为下标，从0开始编号</span></p></td></tr><tr><td><p><span>单个代金券退款金额</span></p></td><td><p><span>coupon_refund_fee_$n_$m</span></p></td><td><p><span>否</span></p></td><td><p><span>int</span></p></td><td><p><span>100</span></p></td><td><p><span>单个退款代金券支付金额,&nbsp;$n为下标，$m为下标，从0开始编号</span></p></td></tr><tr><td><p><span>退款状态</span></p></td><td><p><span>refund_status_$n</span></p></td><td><p><span>是</span></p></td><td><p><span>String(16)</span></p></td><td><p><span>SUCCESS</span></p></td><td><p><span>退款状态：</span></p><p><span>SUCCESS—退款成功</span></p><p><span>REFUNDCLOSE—退款关闭，指商户发起退款失败的情况。</span></p><p><span>PROCESSING—退款处理中</span></p><p><span>CHANGE—退款异常，退款到银行发现用户的卡作废或者冻结了，导致原路退款银行卡失败，可前往商户平台（</span><span><a>pay.weixin.qq.com</a></span><span>）-交易中心，手动处理此笔退款。$n为下标，从0开始编号。</span></p></td></tr><tr><td><p><span>退款资金来源</span></p></td><td><p><span>refund_account_$n</span></p></td><td><p><span>否</span></p></td><td><p><span>String(30)</span></p></td><td><p><span>REFUND_SOURCE_RECHARGE_FUNDS</span></p></td><td><p><span>REFUND_SOURCE_RECHARGE_FUNDS---可用余额退款/基本账户</span></p><p><span>REFUND_SOURCE_UNSETTLED_FUNDS---未结算资金退款</span></p><p><span>$n为下标，从0开始编号。</span></p></td></tr><tr><td><p><span>退款入账账户</span></p></td><td><p><span>refund_recv_accout_$n</span></p></td><td><p><span>是</span></p></td><td><p><span>String(64)</span></p></td><td><p><span>招商银行信用卡0403</span></p></td><td><p><span>取当前退款单的退款入账方</span></p><p><span>1）退回银行卡：{银行名称}{卡类型}{卡尾号}</span></p><p><span>2）退回支付用户零钱:支付用户零钱</span></p><p><span>3）退还商户:商户基本账户</span><span><span>、</span></span><span>商户结算银行账户</span></p><p><span>4）退回支付用户零钱通:支付用户零钱通</span></p><p><span>5）退回用户经营账户：用户经营账户</span></p><p><span>6）退回支付用户银行电子账户：支付用户银行电子账户</span></p><p><span>7）退回支付用户零花钱：支付用户零花钱</span></p><p><span>8）退回支付用户来华零钱包：支付用户来华零钱包</span></p><p><span>9）退回企业支付商户：企业支付商户</span></p><p><span>10）退回支付用户小金罐：支付用户小金罐</span></p></td></tr><tr><td><p><span>退款成功时间</span></p></td><td><p><span>refund_success_time_$n</span></p></td><td><p><span>否</span></p></td><td><p><span>String(20)</span></p></td><td><p><span>2016-07-25&nbsp;15:26:26</span></p></td><td><p><span>退款成功时间，当退款状态为退款成功时有返回。$n为下标，从0开始编号。</span></p></td></tr><tr><td><p><span>用户退款金额</span></p></td><td><p><span>cash_refund_fee_$n</span></p></td><td><p><span>是</span></p></td><td><p><span>int</span></p></td><td><p><span>90</span></p></td><td><p><span>退款给用户的金额，不包含所有优惠券金额。$n为下标，从0开始编号。</span></p></td></tr></tbody></table></div><div><p><span>举例如下：</span></p></div><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;</span><span>
</span></span></span><span><span>2</span><span><span>&nbsp;&nbsp;&nbsp;&lt;appid&gt;&lt;![CDATA[wx8888888888888888]]&gt;&lt;/appid&gt;</span><span>
</span></span></span><span><span>3</span><span><span>&nbsp;&nbsp;&nbsp;&lt;mch_id&gt;&lt;![CDATA[1900000109]]&gt;&lt;/mch_id&gt;</span><span>
</span></span></span><span><span>4</span><span><span>&nbsp;&nbsp;&nbsp;&lt;nonce_str&gt;&lt;![CDATA[5K8264ILTKCH16CQ2502SI8ZNMTM67VS]]&gt;&lt;/nonce_str&gt;</span><span>
</span></span></span><span><span>5</span><span><span>&nbsp;&nbsp;&nbsp;&lt;out_trade_no&gt;&lt;![CDATA[1217752501201407033233368018]]&gt;&lt;/out_trade_no&gt;</span><span>
</span></span></span><span><span>6</span><span><span>&nbsp;&nbsp;&nbsp;&lt;refund_count&gt;1&lt;/refund_count&gt;</span><span>
</span></span></span><span><span>7</span><span><span>&nbsp;&nbsp;&nbsp;&lt;refund_fee_0&gt;1&lt;/refund_fee_0&gt;</span><span>
</span></span></span><span><span>8</span><span><span>&nbsp;&nbsp;&nbsp;&lt;refund_id_0&gt;&lt;![CDATA[2008450740201411110000174436]]&gt;&lt;/refund_id_0&gt;</span><span>
</span></span></span><span><span>9</span><span><span>&nbsp;&nbsp;&nbsp;&lt;refund_status_0&gt;&lt;![CDATA[PROCESSING]]&gt;&lt;/refund_status_0&gt;</span><span>
</span></span></span><span><span>10</span><span><span>&nbsp;&nbsp;&nbsp;&lt;result_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/result_code&gt;</span><span>
</span></span></span><span><span>11</span><span><span>&nbsp;&nbsp;&nbsp;&lt;return_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/return_code&gt;</span><span>
</span></span></span><span><span>12</span><span><span>&nbsp;&nbsp;&nbsp;&lt;return_msg&gt;&lt;![CDATA[OK]]&gt;&lt;/return_msg&gt;</span><span>
</span></span></span><span><span>13</span><span><span>&nbsp;&nbsp;&nbsp;&lt;cash_refund_fee&gt;&lt;![CDATA[90]]&gt;&lt;/cash_refund_fee&gt;</span><span>
</span></span></span><span><span>14</span><span><span>&nbsp;&nbsp;&nbsp;&lt;sign&gt;&lt;![CDATA[1F2841558E233C33ABA71A961D27561C]]&gt;&lt;/sign&gt;</span><span>
</span></span></span><span><span>15</span><span><span>&nbsp;&nbsp;&nbsp;&lt;transaction_id&gt;&lt;![CDATA[1008450740201411110005820873]]&gt;&lt;/transaction_id&gt;</span><span>
</span></span></span><span><span>16</span><span><span>&lt;/xml&gt;</span></span></span></pre></div><div><h2>错误码</h2></div><div><table><colgroup><col><col><col><col></colgroup><tbody><tr><th><p><span>名称</span></p></th><th><p><span>描述</span></p></th><th><p><span>原因</span></p></th><th><p><span>解决方案</span></p></th></tr><tr><td><p><span>SYSTEMERROR</span></p></td><td><p><span>接口返回错误</span></p></td><td><p><span>系统超时</span></p></td><td><p><span>请尝试再次调用API。</span></p></td></tr><tr><td><p><span>REFUNDNOTEXIST</span></p></td><td><p><span>退款订单查询失败</span></p></td><td><p><span>订单号错误或订单状态不正确</span></p></td><td><p><span>请检查订单号是否有误以及订单状态是否正确，如：未支付、已支付未退款</span></p></td></tr><tr><td><p><span>INVALID_TRANSACTIONID</span></p></td><td><p><span>无效transaction_id</span></p></td><td><p><span>请求参数未按指引进行填写</span></p></td><td><p><span>请求参数错误，检查原交易号是否存在或发起支付交易接口返回失败</span></p></td></tr><tr><td><p><span>PARAM_ERROR</span></p></td><td><p><span>参数错误</span></p></td><td><p><span>请求参数未按指引进行填写</span></p></td><td><p><span>请求参数错误，请检查参数再调用退款申请</span></p></td></tr><tr><td><p><span>APPID_NOT_EXIST</span></p></td><td><p><span>APPID不存在</span></p></td><td><p><span>参数中缺少APPID</span></p></td><td><p><span>请检查APPID是否正确</span></p></td></tr><tr><td><p><span>MCHID_NOT_EXIST</span></p></td><td><p><span>MCHID不存在</span></p></td><td><p><span>参数中缺少MCHID</span></p></td><td><p><span>请检查MCHID是否正确</span></p></td></tr><tr><td><p><span>REQUIRE_POST_METHOD</span></p></td><td><p><span>请使用post方法</span></p></td><td><p><span>未使用post传递参数&nbsp;</span></p></td><td><p><span>请检查请求参数是否通过post方法提交</span></p></td></tr><tr><td><p><span>SIGNERROR</span></p></td><td><p><span>签名错误</span></p></td><td><p><span>参数签名结果不正确</span></p></td><td><p><span>请检查签名参数和方法是否都符合签名算法要求</span></p></td></tr><tr><td><p><span>XML_FORMAT_ERROR</span></p></td><td><p><span>XML格式错误</span></p></td><td><p><span>XML格式错误</span></p></td><td><p><span>请检查XML参数格式是否正确</span></p></td></tr><tr><td><p><span>INVALID_REQUEST</span></p></td><td><p><span>请求参数符合参数格式，但不符合业务规则</span></p></td><td><p><span>此状态代表退款申请失败，商户可根据具体的错误提示做相应的处理。</span></p></td><td><p><span>此状态代表退款申请失败，商户可根据具体的错误提示做相应的处理。</span></p></td></tr></tbody></table></div><p>&nbsp;</p></div><p>&nbsp;</p></div></body></html></div><div></div></div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><div> 更多支持 </div><div><a>开发文档(服务商)</a><a>开发文档(V2版)</a><a>开发者社区</a><a>微信开放平台</a><a>微信公众平台</a><a>腾讯客服</a></div></div></div></div><div><div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><a><span>应用场景</span></a></div><div><a><span>分页查询</span></a></div><div><a><span>退款状态机</span></a></div><div><a><span>接口地址</span></a></div><div><a><span>是否需要证书</span></a></div><div><a><span>请求参数</span></a></div><div><a><span>返回数据</span></a></div><div><a><span>错误码</span></a></div></div><div><a><i></i><span>AI开发助手</span></a></div></div><div><div><div><img><img><div> 元宝AI </div></div><div><div><img><img><div> 反馈 </div></div><div><img><img><div> 目录 </div></div><div><img><img><div> 置顶 </div></div></div></div></div></div></div></main><footer><div> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div> Powered By Tencent &amp; Tenpay<br>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>