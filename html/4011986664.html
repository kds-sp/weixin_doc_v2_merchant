<!DOCTYPE html>
    <html>
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta />
        
    <title>协议规则_产品文档（V2）|微信支付商户文档中心</title><meta>
    <meta>
    
    
    
    
  
      </head>
      <body>
        
        <div><section><header><div><div><div><a><img></a></div><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div><div><div> 文档中心 </div><img></div></div></div><div><img><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div></div></header><section><div><div><div><div><a>产品文档（V2）</a><a>通用规则</a><a>SDK&amp;开发工具</a><a>更新日志</a></div></div><div><div><div><img><div>产品文档（V2）</div></div></div><div><button><span> 技术咨询 </span></button></div></div></div></div></section><section><aside><div><div><ul><li><section><p><span><span>支付产品</span></span><span></span></p><ul><li><section><p><span><span>付款码支付</span></span><span></span></p></section></li><li><section><p><span><span>JSAPI支付</span></span><span></span></p></section></li><li><section><p><span><span>Native支付</span></span><span></span></p></section></li><li><section><p><span><span>APP支付</span></span><span></span></p></section></li><li><section><p><span><span>H5支付</span></span><span></span></p></section></li><li><section><p><span><span>小程序支付</span></span><span></span></p></section></li></ul></section></li><li><section><p><span><span>运营工具</span></span><span></span></p><ul><li><section><p><span><span>现金红包</span></span><span></span></p><ul><li><div><a><span>支付账户</span></a></div></li><li><div><a><span>产品说明</span></a></div></li><li><div><a><span>协议规则</span></a></div></li><li><div><a><span>操作指导</span></a></div></li><li><section><p><span><span>API列表</span></span><span></span></p></section></li><li><div><a><span>常见问题</span></a></div></li></ul></section></li><li><section><p><span><span>小程序红包</span></span><span></span></p></section></li><li><section><p><span><span>付款到银行卡</span></span><span></span></p></section></li><li></li><li><section><p><span><span>委托代扣</span></span><span></span></p></section></li><li></li><li></li></ul></section></li><li><section><p><span><span>扩展工具</span></span><span></span></p><ul><li><section><p><span><span>分账</span></span><span></span></p></section></li><li><section><p><span><span>清关报关</span></span><span></span></p></section></li><li></li><li></li><li></li></ul></section></li></ul></div></div></aside><main><div><main><div><div><h1>协议规则</h1><span> 更新时间：2024.11.18</span><div><div><html><head></head><body><div><div><div><p><span><span>商户接入微信支付，调用API必须遵循以下规则：</span></span></p></div><div><table><colgroup><col><col></colgroup><tbody><tr><th><p><span><span><span>传输方式</span></span></span></p></th><td><p><span><span>为保证交易安全性，采用HTTPS传输</span></span></p></td></tr><tr><th><p><span><span><span>提交方式</span></span></span></p></th><td><p><span><span>采用POST方法提交</span></span></p></td></tr><tr><th><p><span><span><span>数据格式</span></span></span></p></th><td><p><span><span>提交和返回数据都为XML格式，根节点名为xml</span></span></p></td></tr><tr><th><p><span><span><span>字符编码</span></span></span></p></th><td><p><span><span>微信支付API v2仅支持UTF-8字符编码的一个子集：使用一至三个字节编码的字符。也就是说，不支持Unicode辅助平面中的四至六字节编码的字符。</span></span></p></td></tr><tr><th><p><span><span><span>签名算法</span></span></span></p></th><td><p><span><span>MD5，后续会兼容SHA1、SHA256、HMAC等。</span></span></p></td></tr><tr><th><p><span><span><span>签名要求</span></span></span></p></th><td><p><span><span>请求和接收数据均需要校验签名，详细方法请参考</span></span><span><span><a>安全规范-签名算法</a></span></span></p></td></tr><tr><th><p><span><span><span>证书要求</span></span></span></p></th><td><p><span><span>调用申请退款、撤销订单接口需要商户证书</span></span></p></td></tr><tr><th><p><span><span><span>判断逻辑</span></span></span></p></th><td><p><span><span>先判断协议字段返回，再判断业务返回，最后判断交易状态</span></span></p></td></tr></tbody></table></div><p>&nbsp;</p></div><p>&nbsp;</p></div></body></html></div><div></div></div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><div> 更多支持 </div><div><a>开发文档(服务商)</a><a>开发文档(V2版)</a><a>开发者社区</a><a>微信开放平台</a><a>微信公众平台</a><a>腾讯客服</a></div></div></div></div><div><div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><a><i></i><span>AI开发助手</span></a></div></div><div><div><div><img><img><div> 元宝AI </div></div><div><div><img><img><div> 反馈 </div></div><div><img><img><div> 目录 </div></div><div><img><img><div> 置顶 </div></div></div></div></div></div></div></main><footer><div> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div> Powered By Tencent &amp; Tenpay<br>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>