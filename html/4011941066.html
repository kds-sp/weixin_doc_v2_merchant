<!DOCTYPE html>
    <html>
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta />
        
    <title>查询付款银行API_产品文档（V2）|微信支付商户文档中心</title><meta>
    <meta>
    
    
    
    
  
      </head>
      <body>
        
        <div><section><header><div><div><div><a><img></a></div><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div><div><div> 文档中心 </div><img></div></div></div><div><img><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div></div></header><section><div><div><div><div><a>产品文档（V2）</a><a>通用规则</a><a>SDK&amp;开发工具</a><a>更新日志</a></div></div><div><div><div><img><div>产品文档（V2）</div></div></div><div><button><span> 技术咨询 </span></button></div></div></div></div></section><section><aside><div><div><ul><li><section><p><span><span>支付产品</span></span><span></span></p><ul><li><section><p><span><span>付款码支付</span></span><span></span></p></section></li><li><section><p><span><span>JSAPI支付</span></span><span></span></p></section></li><li><section><p><span><span>Native支付</span></span><span></span></p></section></li><li><section><p><span><span>APP支付</span></span><span></span></p></section></li><li><section><p><span><span>H5支付</span></span><span></span></p></section></li><li><section><p><span><span>小程序支付</span></span><span></span></p></section></li></ul></section></li><li><section><p><span><span>运营工具</span></span><span></span></p><ul><li><section><p><span><span>现金红包</span></span><span></span></p></section></li><li><section><p><span><span>小程序红包</span></span><span></span></p></section></li><li><section><p><span><span>付款到银行卡</span></span><span></span></p><ul><li><div><a><span>支付账户</span></a></div></li><li><div><a><span>场景介绍</span></a></div></li><li><div><a><span>协议规则</span></a></div></li><li><div><a><span>银行编号列表</span></a></div></li><li><section><p><span><span>API列表</span></span><span></span></p><ul><li><div><a><span>付款到银行卡API</span></a></div></li><li><div><a><span>查询付款银行API</span></a></div></li><li><div><a><span>获取RSA加密公钥API</span></a></div></li></ul></section></li></ul></section></li><li></li><li><section><p><span><span>委托代扣</span></span><span></span></p></section></li><li></li><li></li></ul></section></li><li><section><p><span><span>扩展工具</span></span><span></span></p><ul><li><section><p><span><span>分账</span></span><span></span></p></section></li><li><section><p><span><span>清关报关</span></span><span></span></p></section></li><li></li><li></li><li></li></ul></section></li></ul></div></div></aside><main><div><main><div><div><h1>查询付款银行API</h1><span> 更新时间：2024.11.13</span><div><div><html><head></head><body><div><div><h2><span>简介</span></h2></div><div><p><span><span>用于对商户付款到银行卡操作进行结果查询，返回付款操作详细结果。</span></span></p></div><table><tbody><tr><td><table><tbody><tr><td><svg><path></path></svg></td><td><div><p><span><span>注意事项：</span></span></p></div><ul><li><p><span><span>如果查询单号对应的数据不存在，那么数据不存在的原因可能是：（1）付款还在处理中；（2）付款处理失败导致付款订单没有落地。在上述情况下，商户首先需要检查该商户订单号是否确实是自己发起的，如果商户确认是自己发起的，则请商户不要直接当做付款失败处理，请商户隔几分钟再尝试查询（请勿付款和查询并发处理），或者商户可以通过相同的商户订单号再次发起付款（支持2个自然日内的单据，超过2个自然日请确认付款失败后再换单发起）。如果商户误把还在付款处理中的订单直接当付款失败处理，商户应当自行承担因此产生的所有损失和责任。</span></span></p></li><li><p><span><span>XML具有可扩展性，因此返回参数可能会有新增，而且顺序可能不完全遵循此文档规范，如果在解析回包的时候发生错误，请商户务必不要换单重试，请商户联系客服确认付款情况。如果有新回包字段，会更新到此API文档中。</span></span></p></li><li><p><span><span>因为错误代码字段err_code的值后续可能会增加，所以商户如果遇到回包返回新的错误码，请商户务必不要换单重试，请商户联系客服确认付款情况。如果有新的错误码，会更新到此API文档中。</span></span></p></li><li><p><span><span>错误代码描述字段err_code_des和失败原因字段reason只供人工定位问题时做参考，系统实现时不要依赖这个字段来做自动化处理。</span></span></p></li></ul></td></tr></tbody></table></td></tr></tbody></table><div><h2>接口调用请求说明</h2></div><div><table><colgroup><col><col></colgroup><tbody><tr><th><p><span><span>请求Url</span></span></p></th><th><p><span><span>https://api.mch.weixin.qq.com/mmpaysptrans/query_bank</span></span></p></th></tr><tr><td><p><span><span>是否需要证书</span></span></p></td><td><p><span><span>是（证书及使用说明详见</span></span><span><span><a>商户证书</a></span></span><span>）</span></p></td></tr><tr><td><p><span><span>请求方式</span></span></p></td><td><p><span><span>POST</span></span></p></td></tr><tr><td><p><span><span>接口调用频率限制</span></span></p></td><td><p><span><span>30/s</span></span></p></td></tr></tbody></table></div><div><h2>请求参数</h2></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>字段</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>说明</span></span></p></th></tr><tr><td><p><span><span>商户号</span></span></p></td><td><p><span><span>mch_id</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>1900000109</span></span></p></td><td><p><span><span>string(32)</span></span></p></td><td><p><span><span>微信支付分配的商户号</span></span></p></td></tr><tr><td><p><span><span>商户付款单号</span></span></p></td><td><p><span><span>partner_trade_no</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>1212121221227</span></span></p></td><td><p><span><span>string(32)</span></span></p></td><td><p><span><span>商户订单号，需保持唯一（只允许数字[0~9]或字母[A~Z]和[a~z]最短8位，最长32位）</span></span></p></td></tr><tr><td><p><span><span>随机字符串</span></span></p></td><td><p><span><span>nonce_str</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>5K8264ILTKCH16CQ2502SI8ZNMTM67Vs</span></span></p></td><td><p><span><span>string(32)</span></span></p></td><td><p><span><span>随机字符串，长度小于32位</span></span></p></td></tr><tr><td><p><span><span>签名</span></span></p></td><td><p><span><span>sign</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>C380BEC2BFD727A4B6845133519F3AD6</span></span></p></td><td><p><span><span>string(32)</span></span></p></td><td><p><span><span>通过签名算法计算得出的签名值，详见</span></span><span><span><a>签名生成算法</a></span></span></p></td></tr></tbody></table></div><div><p><span><span>数据示例：</span></span></p></div><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;</span><span>
</span></span></span><span><span>2</span><span><span>&lt;mch_id&gt;2302758702&lt;/mch_id&gt;</span><span>
</span></span></span><span><span>3</span><span><span>&lt;nonce_str&gt;50780e0cca98c8c8e814883e5caa672e&lt;/nonce_str&gt;</span><span>
</span></span></span><span><span>4</span><span><span>&lt;partner_trade_no&gt;1212121221278&lt;/partner_trade_no&gt;</span><span>
</span></span></span><span><span>5</span><span><span>&lt;sign&gt;34bf02fe5b20f117365ef6f5d0436be1&lt;/sign&gt;</span><span>
</span></span></span><span><span>6</span><span><span>&lt;/xml&gt;</span></span></span></pre></div><div><h2>返回参数</h2></div><div><table><colgroup><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>说明</span></span></p></th></tr><tr><td><p><span><span>返回状态码</span></span></p></td><td><p><span><span>return_code</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>SUCCESS/FAIL</span></span></p><p><span><span>此字段是通信标识，非付款标识，付款是否成功需要查看result_code来判断</span></span></p></td></tr><tr><td><p><span><span>返回信息</span></span></p></td><td><p><span><span>return_msg</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>返回信息，如非空，为错误原因</span></span></p><p><span><span>签名失败</span></span></p><p><span><span>参数格式校验错误</span></span></p></td></tr><tr><td><p><span><span>以下字段在return_code为SUCCESS的时候有返回</span></span></p></td></tr><tr><td><p><span><span>业务结果</span></span></p></td><td><p><span><span>result_code</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>SUCCESS/FAIL，非付款标识，付款是否成功需要查看status字段来判断</span></span></p></td></tr><tr><td><p><span><span>错误代码</span></span></p></td><td><p><span><span>err_code</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>错误码信息</span></span></p></td></tr><tr><td><p><span><span>错误代码描述</span></span></p></td><td><p><span><span>err_code_des</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>结果信息描述</span></span></p></td></tr><tr><td><p><span><span>以下字段在return_code&nbsp;和result_code都为SUCCESS的时候有返回</span></span></p></td></tr><tr><td><p><span><span>商户号</span></span></p></td><td><p><span><span>mch_id</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>string(32)</span></span></p></td><td><p><span><span>商户号</span></span></p></td></tr><tr><td><p><span><span>商户付款单号</span></span></p></td><td><p><span><span>partner_trade_no</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>string(32)</span></span></p></td><td><p><span><span>商户单号</span></span></p></td></tr><tr><td><p><span><span>微信付款单号</span></span></p></td><td><p><span><span>payment_no</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>string(64)</span></span></p></td><td><p><span><span>即为微信内部业务单号</span></span></p></td></tr><tr><td><p><span><span>银行卡号</span></span></p></td><td><p><span><span>bank_no_md5</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>string(32)</span></span></p></td><td><p><span><span>收款用户银行卡号(MD5加密)</span></span></p></td></tr><tr><td><p><span><span>用户真实姓名</span></span></p></td><td><p><span><span>true_name_md5</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>string(32)</span></span></p></td><td><p><span><span>收款人真实姓名（MD5加密）</span></span></p></td></tr><tr><td><p><span><span>代付金额</span></span></p></td><td><p><span><span>amount</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>int</span></span></p></td><td><p><span><span>代付订单金额RMB：分</span></span></p></td></tr><tr><td><p><span><span>代付单状态</span></span></p></td><td><p><span><span>status</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>string(16)</span></span></p></td><td><p><span><span>代付订单状态：</span></span></p><ol><li><p><span><span>PROCESSING（处理中，如有明确失败，则返回额外失败原因；否则没有错误原因）</span></span></p></li><li><p><span><span>SUCCESS（付款成功）</span></span></p></li><li><p><span><span>FAILED（付款失败,需要替换付款单号重新发起付款）</span></span></p></li><li><p><span><span>BANK_FAIL（银行退票，订单状态由付款成功流转至退票,退票时付款金额和手续费会自动退还）</span></span></p></li></ol></td></tr><tr><td><p><span><span>手续费金额</span></span></p></td><td><p><span><span>cmms_amt</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>int</span></span></p></td><td><p><span><span>手续费订单金额 RMB：分</span></span></p></td></tr><tr><td><p><span><span>商户下单时间</span></span></p></td><td><p><span><span>create_time</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>微信侧订单创建时间</span></span></p></td></tr><tr><td><p><span><span>成功付款时间</span></span></p></td><td><p><span><span>pay_succ_time</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>微信侧付款成功时间（依赖银行的处理进度，可能出现延迟返回，甚至被银行退票的情况）</span></span></p></td></tr><tr><td><p><span><span>失败原因</span></span></p></td><td><p><span><span>reason</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>订单失败原因（如：余额不足）</span></span></p></td></tr></tbody></table></div><div><p><span><span>成功示例：</span></span></p></div><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;</span><span>
</span></span></span><span><span>2</span><span><span>&lt;return_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/return_code&gt;</span><span>
</span></span></span><span><span>3</span><span><span>&lt;return_msg&gt;&lt;![CDATA[ok]]&gt;&lt;/return_msg&gt;</span><span>
</span></span></span><span><span>4</span><span><span>&lt;result_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/result_code&gt;</span><span>
</span></span></span><span><span>5</span><span><span>&lt;err_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/err_code&gt;</span><span>
</span></span></span><span><span>6</span><span><span>&lt;err_code_des&gt;&lt;![CDATA[ok]]&gt;&lt;/err_code_des&gt;</span><span>
</span></span></span><span><span>7</span><span><span>&lt;mch_id&gt;&lt;![CDATA[2302758702]]&gt;&lt;/mch_id&gt;</span><span>
</span></span></span><span><span>8</span><span><span>&lt;partner_trade_no&gt;&lt;![CDATA[1212121221278]]&gt;&lt;/partner_trade_no&gt;</span><span>
</span></span></span><span><span>9</span><span><span>&lt;payment_no&gt;&lt;![CDATA[10000600500852017030900000020006012]]&gt;&lt;/payment_no&gt;</span><span>
</span></span></span><span><span>10</span><span><span>&lt;bank_no_md5&gt;&lt;![CDATA[2260AB5EF3D290E28EFD3F74FF7A29A0]]&gt;&lt;/bank_no_md5&gt;</span><span>
</span></span></span><span><span>11</span><span><span>&lt;true_name_md5&gt;&lt;![CDATA[7F25B325D37790764ABA55DAD8D09B76]]&gt;&lt;/true_name_md5&gt;</span><span>
</span></span></span><span><span>12</span><span><span>&lt;amount&gt;500&lt;/amount&gt;</span><span>
</span></span></span><span><span>13</span><span><span>&lt;status&gt;&lt;![CDATA[处理中]]&gt;&lt;/status&gt;</span><span>
</span></span></span><span><span>14</span><span><span>&lt;cmms_amt&gt;0&lt;/cmms_amt&gt;</span><span>
</span></span></span><span><span>15</span><span><span>&lt;create_time&gt;&lt;![CDATA[2017-03-09 15:04:04]]&gt;&lt;/create_time&gt;</span><span>
</span></span></span><span><span>16</span><span><span>&lt;reason&gt;&lt;![CDATA[]]&gt;&lt;/reason&gt;</span><span>
</span></span></span><span><span>17</span><span><span>&lt;/xml&gt;</span></span></span></pre></div><div><p><span>错误示例：</span></p></div><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;</span><span>
</span></span></span><span><span>2</span><span><span>&lt;return_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/return_code&gt;</span><span>
</span></span></span><span><span>3</span><span><span>&lt;return_msg&gt;&lt;![CDATA[订单不存在，请核实后再查]]&gt;&lt;/return_msg&gt;</span><span>
</span></span></span><span><span>4</span><span><span>&lt;result_code&gt;&lt;![CDATA[FAIL]]&gt;&lt;/result_code&gt;</span><span>
</span></span></span><span><span>5</span><span><span>&lt;err_code&gt;&lt;![CDATA[ORDERNOTEXIST]]&gt;&lt;/err_code&gt;</span><span>
</span></span></span><span><span>6</span><span><span>&lt;err_code_des&gt;&lt;![CDATA[订单不存在，请核实后再查]]&gt;&lt;/err_code_des&gt;</span><span>
</span></span></span><span><span>7</span><span><span>&lt;/xml&gt;</span></span></span></pre></div><div><h2>错误码</h2></div><div><table><colgroup><col><col><col></colgroup><tbody><tr><th><p><span>错误代码</span></p></th><th><p><span>描述</span></p></th><th><p><span>解决方案</span></p></th></tr><tr><td><p><span>INVALID_REQUEST</span></p></td><td><p><span>无效的请求，商户系统异常导致，商户权限异常、证书错误、频率限制等</span></p></td><td><p><span>使用原单号以及原请求参数重试</span></p></td></tr><tr><td><p><span>PARAM_ERROR</span></p></td><td><p><span>参数错误</span></p></td><td><p><span>按照err_msg指定参数错误信息，修改相应参数</span></p></td></tr><tr><td><p><span>SIGNERROR</span></p></td><td><p><span>签名错误</span></p></td><td><p><span>签名前没有按照要求进行排序。没有使用商户平台设置的密钥进行签名，参数有空格或者进行了encode后进行签名</span></p></td></tr><tr><td><p><span>ORDERNOTEXIST</span></p></td><td><p><span>订单不存在</span></p></td><td><p><span>确认订单号是否发起过请求</span></p></td></tr><tr><td><p><span>SYSTEMERROR</span></p></td><td><p><span>系统繁忙，请稍后重试</span></p></td><td><p><span>使用原单号以及原请求参数重试</span></p></td></tr><tr><td><p><span>SUCCESS</span></p></td><td><p><span>Wx侧查询成功</span></p></td><td><p><span>-</span></p></td></tr><tr><td><p><span>NOT_FOUND</span></p></td><td><p><span>1、指定单号数据不存在 2、指定单号数据不存在，单据查询超过有效期</span></p></td><td><p><span>1、查询单号对应的数据不存在，请使用正确的商户订单号查询</span></p><p><span>2、如需查询超过有效期的单据，请登录到商户平台进行查询</span></p></td></tr></tbody></table></div><p>&nbsp;</p></div></body></html></div><div></div></div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><div> 更多支持 </div><div><a>开发文档(服务商)</a><a>开发文档(V2版)</a><a>开发者社区</a><a>微信开放平台</a><a>微信公众平台</a><a>腾讯客服</a></div></div></div></div><div><div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><a><span>简介</span></a></div><div><a><span>接口调用请求说明</span></a></div><div><a><span>请求参数</span></a></div><div><a><span>返回参数</span></a></div><div><a><span>错误码</span></a></div></div><div><a><i></i><span>AI开发助手</span></a></div></div><div><div><div><img><img><div> 元宝AI </div></div><div><div><img><img><div> 反馈 </div></div><div><img><img><div> 目录 </div></div><div><img><img><div> 置顶 </div></div></div></div></div></div></div></main><footer><div> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div> Powered By Tencent &amp; Tenpay<br>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>