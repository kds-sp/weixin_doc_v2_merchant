<!DOCTYPE html>
    <html>
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta />
        
    <title>APP调起签约_产品文档（V2）|微信支付商户文档中心</title><meta>
    <meta>
    
    
    
    
  
      </head>
      <body>
        
        <div><section><header><div><div><div><a><img></a></div><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div><div><div> 文档中心 </div><img></div></div></div><div><img><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div></div></header><section><div><div><div><div><a>产品文档（V2）</a><a>通用规则</a><a>SDK&amp;开发工具</a><a>更新日志</a></div></div><div><div><div><img><div>产品文档（V2）</div></div></div><div><button><span> 技术咨询 </span></button></div></div></div></div></section><section><aside><div><div><ul><li><section><p><span><span>支付产品</span></span><span></span></p><ul><li><section><p><span><span>付款码支付</span></span><span></span></p></section></li><li><section><p><span><span>JSAPI支付</span></span><span></span></p></section></li><li><section><p><span><span>Native支付</span></span><span></span></p></section></li><li><section><p><span><span>APP支付</span></span><span></span></p></section></li><li><section><p><span><span>H5支付</span></span><span></span></p></section></li><li><section><p><span><span>小程序支付</span></span><span></span></p></section></li></ul></section></li><li><section><p><span><span>运营工具</span></span><span></span></p><ul><li><section><p><span><span>现金红包</span></span><span></span></p></section></li><li><section><p><span><span>小程序红包</span></span><span></span></p></section></li><li><section><p><span><span>付款到银行卡</span></span><span></span></p></section></li><li></li><li><section><p><span><span>委托代扣</span></span><span></span></p><ul><li><div><a><span>产品介绍</span></a></div></li><li><section><p><span><span>接入指引</span></span><span></span></p></section></li><li><section><p><span><span>API列表</span></span><span></span></p><ul><li><section><p><span><span>纯签约API</span></span><span></span></p><ul><li><div><a><span>公众号纯签约</span></a></div></li><li><div><a><span>APP纯签约</span></a></div></li><li><div><a><span>小程序纯签约</span></a></div></li><li><div><a><span>H5纯签约</span></a></div></li><li><div><a><span>APP调起签约</span></a></div></li></ul></section></li><li><section><p><span><span>支付中签约</span></span><span></span></p></section></li><li><section><p><span><span>扣款及解约API</span></span><span></span></p></section></li><li><section><p><span><span>查询及回调通知API</span></span><span></span></p></section></li><li><section><p><span><span>基础API</span></span><span></span></p></section></li></ul></section></li><li><div><a><span>常见问题</span></a></div></li></ul></section></li><li></li><li></li></ul></section></li><li><section><p><span><span>扩展工具</span></span><span></span></p><ul><li><section><p><span><span>分账</span></span><span></span></p></section></li><li><section><p><span><span>清关报关</span></span><span></span></p></section></li><li></li><li></li><li></li></ul></section></li></ul></div></div></aside><main><div><main><div><div><h1>APP调起签约</h1><span> 更新时间：2025.09.18</span><div><div><html><head></head><body><div><h2><span><span>简介</span></span></h2><div><p><span><span>商户在完成“委托代扣APP预签约”后，可在移动端应用APP中集成开放SDK调起微信，请求用户签约。</span></span></p></div><div><h2><span><span>接入前注意事项</span></span></h2></div><div><p><span><span>在接入前需详细阅读下方说明：</span></span></p></div><ul><li><p><span><span>该能力依赖微信</span></span><span><span><a>Open&nbsp;SDK</a></span></span><span>，需按照指引在</span><span><span><a>微信开放平台</a></span></span><span>申请开通移动应用的微信支付能力，以完成相关初始化配置</span></p></li><li><p><span>商户在使用WXLaunchMiniProgram调起APP签约前，需要邮件申请，请参考</span><span><a>委托代扣-APP纯签约申请流程</a></span></p></li><li><p><span><span>预签约成功后，首次调起微信有严格的时间限制：需在&nbsp;2 分钟内调起微信（该时间将来会调整，最短可能缩短至 20 秒）。因此，</span></span><span><span><span>建议在确认用户有签约意愿后再发起预签约，且预签约一旦成功，需立即通过&nbsp;SDK 调起微信</span></span></span><span><span>，以确保流程顺利进行</span></span></p></li></ul><div><h2><span><span>接口说明</span></span></h2></div><div><p><span><span><span>接口名称：</span></span></span><span><span>WXLaunchMiniProgram</span></span></p></div><div><p><span><span>注意事项</span></span><span>：</span><span><span>移动应用需要上架，开放平台账号需要已通过认证。参考文档：</span></span><span><span><a>功能介绍</a></span></span></p></div><div><p><span><span>Android</span></span></p></div><ul><li><p><span><span>Android&nbsp;openSDK下载地址（版本&gt;=5.3.1）：</span></span><span><span><a>Android资源下载</a></span></span></p></li><li><p><span><span>Android&nbsp;接入文档链接：</span></span><span><span><a>openSDK说明文档</a></span></span></p></li></ul><div><p><span><span>iOS</span></span></p></div><ul><li><p><span><span>iOS&nbsp;openSDK下载地址（版本&gt;=1.8.4）：</span></span><span><span><a>iOS资源下载</a></span></span></p></li><li><p><span><span>iOS&nbsp;接入文档链接：</span></span><span><span><a>openSDK说明文档</a></span></span></p></li></ul><div><p><span><span>鸿蒙</span></span></p></div><ul><li><p><span><span>鸿蒙&nbsp;openSDK下载地址：</span></span><span><span><a>鸿蒙资源下载</a></span></span></p></li><li><p><span><span>鸿蒙&nbsp;接入文档链接：</span></span><span><span><a>openSDK说明文档</a></span></span></p></li></ul><h2>请求参数</h2><div><table><colgroup><col><col><col></colgroup><tbody><tr><th><p><span><span>名称</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>跳转签约小程序的username</span></span></p></td><td><p><span><span>userName</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>gh_xxxxxxxxxxxxx</span></span></p></td><td><p><span><span>跳转签约小程序的username，可从预签约接口的返回参数</span></span><code><span>miniprogram_username</span></code><span><span>获取该值</span></span></p></td></tr><tr><td><p><span><span><span>跳转签约小程序的path</span></span></span></p></td><td><p><span><span>path</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(256)</span></span></p></td><td><p><span><span>pages/index/index?xxxxxx</span></span></p></td><td><p><span><span>跳转签约小程序的path，可从预签约接口的返回参数</span></span><code><span>miniprogram_path</span></code><span><span>中获取该值</span></span></p></td></tr><tr><td><p><span><span><span>跳转的小程序版本</span></span></span></p></td><td><p><span><span><span>miniprogramType</span></span></span></p></td><td><p><span><span><span>是</span></span></span></p></td><td><p><span><span><span>Integer</span></span></span></p></td><td><p><span><span><span>0</span></span></span></p></td><td><p><span><span><span>固定传值为0（正式版）</span></span></span></p></td></tr></tbody></table></div><h2>请求示例</h2><ul><li><p><span><span><a>Android开发示例</a></span></span></p></li></ul><ul><li><p><span><a>iOS开发示例</a></span></p></li></ul><ul><li><p><span><a>鸿蒙开发示例</a></span></p></li></ul><h2>返回参数</h2><p><span>返回参数内容无需关注，如果签约成功，商户系统会收到“签约、解约结果通知”，可参考使用的预签约文档目录下的“签约、解约结果通知”文档，例如查看的是V3“合单代扣”下的预签约文档，则查看V3“合单代扣”下的“签约、解约结果通知”文档。</span></p><h2>存量委托代扣模板升级指引、存量委托代扣模板适配鸿蒙系统指引</h2><p><span>2025年9月23日</span><span><span>之前</span></span><span>申请的模板（称之为“存量模板”），当时接入APP签约已申请OpenBusinessWebview&nbsp;Open SDK API的权限。</span></p><p><span>2025年9月23日</span><span><span>之后</span></span><span>（包括9月23日）申请的模板，以及2025年9月23日之前没有接入过APP签约的模板，不再支持OpenBusinessWebview权限申请，商户只可使用WXLaunchMiniProgram&nbsp;Open SDK API来调起微信签约。</span></p><p><span>建议</span><span><span>存量模板</span></span><span>改为使用WXLaunchMiniProgram调起微信签约，优点：跳转微信耗时更短、用户体验更好、支持鸿蒙。二者对比见下表：</span></p><div><table><tbody><tr><th><p><span>API对比</span></p></th><th><p><span>OpenBusinessWebview</span></p></th><th><p><span>WXLaunchMiniProgram</span></p></th></tr><tr><td><p><span>跳转微信耗时</span></p></td><td><p><span>中等</span></p></td><td><p><span><span>更短</span></span></p></td></tr><tr><td><p><span>用户体验</span></p></td><td><p><span>中等</span></p></td><td><p><span><span>更好</span></span></p></td></tr><tr><td><p><span>支持Android</span></p></td><td><p><span>是</span></p></td><td><p><span><span>是</span></span></p></td></tr><tr><td><p><span>支持iOS</span></p></td><td><p><span>是</span></p></td><td><p><span><span>是</span></span></p></td></tr><tr><td><p><span>支持鸿蒙</span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>是</span></span></p></td></tr><tr><td><p><span><span>新增模板</span></span><span>是否可以使用</span></p></td><td><p><span>禁用</span></p></td><td><p><span>按照上方“接入前注意事项”流程发邮件，运营配置后，可以用</span></p></td></tr><tr><td><p><span><span>存量模板</span></span><span>是否可以使用</span></p></td><td><p><span>若之前</span><span><span>没接入过APP签约</span></span></p></td><td><p><span>禁用</span></p></td><td><p><span>按照上方“接入前注意事项”流程发邮件，运营配置后，可以用</span></p></td></tr><tr><td><p><span>若之前</span><span><span>按OpenBusinessWebview流程接入过APP签约</span></span></p></td><td><p><span>可以用，邮件申请关闭OpenBusinessWebview后，禁用</span></p></td><td><p><span>按照下方切换Open&nbsp;SDK API流程发邮件，运营配置后，可以用</span></p></td></tr></tbody></table></div><p><span>为了帮助商户平滑切换，切换Open&nbsp;SDK API有如下流程：</span></p><p><span>1、商户需要确认：</span><span><span>预签约接口返回的</span></span><code><span>miniprogram_username</span></code><span>和</span><code><span>miniprogram_path</span></code><span>参数</span><span><span>，不会</span></span><span>对商户自身业务逻辑产生影响。此外，若商户使用的是APIv2接口做预签约（对应文档</span><span><a>直连模式APP纯签约</a></span><span>或</span><span><a>服务商模式APP纯签约</a></span><span>）</span><span><span>，还需重点关注商户侧校验响应签名</span></span><code><span>sign</span></code><span><span>的逻辑，并确保该逻辑符合&nbsp;API&nbsp;v2&nbsp;接口的签名规则。</span></span></p><p><span>2、发送邮件申请，参考</span><span><a>委托代扣-APP纯签约申请流程</a></span><span>文档中“存量委托代扣模板升级、存量委托代扣模板适配鸿蒙系统”标题的</span><span><span>第一步</span></span><span>。</span></p><table><tbody><tr><td><p><span>运营会针对这些模板做配置，配置完毕后，使用这些模板预签约后，</span><span><span>预签约接口会返回</span></span><code>miniprogram_username</code><span><span>和</span></span><code>miniprogram_path</code><span><span>参数</span></span><span>。此时，模板会同时支持OpenBusinessWebview和WXLaunchMiniProgram两种API调起微信签约。</span><span><span>在新版本的商户APP中，需要使用WXLaunchMiniProgram调起签约。</span></span></p></td></tr></tbody></table><p><span>3、当商户代码开发完毕且上线后，如果</span><span><span>确认商户的低版本APP（包括安卓、iOS）不再用OpenBusinessWebview</span></span><span>（或者商户低版本APP做好了引导用户升级APP的提示），那么就可以发邮件，完成升级，参考</span><span><a>委托代扣-APP纯签约申请流程</a></span><span>文档中“存量委托代扣模板升级、存量委托代扣模板适配鸿蒙系统”标题的</span><span><span>第二步</span></span><span>。</span></p><table><tbody><tr><td><p><span>运营配置完毕后，模板只支持WXLaunchMiniProgram这一种API调起微信签约，升级完毕。</span></p></td></tr></tbody></table><p>&nbsp;</p></div></body></html></div><div></div></div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><div> 更多支持 </div><div><a>开发文档(服务商)</a><a>开发文档(V2版)</a><a>开发者社区</a><a>微信开放平台</a><a>微信公众平台</a><a>腾讯客服</a></div></div></div></div><div><div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><a><span>简介</span></a></div><div><a><span>接入前注意事项</span></a></div><div><a><span>接口说明</span></a></div><div><a><span>请求参数</span></a></div><div><a><span>请求示例</span></a></div><div><a><span>返回参数</span></a></div><div><a><span>存量委托代扣模板升级指引、存量委托代扣模板适配鸿蒙系统指引</span></a></div></div><div><a><i></i><span>AI开发助手</span></a></div></div><div><div><div><img><img><div> 元宝AI </div></div><div><div><img><img><div> 反馈 </div></div><div><img><img><div> 目录 </div></div><div><img><img><div> 置顶 </div></div></div></div></div></div></div></main><footer><div> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div> Powered By Tencent &amp; Tenpay<br>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>