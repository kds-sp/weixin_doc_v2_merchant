<!DOCTYPE html>
    <html>
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta />
        
    <title>交易保障_产品文档（V2）|微信支付商户文档中心</title><meta>
    <meta>
    
    
    
    
  
      </head>
      <body>
        
        <div><section><header><div><div><div><a><img></a></div><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div><div><div> 文档中心 </div><img></div></div></div><div><img><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div></div></header><section><div><div><div><div><a>产品文档（V2）</a><a>通用规则</a><a>SDK&amp;开发工具</a><a>更新日志</a></div></div><div><div><div><img><div>产品文档（V2）</div></div></div><div><button><span> 技术咨询 </span></button></div></div></div></div></section><section><aside><div><div><ul><li><section><p><span><span>支付产品</span></span><span></span></p><ul><li><section><p><span><span>付款码支付</span></span><span></span></p></section></li><li><section><p><span><span>JSAPI支付</span></span><span></span></p><ul><li><div><a><span>支付账户</span></a></div></li><li><div><a><span>场景介绍</span></a></div></li><li><div><a><span>案例介绍</span></a></div></li><li><div><a><span>接入前准备</span></a></div></li><li><div><a><span>协议规则</span></a></div></li><li><div><a><span>开发指引</span></a></div></li><li><div><a><span>获取微信版本号</span></a></div></li><li><section><p><span><span>API列表</span></span><span></span></p><ul><li><div><a><span>统一下单</span></a></div></li><li><div><a><span>JSAPI调起支付</span></a></div></li><li><div><a><span>查询订单</span></a></div></li><li><div><a><span>关闭订单</span></a></div></li><li><div><a><span>申请退款</span></a></div></li><li><div><a><span>查询退款</span></a></div></li><li><div><a><span>下载交易账单</span></a></div></li><li><div><a><span>下载资金账单</span></a></div></li><li><div><a><span>支付结果通知</span></a></div></li><li><div><a><span>交易保障</span></a></div></li><li><div><a><span>退款结果通知</span></a></div></li></ul></section></li><li><div><a><span>常见问题</span></a></div></li></ul></section></li><li><section><p><span><span>Native支付</span></span><span></span></p></section></li><li><section><p><span><span>APP支付</span></span><span></span></p></section></li><li><section><p><span><span>H5支付</span></span><span></span></p></section></li><li><section><p><span><span>小程序支付</span></span><span></span></p></section></li></ul></section></li><li><section><p><span><span>运营工具</span></span><span></span></p><ul><li><section><p><span><span>现金红包</span></span><span></span></p></section></li><li><section><p><span><span>小程序红包</span></span><span></span></p></section></li><li><section><p><span><span>付款到银行卡</span></span><span></span></p></section></li><li></li><li><section><p><span><span>委托代扣</span></span><span></span></p></section></li><li></li><li></li></ul></section></li><li><section><p><span><span>扩展工具</span></span><span></span></p><ul><li><section><p><span><span>分账</span></span><span></span></p></section></li><li><section><p><span><span>清关报关</span></span><span></span></p></section></li><li></li><li></li><li></li></ul></section></li></ul></div></div></aside><main><div><main><div><div><h1>交易保障</h1><span> 更新时间：2024.11.13</span><div><div><html><head></head><body><div><div><div><h2>应用场景</h2></div><div><p><span><span>商户在调用微信支付提供的相关接口时，会得到微信支付返回的相关信息以及获得整个接口的响应时间。为提高整体的服务水平，协助商户一起提高服务质量，微信支付提供了相关接口调用耗时和返回信息的主动上报接口，微信支付可以根据商户侧上报的数据进一步优化网络部署，完善服务监控，和商户更好的协作为用户提供更好的业务体验。 </span></span></p></div><div><h2>接口地址</h2></div><div><p><span><span>https://api.mch.weixin.qq.com/payitil/report</span></span></p></div><div><h2>是否需要证书</h2></div><div><p><span><span>不需要</span></span></p></div><div><h2>输入参数</h2></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>公众账号ID</span></span></p></td><td><p><span><span>appid</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>wx8888888888888888</span></span></p></td><td><p><span><span>微信分配的公众账号ID（企业号corpid即为此appid）</span></span></p></td></tr><tr><td><p><span><span>商户号</span></span></p></td><td><p><span><span>mch_id</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>1900000109</span></span></p></td><td><p><span><span>微信支付分配的商户号</span></span></p></td></tr><tr><td><p><span><span>设备号</span></span></p></td><td><p><span><span>device_info</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>013467007045764</span></span></p></td><td><p><span><span>微信支付分配的终端设备号，商户自定义</span></span></p></td></tr><tr><td><p><span><span>随机字符串</span></span></p></td><td><p><span><span>nonce_str</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></span></p></td><td><p><span><span>随机字符串，不长于32位。推荐</span></span><span><span><a>随机数生成算法</a></span></span></p></td></tr><tr><td><p><span><span>签名</span></span></p></td><td><p><span><span>sign</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>C380BEC2BFD727A4B6845133519F3AD6</span></span></p></td><td><p><span><span>签名，详见</span></span><span><span><a>签名生成算法</a></span></span></p></td></tr><tr><td><p><span><span>签名类型</span></span></p></td><td><p><span><span>sign_type</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>HMAC-SHA256</span></span></p></td><td><p><span><span>签名类型，目前支持HMAC-SHA256和MD5，默认为MD5</span></span></p></td></tr><tr><td><p><span><span>接口URL</span></span></p></td><td><p><span><span>interface_url</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(127)</span></span></p></td><td><p><span><span>https://api.mch.weixin.qq.com/pay/unifiedorder</span></span></p></td><td><p><span><span>报对应的接口的完整URL，类似：</span></span></p><p><span><span>https://api.mch.weixin.qq.com/pay/unifiedorder</span></span></p><p><span><span>对于刷卡支付，为更好的和商户共同分析一次业务行为的整体耗时情况，对于两种接入模式，请都在门店侧对一次刷卡支付进行一次单独的整体上报，上报URL指定为：</span></span></p><p><span><span>https://api.mch.weixin.qq.com/pay/micropay/total</span></span></p><p><span><span>关于两种接入模式具体可参考本文档章节：</span></span><span><span><a>刷卡支付商户接入模式</a></span></span></p><p><span><span>其它接口调用仍然按照调用一次，上报一次来进行。</span></span></p></td></tr><tr><td><p><span><span>接口耗时</span></span></p></td><td><p><span><span>execute_time_</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>int</span></span></p></td><td><p><span><span>1000</span></span></p></td><td><p><span><span>接口耗时情况，单位为毫秒</span></span><br><span><span>注意：该参数最后带有下划线“_”，参数设计如此，非文档问题。</span></span></p></td></tr><tr><td><p><span><span>返回状态码</span></span></p></td><td><p><span><span>return_code</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>SUCCESS</span></span></p></td><td><p><span><span>SUCCESS/FAIL</span></span></p><p><span><span>此字段是通信标识，非交易标识，交易是否成功需要查看trade_state来判断</span></span></p></td></tr><tr><td><p><span><span>返回信息</span></span></p></td><td><p><span><span>return_msg</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>OK</span></span></p></td><td><p><span><span>当return_code为FAIL时返回信息为错误原因 ，例如</span></span></p><p><span><span>签名失败</span></span></p><p><span><span>参数格式校验错误</span></span></p></td></tr><tr><td><p><span><span>业务结果</span></span></p></td><td><p><span><span>result_code</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>SUCCESS</span></span></p></td><td><p><span><span>SUCCESS/FAIL</span></span></p></td></tr><tr><td><p><span><span>错误代码</span></span></p></td><td><p><span><span>err_code</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>SYSTEMERROR</span></span></p></td><td><p><span><span>ORDERNOTEXIST—订单不存在</span></span></p><p><span><span>SYSTEMERROR—系统错误</span></span></p></td></tr><tr><td><p><span><span>错误代码描述</span></span></p></td><td><p><span><span>err_code_des</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>系统错误</span></span></p></td><td><p><span><span>结果信息描述</span></span></p></td></tr><tr><td><p><span><span>商户订单号</span></span></p></td><td><p><span><span>out_trade_no</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>1217752501201407033233368018</span></span></p></td><td><p><span><span>商户系统内部的订单号,商户可以在上报时提供相关商户订单号方便微信支付更好的提高服务质量。&nbsp;</span></span></p></td></tr><tr><td><p><span><span>访问接口IP</span></span></p></td><td><p><span><span>user_ip</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>8.8.8.8</span></span></p></td><td><p><span><span>发起接口调用时的机器IP&nbsp;</span></span></p></td></tr><tr><td><p><span><span>商户上报时间</span></span></p></td><td><p><span><span>time</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(14)</span></span></p></td><td><p><span><span>20091227091010</span></span></p></td><td><p><span><span>系统时间，格式为yyyyMMddHHmmss，如2009年12月27日9点10分10秒表示为20091227091010。其他详见</span></span><span><span><a>时间规则</a></span></span></p></td></tr></tbody></table></div><div><h2>返回结果</h2></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>返回状态码</span></span></p></td><td><p><span><span>return_code</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>SUCCESS</span></span></p></td><td><p><span><span>SUCCESS/FAIL</span></span></p><p><span><span>此字段是通信标识，非交易标识，交易是否成功需要查看trade_state来判断</span></span></p></td></tr><tr><td><p><span><span>返回信息</span></span></p></td><td><p><span><span>return_msg</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>OK</span></span></p></td><td><p><span><span>当return_code为FAIL时返回信息为错误原因 ，例如：签名失败、参数格式校验错误</span></span></p></td></tr></tbody></table></div><div><p><span><span>以下字段在return_code为SUCCESS的时候有返回</span></span></p></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>业务结果</span></span></p></td><td><p><span><span>result_code</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>SUCCESS</span></span></p></td><td><p><span><span>SUCCESS/FAIL</span></span></p></td></tr></tbody></table></div><div><h2>错误码</h2></div><div><p><span><span>无</span></span></p></div></div><p>&nbsp;</p></div></body></html></div><div></div></div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><div> 更多支持 </div><div><a>开发文档(服务商)</a><a>开发文档(V2版)</a><a>开发者社区</a><a>微信开放平台</a><a>微信公众平台</a><a>腾讯客服</a></div></div></div></div><div><div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><a><span>应用场景</span></a></div><div><a><span>接口地址</span></a></div><div><a><span>是否需要证书</span></a></div><div><a><span>输入参数</span></a></div><div><a><span>返回结果</span></a></div><div><a><span>错误码</span></a></div></div><div><a><i></i><span>AI开发助手</span></a></div></div><div><div><div><img><img><div> 元宝AI </div></div><div><div><img><img><div> 反馈 </div></div><div><img><img><div> 目录 </div></div><div><img><img><div> 置顶 </div></div></div></div></div></div></div></main><footer><div> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div> Powered By Tencent &amp; Tenpay<br>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>