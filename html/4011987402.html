<!DOCTYPE html>
    <html>
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta />
        
    <title>预扣费通知API_产品文档（V2）|微信支付商户文档中心</title><meta>
    <meta>
    
    
    
    
  
      </head>
      <body>
        
        <div><section><header><div><div><div><a><img></a></div><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div><div><div> 文档中心 </div><img></div></div></div><div><img><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div></div></header><section><div><div><div><div><a>产品文档（V2）</a><a>通用规则</a><a>SDK&amp;开发工具</a><a>更新日志</a></div></div><div><div><div><img><div>产品文档（V2）</div></div></div><div><button><span> 技术咨询 </span></button></div></div></div></div></section><section><aside><div><div><ul><li><section><p><span><span>支付产品</span></span><span></span></p><ul><li><section><p><span><span>付款码支付</span></span><span></span></p></section></li><li><section><p><span><span>JSAPI支付</span></span><span></span></p></section></li><li><section><p><span><span>Native支付</span></span><span></span></p></section></li><li><section><p><span><span>APP支付</span></span><span></span></p></section></li><li><section><p><span><span>H5支付</span></span><span></span></p></section></li><li><section><p><span><span>小程序支付</span></span><span></span></p></section></li></ul></section></li><li><section><p><span><span>运营工具</span></span><span></span></p><ul><li><section><p><span><span>现金红包</span></span><span></span></p></section></li><li><section><p><span><span>小程序红包</span></span><span></span></p></section></li><li><section><p><span><span>付款到银行卡</span></span><span></span></p></section></li><li></li><li><section><p><span><span>委托代扣</span></span><span></span></p><ul><li><div><a><span>产品介绍</span></a></div></li><li><section><p><span><span>接入指引</span></span><span></span></p></section></li><li><section><p><span><span>API列表</span></span><span></span></p><ul><li><section><p><span><span>纯签约API</span></span><span></span></p></section></li><li><section><p><span><span>支付中签约</span></span><span></span></p></section></li><li><section><p><span><span>扣款及解约API</span></span><span></span></p><ul><li><div><a><span>申请扣款</span></a></div></li><li><div><a><span>预扣费通知API</span></a></div></li><li><div><a><span>申请解约</span></a></div></li></ul></section></li><li><section><p><span><span>查询及回调通知API</span></span><span></span></p></section></li><li><section><p><span><span>基础API</span></span><span></span></p></section></li></ul></section></li><li><div><a><span>常见问题</span></a></div></li></ul></section></li><li></li><li></li></ul></section></li><li><section><p><span><span>扩展工具</span></span><span></span></p><ul><li><section><p><span><span>分账</span></span><span></span></p></section></li><li><section><p><span><span>清关报关</span></span><span></span></p></section></li><li></li><li></li><li></li></ul></section></li></ul></div></div></aside><main><div><main><div><div><h1>预扣费通知API</h1><span> 更新时间：2024.12.31</span><div><div><html><head></head><body><div><div><p><span><span>商户进行委托代扣扣费前需要在可通知时间段内调用「预扣费通知」的接口为用户发送扣费提醒，并设定预计扣费金额，经过扣费等待期后，在可扣费期内可发起扣费，扣款金额不能高于预计扣费金额，扣费失败可主动发起重试扣费（重试次数由其他规则限制），直到扣费成功，或者可扣费期结束。</span></span></p></div><table><tbody><tr><td><table><tbody><tr><td><svg><path></path></svg></td><td><div><p><span><span><span>注意：</span></span></span></p></div><div><p><span><span>一个扣费周期内只能扣款成功一次，即无论可扣费期是否结束，只要周期内扣款成功一次，该扣费周期则结束。</span></span></p></div><div><p><span><span><span>能力说明</span></span></span></p></div><ul><li><p><span>扣费等待期：商户调用「预扣费通知」接口成功当日及第二个自然日。</span></p></li></ul><ul><li><p><span>扣费持续天数：默认为7天；在扣费等待期后，能够进行扣款的自然日天数；发完通知后，商家可在第3-9天发起扣款。</span></p></li></ul><ul><li><p><span>可扣费期：经过扣费等待期后的N个自然日，N为扣费持续天数。</span></p></li></ul><ul><li><p><span>扣费周期：商户调用「预扣费通知」接口成功后，到扣款成功或可扣费日期结束。</span></p></li></ul><ul><li><p><span>可通知时间段：为了不打扰用户，商户只能在北京时间每天&nbsp;7:00～22:00调用「预扣费通知」</span></p></li></ul><div><p><span><span><span>扣费规则</span></span></span></p></div><div><p><span><span>假如扣费持续天数为1，&nbsp;通知下发当天为“扣费等待期”，商户不允许扣费；</span></span><br><span><span>第二天为“扣费等待期”，商户不允许扣费；</span></span><br><span><span>第三天为“可扣费期”，在可扣费期内可以发起扣费。</span></span><br><span><span>如：若需要在3号扣费，则需要在1号将通知下发给用户，2号为用户的扣费等待期，用户可以选择等待扣费或关闭扣费服务，3号商户可正常发起扣费。</span></span></p></div></td></tr></tbody></table></td></tr></tbody></table><div><h2><span>接口说明</span></h2></div><div><p><span><span><span>适用对象：</span></span></span><span><span>直连商户</span></span></p></div><div><p><span><span><span>请求URL：</span></span></span><span><span>&nbsp;https://api.mch.weixin.qq.com/v3/papay/contracts/{contract_id}/notify</span></span></p></div><div><p><span><span><span>请求方式：</span></span></span><span><span>&nbsp;POST</span></span></p></div><div><p><span><span><span>数据格式：</span></span></span><span><span>&nbsp;JSON</span></span></p></div><div><p><span><span><span>接口规则：</span></span></span><span><span><a>V3接口规则概述</a></span></span></p></div><div><p><span><span><span>接口请求方：</span></span></span><span><span>&nbsp;具有委托代扣扣费权限，且另行开通了预扣费通知权限的直连商户</span></span></p></div><p>&nbsp;</p><div><p><span><span>path</span></span><span>指该参数为路径参数</span></p></div><div><p><span><span>query</span></span><span>指该参数需在请求URL传参</span></p></div><div><p><span><span>body</span></span><span>指该参数需在请求JSON传参</span></p></div><div><h2><span>请求参数</span></h2></div><div><table><colgroup><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>参数名</span></span></p></th><th><p><span><span>变量</span></span></p></th><th><p><span><span>类型[长度限制]</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>委托代扣协议id</span></span></p></td><td><p><span><span>contract_id</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>path</span></span><span>&nbsp;签约成功后，微信返回的委托代扣协议id。</span><br><span><span>示例值：123124412412423431</span></span></p></td></tr><tr><td><p><span><span>直连商户号</span></span></p></td><td><p><span><span>mchid</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>body</span></span><span>&nbsp;填写微信支付分配的商户号。</span><br><span><span>示例值：1230000109</span></span></p></td></tr><tr><td><p><span><span>应用ID</span></span></p></td><td><p><span><span>appid</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>body</span></span><span>&nbsp;直连商户的APPID。</span><br><span><span>示例值：wxd678efh567hg6787</span></span></p></td></tr><tr><td><p><span><span>扣费持续时间</span></span></p></td><td><p><span><span>deduct_duration</span></span></p></td><td><p><span><span>object</span></span></p></td><td><p>否</p></td><td><p><span><span>body</span></span><span>&nbsp;在扣费等待期后，能够进行扣款的时间。注：扣费等待期是指商户调用本接口成功当日及第二个自然日。</span></p></td></tr><tr><td><table><tbody><tr><td><img></td><td>扣费持续时间</td></tr><tr><td></td><td><div><table><colgroup><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>参数名</span></span></p></th><th><p><span><span>变量</span></span></p></th><th><p><span><span>类型[长度限制]</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>扣费持续时间数</span></span></p></td><td><p><span><span>count</span></span></p></td><td><p><span><span>integer</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>在扣费等待期后，能够进行扣款的时间数，目前只支持按天计算，范围为1到3天。注：扣费等待期是指商户调用本接口成功当日及第二个自然日。</span></span><br><span><span>示例值：1</span></span></p></td></tr><tr><td><p><span><span>单位</span></span></p></td><td><p><span><span>unit</span></span></p></td><td><p><span><span>string</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>扣费持续时间，默认为"DAY"（天），目前只支持"DAY"。</span></span><br><span><span>可选取值：</span></span><br><span><span>DAY:&nbsp;扣费持续时间单位-天</span></span><br><span><span>示例值：DAY</span></span></p></td></tr></tbody></table></div></td></tr></tbody></table></td></tr><tr><td><p><span><span>预计扣费金额信息</span></span></p></td><td><p><span><span>estimated_amount</span></span></p></td><td><p><span><span>object</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>body</span></span><span>&nbsp;预计扣款的金额信息。</span></p></td></tr><tr><td><table><tbody><tr><td><img></td><td>预计扣费金额信息</td></tr><tr><td></td><td><div><table><colgroup><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>参数名</span></span></p></th><th><p><span><span>变量</span></span></p></th><th><p><span><span>类型[长度限制]</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>预计扣费金额</span></span></p></td><td><p><span><span>amount</span></span></p></td><td><p><span><span>int</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>预计扣款总金额，单位为分，只能为整数。</span></span><br><span><span>示例值：1</span></span></p></td></tr><tr><td><p><span><span>预计扣费货币类型</span></span></p></td><td><p><span><span>currency</span></span></p></td><td><p><span><span>string[1,16]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>符合ISO&nbsp;4217标准的三位字母代码，默认为“CNY”，目前只支持“CNY”。</span></span><br><span><span>CNY：人民币</span></span><br><span><span>示例值：CNY</span></span></p></td></tr></tbody></table></div></td></tr></tbody></table></td></tr></tbody></table></div><div><h2><span>请求示例：</span></h2></div><p><span><span>JSON</span></span></p><div><img><pre><span><span>1</span><span><span>				</span><span>
</span></span></span><span><span>2</span><span><span>{</span><span>
</span></span></span><span><span>3</span><span><span>  "mchid" : "1230000109",</span><span>
</span></span></span><span><span>4</span><span><span>  "appid" : "wxd678efh567hg6787",</span><span>
</span></span></span><span><span>5</span><span><span>  "deduct_duration" : {</span><span>
</span></span></span><span><span>6</span><span><span>      "count" : 1,</span><span>
</span></span></span><span><span>7</span><span><span>      "unit" : "DAY"</span><span>
</span></span></span><span><span>8</span><span><span>    },</span><span>
</span></span></span><span><span>9</span><span><span>  "estimated_amount" : {</span><span>
</span></span></span><span><span>10</span><span><span>    "amount" : 1,</span><span>
</span></span></span><span><span>11</span><span><span>    "currency" : "CNY"</span><span>
</span></span></span><span><span>12</span><span><span>  }</span><span>
</span></span></span><span><span>13</span><span><span>} </span><span>
</span></span></span><span><span>14</span><span></span></span></pre></div><div><h2>返回参数</h2></div><div><p><span>无参数返回</span></p></div><div><h2>返回示例：</h2></div><p><span><span>正常示例</span></span></p><div><img><pre><span><span>1</span><span><span>
</span></span></span><span><span>2</span><span><span>无数据（Http状态码为204）</span><span>
</span></span></span><span><span>3</span><span><span>                    </span></span></span></pre></div><div><h2><span>错误码&nbsp;  </span></h2></div><div><p><span><span><a>公共错误码</a></span></span></p></div><div><table><colgroup><col><col><col></colgroup><tbody><tr><th><p><span>错误码</span></p></th><th><p><span>描述</span></p></th><th><p><span>解决方案</span></p></th></tr><tr><td><p><span>SYSTEMERROR</span></p></td><td><p><span>接口返回错误</span></p></td><td><p><span>系统异常，请使用相同参数重新调用接口</span></p></td></tr><tr><td><p><span>CONTRACT_NOT_EXIST</span></p></td><td><p><span>签约协议不存在</span></p></td><td><p><span>请检查签约协议号是否正确,是否已解约</span></p></td></tr><tr><td><p><span>PARAM_ERROR</span></p></td><td><p><span>参数错误</span></p></td><td><p><span>请根据接口返回的详细信息检查您的程序</span></p></td></tr><tr><td><p><span>APPID_MCHID_NOT_MATCH</span></p></td><td><p><span>appid和mchid不匹配</span></p></td><td><p><span>请确认appid和mchid是否匹配</span></p></td></tr><tr><td><p><span>INVALID_REQUEST</span></p></td><td><p><span>无效请求</span></p></td><td><p><span>请根据接口返回的详细信息检查您的程序</span></p></td></tr><tr><td><p><span>RULELIMIT</span></p></td><td><p><span>该请求存在风险</span></p></td><td><p><span>请检查当前预计扣费金额，已扣款次数，确认请求是否存在风险。</span></p></td></tr><tr><td><p><span>RESOURCE_ALREADY_EXISTS</span></p></td><td><p><span>资源已经存在</span></p></td><td><p><span>已经成功发送通知，无需重复调用。</span></p></td></tr></tbody></table></div><p>&nbsp;</p></div></body></html></div><div></div></div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><div> 更多支持 </div><div><a>开发文档(服务商)</a><a>开发文档(V2版)</a><a>开发者社区</a><a>微信开放平台</a><a>微信公众平台</a><a>腾讯客服</a></div></div></div></div><div><div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><a><span>接口说明</span></a></div><div><a><span>请求参数</span></a></div><div><a><span>请求示例：</span></a></div><div><a><span>返回参数</span></a></div><div><a><span>返回示例：</span></a></div><div><a><span>错误码   </span></a></div></div><div><a><i></i><span>AI开发助手</span></a></div></div><div><div><div><img><img><div> 元宝AI </div></div><div><div><img><img><div> 反馈 </div></div><div><img><img><div> 目录 </div></div><div><img><img><div> 置顶 </div></div></div></div></div></div></div></main><footer><div> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div> Powered By Tencent &amp; Tenpay<br>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>