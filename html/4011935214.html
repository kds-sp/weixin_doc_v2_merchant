<!DOCTYPE html>
    <html>
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta />
        
    <title>统一下单_产品文档（V2）|微信支付商户文档中心</title><meta>
    <meta>
    
    
    
    
  
      </head>
      <body>
        
        <div><section><header><div><div><div><a><img></a></div><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div><div><div> 文档中心 </div><img></div></div></div><div><img><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div></div></header><section><div><div><div><div><a>产品文档（V2）</a><a>通用规则</a><a>SDK&amp;开发工具</a><a>更新日志</a></div></div><div><div><div><img><div>产品文档（V2）</div></div></div><div><button><span> 技术咨询 </span></button></div></div></div></div></section><section><aside><div><div><ul><li><section><p><span><span>支付产品</span></span><span></span></p><ul><li><section><p><span><span>付款码支付</span></span><span></span></p></section></li><li><section><p><span><span>JSAPI支付</span></span><span></span></p><ul><li><div><a><span>支付账户</span></a></div></li><li><div><a><span>场景介绍</span></a></div></li><li><div><a><span>案例介绍</span></a></div></li><li><div><a><span>接入前准备</span></a></div></li><li><div><a><span>协议规则</span></a></div></li><li><div><a><span>开发指引</span></a></div></li><li><div><a><span>获取微信版本号</span></a></div></li><li><section><p><span><span>API列表</span></span><span></span></p><ul><li><div><a><span>统一下单</span></a></div></li><li><div><a><span>JSAPI调起支付</span></a></div></li><li><div><a><span>查询订单</span></a></div></li><li><div><a><span>关闭订单</span></a></div></li><li><div><a><span>申请退款</span></a></div></li><li><div><a><span>查询退款</span></a></div></li><li><div><a><span>下载交易账单</span></a></div></li><li><div><a><span>下载资金账单</span></a></div></li><li><div><a><span>支付结果通知</span></a></div></li><li><div><a><span>交易保障</span></a></div></li><li><div><a><span>退款结果通知</span></a></div></li></ul></section></li><li><div><a><span>常见问题</span></a></div></li></ul></section></li><li><section><p><span><span>Native支付</span></span><span></span></p></section></li><li><section><p><span><span>APP支付</span></span><span></span></p></section></li><li><section><p><span><span>H5支付</span></span><span></span></p></section></li><li><section><p><span><span>小程序支付</span></span><span></span></p></section></li></ul></section></li><li><section><p><span><span>运营工具</span></span><span></span></p><ul><li><section><p><span><span>现金红包</span></span><span></span></p></section></li><li><section><p><span><span>小程序红包</span></span><span></span></p></section></li><li><section><p><span><span>付款到银行卡</span></span><span></span></p></section></li><li></li><li><section><p><span><span>委托代扣</span></span><span></span></p></section></li><li></li><li></li></ul></section></li><li><section><p><span><span>扩展工具</span></span><span></span></p><ul><li><section><p><span><span>分账</span></span><span></span></p></section></li><li><section><p><span><span>清关报关</span></span><span></span></p></section></li><li></li><li></li><li></li></ul></section></li></ul></div></div></aside><main><div><main><div><div><h1>统一下单</h1><span> 更新时间：2025.06.19</span><div><div><html><head></head><body><div><div><h2>应用场景</h2></div><div><p><span><span>除付款码支付场景以外，商户系统先调用该接口在微信支付服务后台生成预支付交易单，返回正确的预支付交易会话标识后再按Native、JSAPI、APP等不同场景生成交易串调起支付。</span></span></p></div><div><h2>状态机</h2></div><div><p><span><span>支付状态转变如下：</span></span></p></div><div><p><span><img></span> </p></div><div><h2>接口链接</h2></div><div><p><span><span>URL地址：https://api.mch.weixin.qq.com/pay/unifiedorder</span></span></p></div><div><p><span><span>URL地址：https://api2.mch.weixin.qq.com/pay/unifiedorder(备用域名)</span></span><span><span><a>见跨城冗灾方案</a></span></span></p></div><div><h2>是否需要证书</h2></div><div><p><span><span>否</span></span></p></div><div><h2>请求参数</h2></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>公众账号ID</span></span></p></td><td><p><span><span>appid</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>wxd678efh567hg6787</span></span></p></td><td><p><span><span>微信支付分配的公众账号ID（企业号corpid即为此appid）</span></span></p></td></tr><tr><td><p><span><span>商户号</span></span></p></td><td><p><span><span>mch_id</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>1230000109</span></span></p></td><td><p><span><span>微信支付分配的商户号</span></span></p></td></tr><tr><td><p><span><span>设备号</span></span></p></td><td><p><span><span>device_info</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>013467007045764</span></span></p></td><td><p><span><span>自定义参数，可以为终端设备号(门店号或收银设备ID)，PC网页或公众号内支付可以传"WEB"</span></span></p></td></tr><tr><td><p><span><span>随机字符串</span></span></p></td><td><p><span><span>nonce_str</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></span></p></td><td><p><span><span>随机字符串，长度要求在32位以内。推荐</span></span><span><span><a>随机数生成算法</a></span></span></p></td></tr><tr><td><p><span><span>签名</span></span></p></td><td><p><span><span>sign</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>C380BEC2BFD727A4B6845133519F3AD6</span></span></p></td><td><p><span><span>通过签名算法计算得出的签名值，详见</span></span><span><span><a>签名生成算法</a></span></span></p></td></tr><tr><td><p><span><span>签名类型</span></span></p></td><td><p><span><span>sign_type</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>MD5</span></span></p></td><td><p><span><span>签名类型，默认为MD5，支持HMAC-SHA256和MD5。</span></span></p></td></tr><tr><td><p><span><span>商品描述</span></span></p></td><td><p><span><span>body</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(127)</span></span></p></td><td><p><span><span>腾讯充值中心-QQ会员充值</span></span></p></td><td><p><span><span>商品简单描述，该字段请按照规范传递，具体请见</span></span><span><span><a>参数规定</a></span></span></p></td></tr><tr><td><p><span><span>商品详情</span></span></p></td><td><p><span><span>detail</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(6000)</span></span></p></td><td><p><span><span>[{</span></span><br><span><span>"goods_detail":[</span></span><br><span><span>{</span></span><br><span><span>"goods_id":"iphone6s_16G",</span></span><br><span><span>"wxpay_goods_id":"1001",</span></span><br><span><span>"goods_name":"iPhone6s 16G",</span></span><br><span><span>"quantity":1,</span></span><br><span><span>"price":528800,</span></span><br><span><span>"goods_category":"123456",</span></span><br><span><span>"body":"苹果手机"</span></span><br><span><span>},</span></span><br><span><span>{</span></span><br><span><span>"goods_id":"iphone6s_32G",</span></span><br><span><span>"wxpay_goods_id":"1002",</span></span><br><span><span>"goods_name":"iPhone6s 32G",</span></span><br><span><span>"quantity":1,</span></span><br><span><span>"price":608800,</span></span><br><span><span>"goods_category":"123789",</span></span><br><span><span>"body":"苹果手机"</span></span><br><span><span>}</span></span><br><span><span>]</span></span><br><span><span>}]</span></span></p></td><td><p><span><span>商品详细描述，对于使用单品优惠的商户，该字段必须按照规范上传，详见</span></span><span><span>“</span></span><span><span><a>单品优惠参数说明</a></span></span><span><span>”</span></span></p></td></tr><tr><td><p><span><span>附加数据</span></span></p></td><td><p><span><span>attach</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(127)</span></span></p></td><td><p><span><span>深圳分店</span></span></p></td><td><p><span><span>附加数据，在查询API和支付通知中原样返回，可作为自定义参数使用。</span></span></p></td></tr><tr><td><p><span><span>商户订单号</span></span></p></td><td><p><span><span>out_trade_no</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>20150806125346</span></span></p></td><td><p><span><span>商户系统内部订单号，要求32个字符内（最少6个字符），只能是数字、大小写字母_-|*且在同一个商户号下唯一。详见</span></span><span><span><a>商户订单号</a></span></span></p></td></tr><tr><td><p><span><span>标价币种</span></span></p></td><td><p><span><span>fee_type</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>CNY</span></span></p></td><td><p><span><span>符合ISO&nbsp;4217标准的三位字母代码，默认人民币：CNY，详细列表请参见</span></span><span><span><a>货币类型</a></span></span></p></td></tr><tr><td><p><span><span>标价金额</span></span></p></td><td><p><span><span>total_fee</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>int</span></span></p></td><td><p><span><span>88</span></span></p></td><td><p><span><span>订单总金额，单位为分，详见</span></span><span><span><a>支付金额</a></span></span></p></td></tr><tr><td><p><span><span>终端IP</span></span></p></td><td><p><span><span>spbill_create_ip</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(64)</span></span></p></td><td><p><span><span>123.12.12.123</span></span></p></td><td><p><span><span>支持IPV4和IPV6两种格式的IP地址。用户的客户端IP</span></span></p></td></tr><tr><td><p><span><span>交易起始时间</span></span></p></td><td><p><span><span>time_start</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(14)</span></span></p></td><td><p><span><span>20091225091010</span></span></p></td><td><p><span><span>订单生成时间，格式为yyyyMMddHHmmss，如2009年12月25日9点10分10秒表示为20091225091010。其他详见</span></span><span><span><a>时间规则</a></span></span></p></td></tr><tr><td><p><span><span>交易结束时间</span></span></p></td><td><p><span><span>time_expire</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(14)</span></span></p></td><td><p><span><span>20091227091010</span></span></p></td><td><p><span><span>订单失效时间，格式为yyyyMMddHHmmss，如2009年12月27日9点10分10秒表示为20091227091010。</span></span></p></td></tr><tr><td><p><span><span>订单优惠标记</span></span></p></td><td><p><span><span>goods_tag</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>WXG</span></span></p></td><td><p><span><span>订单优惠标记，使用代金券或立减优惠功能时需要的参数，说明详见</span></span><span><span><a>代金券或立减优惠</a></span></span></p></td></tr><tr><td><p><span><span>通知地址</span></span></p></td><td><p><span><span>notify_url</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(256)</span></span></p></td><td><p><span><span>https://www.weixin.qq.com/wxpay/pay.php</span></span></p></td><td><p><span><span>body 异步接收微信支付结果通知的回调地址，通知url必须为外网可访问的url，不能携带参数。 公网域名必须为https，如果是走专线接入，使用专线NAT IP或者私有回调域名可使用http</span></span></p></td></tr><tr><td><p><span><span>交易类型</span></span></p></td><td><p><span><span>trade_type</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>JSAPI</span></span></p></td><td><p><span><span>JSAPI -JSAPI支付</span></span></p><p><span><span>NATIVE -Native支付</span></span></p><p><span><span>APP -APP支付</span></span></p><p><span><span>说明详见</span></span><span><span><a>参数规定</a></span></span></p></td></tr><tr><td><p><span><span>商品ID</span></span></p></td><td><p><span><span>product_id</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>12235413214070356458058</span></span></p></td><td><p><span><span>trade_type=NATIVE时，此参数必传。此参数为二维码中包含的商品ID，商户自行定义。</span></span></p></td></tr><tr><td><p><span><span>用户标识</span></span></p></td><td><p><span><span>openid</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>oUpF8uMuAJO_M2pxb1Q9zNjWeS6o</span></span></p></td><td><p><span><span>trade_type=JSAPI时（即JSAPI支付），此参数必传，此参数为微信用户在商户对应appid下的唯一标识。openid如何获取，可参考【</span></span><span><span><a>获取openid</a></span></span><span>】。企业号请使用【</span><span><span><a>企业号OAuth2.0接口</a></span></span><span>】获取企业号内成员userid，再调用【</span><span><span><a>企业号userid转openid接口</a></span></span><span>】进行转换</span></p></td></tr><tr><td><p><span><span>电子发票入口开放标识</span></span></p></td><td><p><span><span>receipt</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(8)</span></span></p></td><td><p><span><span>Y</span></span></p></td><td><p><span><span>Y，传入Y时，支付成功消息和支付详情页将出现开票入口。需要在微信支付商户平台或微信公众平台开通电子发票功能，传此字段才可生效</span></span></p></td></tr><tr><td><p><span><span>是否需要分账</span></span></p></td><td><p><span><span>profit_sharing</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>Y</span></span></p></td><td><p><span><span>Y-是，需要分账</span></span><br><span><span>N-否，不分账</span></span><br><span><span>字母要求大写，不传默认不分账</span></span></p></td></tr><tr><td><p><span><span>场景信息</span></span></p></td><td><p><span><span>scene_info</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(256)</span></span></p></td><td><p><span><span>{"store_info" : {</span></span><br><span><span>"id": "SZTX001",</span></span><br><span><span>"name": "腾大餐厅",</span></span><br><span><span>"area_code": "440305",</span></span><br><span><span>"address": "科技园中一路腾讯大厦" }}</span></span></p></td><td><p><span><span>该字段常用于线下活动时的场景信息上报，支持上报实际门店信息，商户也可以按需求自己上报相关信息。该字段为JSON对象数据，对象格式为{"store_info":{"id": "门店ID","name": "名称","area_code": "编码","address": "地址" }} ，字段详细说明请点击下行的&gt;展开</span></span></p></td></tr><tr><td><table><tbody><tr><td><img></td><td>场景信息</td></tr><tr><td></td><td><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>门店id</span></span></p></td><td><p><span><span>id</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>SZTX001</span></span></p></td><td><p><span><span>门店唯一标识</span></span><span><span><span>，由商户自定义</span></span></span></p></td></tr><tr><td><p><span><span>门店名称</span></span></p></td><td><p><span><span>name</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(64)</span></span></p></td><td><p><span><span>腾讯大厦腾大餐厅</span></span></p></td><td><p><span><span>门店名称&nbsp;</span></span><span><span><span>，由商户自定义</span></span></span></p></td></tr><tr><td><p><span><span>门店行政区划码</span></span></p></td><td><p><span><span>area_code</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(6)</span></span></p></td><td><p><span><span>440305</span></span></p></td><td><p><span><span>门店所在地行政区划码，详细见</span></span></p><div><span><span><svg><g><path></path></g><defs><clipPath><path></path></clipPath></defs></svg></span><a>最新县及县以上行政区划代码.csv</a></span></div></td></tr><tr><td><p><span><span>门店详细地址</span></span></p></td><td><p><span><span>address</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>科技园中一路腾讯大厦</span></span></p></td><td><p><span><span>门店详细地址</span></span><span><span><span>，由商户自定义</span></span></span></p></td></tr></tbody></table></div></td></tr></tbody></table></td></tr></tbody></table></div><div><p><span><span>举例如下：</span></span></p></div><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;</span><span>
</span></span></span><span><span>2</span><span><span>&nbsp;&nbsp;&nbsp;&lt;appid&gt;wx2421b1c4370ec43b&lt;/appid&gt;</span><span>
</span></span></span><span><span>3</span><span><span>&nbsp;&nbsp;&nbsp;&lt;attach&gt;支付测试&lt;/attach&gt;</span><span>
</span></span></span><span><span>4</span><span><span>&nbsp;&nbsp;&nbsp;&lt;body&gt;JSAPI支付测试&lt;/body&gt;</span><span>
</span></span></span><span><span>5</span><span><span>&nbsp;&nbsp;&nbsp;&lt;mch_id&gt;10000100&lt;/mch_id&gt;</span><span>
</span></span></span><span><span>6</span><span><span>&nbsp;&nbsp;&nbsp;&lt;detail&gt;&lt;![CDATA[{ "goods_detail":[ { "goods_id":"iphone6s_16G", "wxpay_goods_id":"1001", "goods_name":"iPhone6s 16G", "quantity":1, "price":528800, "goods_category":"123456", "body":"苹果手机" }, { "goods_id":"iphone6s_32G", "wxpay_goods_id":"1002", "goods_name":"iPhone6s 32G", "quantity":1, "price":608800, "goods_category":"123789", "body":"苹果手机" } ] }]]&gt;&lt;/detail&gt;</span><span>
</span></span></span><span><span>7</span><span><span>&nbsp;&nbsp;&nbsp;&lt;nonce_str&gt;1add1a30ac87aa2db72f57a2375d8fec&lt;/nonce_str&gt;</span><span>
</span></span></span><span><span>8</span><span><span>&nbsp;&nbsp;&nbsp;&lt;notify_url&gt;https://wxpay.wxutil.com/pub_v2/pay/notify.v2.php&lt;/notify_url&gt;</span><span>
</span></span></span><span><span>9</span><span><span>&nbsp;&nbsp;&nbsp;&lt;openid&gt;oUpF8uMuAJO_M2pxb1Q9zNjWeS6o&lt;/openid&gt;</span><span>
</span></span></span><span><span>10</span><span><span>&nbsp;&nbsp;&nbsp;&lt;out_trade_no&gt;1415659990&lt;/out_trade_no&gt;</span><span>
</span></span></span><span><span>11</span><span><span>&nbsp;&nbsp;&nbsp;&lt;spbill_create_ip&gt;14.23.150.211&lt;/spbill_create_ip&gt;</span><span>
</span></span></span><span><span>12</span><span><span>&nbsp;&nbsp;&nbsp;&lt;total_fee&gt;1&lt;/total_fee&gt;</span><span>
</span></span></span><span><span>13</span><span><span>&nbsp;&nbsp;&nbsp;&lt;trade_type&gt;JSAPI&lt;/trade_type&gt;</span><span>
</span></span></span><span><span>14</span><span><span>&nbsp;&nbsp;&nbsp;&lt;sign&gt;0CB01533B8C1EF103065174F50BCA001&lt;/sign&gt;</span><span>
</span></span></span><span><span>15</span><span><span>&lt;/xml&gt;</span></span></span></pre></div><div><p><span>注：参数值用XML转义即可，CDATA标签用于说明数据不被XML解析器解析。</span></p></div><div><h2>返回结果</h2></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span>字段名</span></p></th><th><p><span>变量名</span></p></th><th><p><span>必填</span></p></th><th><p><span>类型</span></p></th><th><p><span>示例值</span></p></th><th><p><span>描述</span></p></th></tr><tr><td><p><span>返回状态码</span></p></td><td><p><span>return_code</span></p></td><td><p><span>是</span></p></td><td><p><span>String(16)</span></p></td><td><p><span>SUCCESS</span></p></td><td><p><span>SUCCESS/FAIL</span></p><p><span>此字段是通信标识，非交易标识，交易是否成功需要查看result_code来判断</span></p></td></tr><tr><td><p><span>返回信息</span></p></td><td><p><span>return_msg</span></p></td><td><p><span>是</span></p></td><td><p><span>String(128)</span></p></td><td><p><span>OK</span></p></td><td><p><span>当return_code为FAIL时返回信息为错误原因 ，例如</span></p><p><span>签名失败</span></p><p><span>参数格式校验错误</span></p></td></tr></tbody></table></div><div><p><span>以下字段在return_code为SUCCESS的时候有返回</span></p></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span>字段名</span></p></th><th><p><span>变量名</span></p></th><th><p><span>必填</span></p></th><th><p><span>类型</span></p></th><th><p><span>示例值</span></p></th><th><p><span>描述</span></p></th></tr><tr><td><p><span>公众账号ID</span></p></td><td><p><span>appid</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>wx8888888888888888</span></p></td><td><p><span>调用接口提交的公众账号ID</span></p></td></tr><tr><td><p><span>商户号</span></p></td><td><p><span>mch_id</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>1900000109</span></p></td><td><p><span>调用接口提交的商户号</span></p></td></tr><tr><td><p><span>设备号</span></p></td><td><p><span>device_info</span></p></td><td><p><span>否</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>013467007045764</span></p></td><td><p><span>自定义参数，可以为请求支付的终端设备号等</span></p></td></tr><tr><td><p><span>随机字符串</span></p></td><td><p><span>nonce_str</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></p></td><td><p><span>微信返回的随机字符串</span></p></td></tr><tr><td><p><span>签名</span></p></td><td><p><span>sign</span></p></td><td><p><span>是</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>C380BEC2BFD727A4B6845133519F3AD6</span></p></td><td><p><span>微信返回的签名值，详见</span><span><span><a>签名算法</a></span></span></p></td></tr><tr><td><p><span>业务结果</span></p></td><td><p><span>result_code</span></p></td><td><p><span>是</span></p></td><td><p><span>String(16)</span></p></td><td><p><span>SUCCESS</span></p></td><td><p><span>SUCCESS/FAIL</span></p></td></tr><tr><td><p><span>错误代码</span></p></td><td><p><span>err_code</span></p></td><td><p><span>否</span></p></td><td><p><span>String(32)</span></p></td><td><p><span>SYSTEMERROR</span></p></td><td><p><span>当result_code为FAIL时返回错误代码，详细参见下文错误列表</span></p></td></tr><tr><td><p><span>错误代码描述</span></p></td><td><p><span>err_code_des</span></p></td><td><p><span>否</span></p></td><td><p><span>String(128)</span></p></td><td><p><span>系统错误</span></p></td><td><p><span>当result_code为FAIL时返回错误描述，详细参见下文错误列表</span></p></td></tr></tbody></table></div><div><p><span>以下字段在return_code&nbsp;和result_code都为SUCCESS的时候有返回</span></p></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span>字段名</span></p></th><th><p><span>变量名</span></p></th><th><p><span>必填</span></p></th><th><p><span>类型</span></p></th><th><p><span>示例值</span></p></th><th><p><span>描述</span></p></th></tr><tr><td><p><span>交易类型</span></p></td><td><p><span>trade_type</span></p></td><td><p><span>是</span></p></td><td><p><span>String(16)</span></p></td><td><p><span>JSAPI</span></p></td><td><p><span>JSAPI -JSAPI支付</span></p><p><span>NATIVE -Native支付</span></p><p><span>APP -APP支付</span></p><p><span>说明详见</span><span><span><a>参数规定</a></span></span></p></td></tr><tr><td><p><span>预支付交易会话标识</span></p></td><td><p><span>prepay_id</span></p></td><td><p><span>是</span></p></td><td><p><span>String(64)</span></p></td><td><p><span>wx201410272009395522657a690389285100</span></p></td><td><p><span>微信生成的预支付会话标识，用于后续接口调用中使用，该值有效期为2小时</span></p></td></tr><tr><td><p><span>二维码链接</span></p></td><td><p><span>code_url</span></p></td><td><p><span>否</span></p></td><td><p><span>String(64)</span></p></td><td><p><span>weixin://wxpay/bizpayurl/up?pr=NwY5Mz9&amp;groupid=00</span></p></td><td><p><span>trade_type=NATIVE时有返回，此url用于生成支付二维码，然后提供给用户进行扫码支付。</span></p><p><span><span>注意：code_url的值并非固定，使用时按照URL格式转成二维码即可。时效性为2小时</span></span></p></td></tr></tbody></table></div><div><p><span>举例如下：</span></p></div><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;</span><span>
</span></span></span><span><span>2</span><span><span>&nbsp;&nbsp;&nbsp;&lt;return_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/return_code&gt;</span><span>
</span></span></span><span><span>3</span><span><span>&nbsp;&nbsp;&nbsp;&lt;return_msg&gt;&lt;![CDATA[OK]]&gt;&lt;/return_msg&gt;</span><span>
</span></span></span><span><span>4</span><span><span>&nbsp;&nbsp;&nbsp;&lt;appid&gt;&lt;![CDATA[wx2421b1c4370ec43b]]&gt;&lt;/appid&gt;</span><span>
</span></span></span><span><span>5</span><span><span>&nbsp;&nbsp;&nbsp;&lt;mch_id&gt;&lt;![CDATA[10000100]]&gt;&lt;/mch_id&gt;</span><span>
</span></span></span><span><span>6</span><span><span>&nbsp;&nbsp;&nbsp;&lt;nonce_str&gt;&lt;![CDATA[IITRi8Iabbblz1Jc]]&gt;&lt;/nonce_str&gt;</span><span>
</span></span></span><span><span>7</span><span><span>&nbsp;&nbsp;&nbsp;&lt;openid&gt;&lt;![CDATA[oUpF8uMuAJO_M2pxb1Q9zNjWeS6o]]&gt;&lt;/openid&gt;</span><span>
</span></span></span><span><span>8</span><span><span>&nbsp;&nbsp;&nbsp;&lt;sign&gt;&lt;![CDATA[7921E432F65EB8ED0CE9755F0E86D72F]]&gt;&lt;/sign&gt;</span><span>
</span></span></span><span><span>9</span><span><span>&nbsp;&nbsp;&nbsp;&lt;result_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/result_code&gt;</span><span>
</span></span></span><span><span>10</span><span><span>&nbsp;&nbsp;&nbsp;&lt;prepay_id&gt;&lt;![CDATA[wx201411101639507cbf6ffd8b0779950874]]&gt;&lt;/prepay_id&gt;</span><span>
</span></span></span><span><span>11</span><span><span>&nbsp;&nbsp;&nbsp;&lt;trade_type&gt;&lt;![CDATA[JSAPI]]&gt;&lt;/trade_type&gt;</span><span>
</span></span></span><span><span>12</span><span><span>&lt;/xml&gt;</span></span></span></pre></div><div><h2>错误码</h2></div><div><table><colgroup><col><col><col><col></colgroup><tbody><tr><th><p><span>名称</span></p></th><th><p><span>描述</span></p></th><th><p><span>原因</span></p></th><th><p><span>解决方案</span></p></th></tr><tr><td><p><span>INVALID_REQUEST</span></p></td><td><p><span>参数错误</span></p></td><td><p><span>参数格式有误或者未按规则上传</span></p></td><td><p><span>订单重入时，要求参数值与原请求一致，请确认参数问题</span></p></td></tr><tr><td><p><span>NOAUTH</span></p></td><td><p><span>商户无此接口权限</span></p></td><td><p><span>商户未开通此接口权限</span></p></td><td><p><span>请商户前往申请此接口权限</span></p></td></tr><tr><td><p><span>ORDERPAID</span></p></td><td><p><span>商户订单已支付</span></p></td><td><p><span>商户订单已支付，无需重复操作</span></p></td><td><p><span>商户订单已支付，无需更多操作</span></p></td></tr><tr><td><p><span>ORDERCLOSED</span></p></td><td><p><span>订单已关闭</span></p></td><td><p><span>当前订单已关闭，无法支付</span></p></td><td><p><span>当前订单已关闭，请重新下单</span></p></td></tr><tr><td><p><span>SYSTEMERROR</span></p></td><td><p><span>系统错误</span></p></td><td><p><span>系统超时</span></p></td><td><p><span>系统异常，请用相同参数重新调用</span></p></td></tr><tr><td><p><span>APPID_NOT_EXIST</span></p></td><td><p><span>APPID不存在</span></p></td><td><p><span>参数中缺少APPID</span></p></td><td><p><span>请检查APPID是否正确</span></p></td></tr><tr><td><p><span>MCHID_NOT_EXIST</span></p></td><td><p><span>MCHID不存在</span></p></td><td><p><span>参数中缺少MCHID</span></p></td><td><p><span>请检查MCHID是否正确</span></p></td></tr><tr><td><p><span>APPID_MCHID_NOT_MATCH</span></p></td><td><p><span>appid和mch_id不匹配</span></p></td><td><p><span>appid和mch_id不匹配</span></p></td><td><p><span>请确认appid和mch_id是否匹配</span></p></td></tr><tr><td><p><span>LACK_PARAMS</span></p></td><td><p><span>缺少参数</span></p></td><td><p><span>缺少必要的请求参数</span></p></td><td><p><span>请检查参数是否齐全</span></p></td></tr><tr><td><p><span>OUT_TRADE_NO_USED</span></p></td><td><p><span>商户订单号重复</span></p></td><td><p><span>同一笔交易不能多次提交</span></p></td><td><p><span>请核实商户订单号是否重复提交</span></p></td></tr><tr><td><p><span>SIGNERROR</span></p></td><td><p><span>签名错误</span></p></td><td><p><span>参数签名结果不正确</span></p></td><td><p><span>请检查签名参数和方法是否都符合签名算法要求</span></p></td></tr><tr><td><p><span>XML_FORMAT_ERROR</span></p></td><td><p><span>XML格式错误</span></p></td><td><p><span>XML格式错误</span></p></td><td><p><span>请检查XML参数格式是否正确</span></p></td></tr><tr><td><p><span>REQUIRE_POST_METHOD</span></p></td><td><p><span>请使用post方法</span></p></td><td><p><span>未使用post传递参数&nbsp;</span></p></td><td><p><span>请检查请求参数是否通过post方法提交</span></p></td></tr><tr><td><p><span>POST_DATA_EMPTY</span></p></td><td><p><span>post数据为空</span></p></td><td><p><span>post数据不能为空</span></p></td><td><p><span>请检查post数据是否为空</span></p></td></tr><tr><td><p><span>NOT_UTF8</span></p></td><td><p><span>编码格式错误</span></p></td><td><p><span>未使用指定编码格式</span></p></td><td><p><span>请使用UTF-8编码格式</span></p></td></tr></tbody></table></div><div><p>&nbsp;</p></div></div></body></html></div><div></div></div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><div> 更多支持 </div><div><a>开发文档(服务商)</a><a>开发文档(V2版)</a><a>开发者社区</a><a>微信开放平台</a><a>微信公众平台</a><a>腾讯客服</a></div></div></div></div><div><div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><a><span>应用场景</span></a></div><div><a><span>状态机</span></a></div><div><a><span>接口链接</span></a></div><div><a><span>是否需要证书</span></a></div><div><a><span>请求参数</span></a></div><div><a><span>返回结果</span></a></div><div><a><span>错误码</span></a></div></div><div><a><i></i><span>AI开发助手</span></a></div></div><div><div><div><img><img><div> 元宝AI </div></div><div><div><img><img><div> 反馈 </div></div><div><img><img><div> 目录 </div></div><div><img><img><div> 置顶 </div></div></div></div></div></div></div></main><footer><div> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div> Powered By Tencent &amp; Tenpay<br>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>