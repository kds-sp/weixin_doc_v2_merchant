<!DOCTYPE html>
    <html>
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta />
        
    <title>统一下单_产品文档（V2）|微信支付商户文档中心</title><meta>
    <meta>
    
    
    
    
  
      </head>
      <body>
        
        <div><section><header><div><div><div><a><img></a></div><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div><div><div> 文档中心 </div><img></div></div></div><div><img><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div></div></header><section><div><div><div><div><a>产品文档（V2）</a><a>通用规则</a><a>SDK&amp;开发工具</a><a>更新日志</a></div></div><div><div><div><img><div>产品文档（V2）</div></div></div><div><button><span> 技术咨询 </span></button></div></div></div></div></section><section><aside><div><div><ul><li><section><p><span><span>支付产品</span></span><span></span></p><ul><li><section><p><span><span>付款码支付</span></span><span></span></p></section></li><li><section><p><span><span>JSAPI支付</span></span><span></span></p></section></li><li><section><p><span><span>Native支付</span></span><span></span></p></section></li><li><section><p><span><span>APP支付</span></span><span></span></p></section></li><li><section><p><span><span>H5支付</span></span><span></span></p><ul><li><div><a><span>支付账户</span></a></div></li><li><div><a><span>场景介绍</span></a></div></li><li><div><a><span>案例介绍</span></a></div></li><li><div><a><span>业务流程</span></a></div></li><li><div><a><span>协议规则</span></a></div></li><li><div><a><span>开发指引</span></a></div></li><li><div><a><span>获取用户ip指引</span></a></div></li><li><section><p><span><span>API列表</span></span><span></span></p><ul><li><div><a><span>统一下单</span></a></div></li><li><div><a><span>查询订单</span></a></div></li><li><div><a><span>关闭订单</span></a></div></li><li><div><a><span>申请退款</span></a></div></li><li><div><a><span>查询退款</span></a></div></li><li><div><a><span>下载交易账单</span></a></div></li><li><div><a><span>下载资金账单</span></a></div></li><li><div><a><span>支付结果通知</span></a></div></li><li><div><a><span>交易保障</span></a></div></li><li><div><a><span>退款结果通知</span></a></div></li></ul></section></li><li><div><a><span>常见问题</span></a></div></li></ul></section></li><li><section><p><span><span>小程序支付</span></span><span></span></p></section></li></ul></section></li><li><section><p><span><span>运营工具</span></span><span></span></p><ul><li><section><p><span><span>现金红包</span></span><span></span></p></section></li><li><section><p><span><span>小程序红包</span></span><span></span></p></section></li><li><section><p><span><span>付款到银行卡</span></span><span></span></p></section></li><li></li><li><section><p><span><span>委托代扣</span></span><span></span></p></section></li><li></li><li></li></ul></section></li><li><section><p><span><span>扩展工具</span></span><span></span></p><ul><li><section><p><span><span>分账</span></span><span></span></p></section></li><li><section><p><span><span>清关报关</span></span><span></span></p></section></li><li></li><li></li><li></li></ul></section></li></ul></div></div></aside><main><div><main><div><div><h1>统一下单</h1><span> 更新时间：2025.06.19</span><div><div><html><head></head><body><div><div><h2><span>应用场景</span></h2></div><div><p><span><span>H5支付是指商户在微信客户端外的移动端网页展示商品或服务，用户在前述页面确认使用微信支付时，商户发起本服务呼起微信客户端进行支付。 主要用于触屏版的手机浏览器请求微信支付的场景。可以方便的从外部浏览器唤起微信支付。</span></span></p></div><div><h2>接口链接</h2></div><div><p><span><span>URL地址：https://api.mch.weixin.qq.com/pay/unifiedorder</span></span></p></div><div><h2>是否需要证书</h2></div><div><p><span><span>否</span></span></p></div><div><h2>请求参数</h2></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>公众账号ID</span></span></p></td><td><p><span><span>appid</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>wxd678efh567hg6787</span></span></p></td><td><p><span><span>微信分配的公众账号ID（企业号corpid即为此appid）</span></span></p></td></tr><tr><td><p><span><span>商户号</span></span></p></td><td><p><span><span>mch_id</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>1230000109</span></span></p></td><td><p><span><span>微信支付分配的商户号</span></span></p></td></tr><tr><td><p><span><span>设备号</span></span></p></td><td><p><span><span>device_info</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>013467007045764</span></span></p></td><td><p><span><span>终端设备号(门店号或收银设备ID)，注意：PC网页或公众号内支付请传"WEB"</span></span></p></td></tr><tr><td><p><span><span>随机字符串</span></span></p></td><td><p><span><span>nonce_str</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></span></p></td><td><p><span><span>随机字符串，不长于32位。推荐</span></span><span><span><a>随机数生成算法</a></span></span></p></td></tr><tr><td><p><span><span>签名</span></span></p></td><td><p><span><span>sign</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>C380BEC2BFD727A4B6845133519F3AD6</span></span></p></td><td><p><span><span>签名，详见</span></span><span><span><a>签名生成算法</a></span></span></p></td></tr><tr><td><p><span><span>签名类型</span></span></p></td><td><p><span><span>sign_type</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>HMAC-SHA256</span></span></p></td><td><p><span><span>签名类型，目前支持HMAC-SHA256和MD5，默认为MD5</span></span></p></td></tr><tr><td><p><span><span>商品描述</span></span></p></td><td><p><span><span>body</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>腾讯充值中心-QQ会员充值</span></span></p></td><td><p><span><span>商品简单描述，该字段须严格按照规范传递，具体请见</span></span><span><span><a>参数规定</a></span></span></p></td></tr><tr><td><p><span><span>商品详情</span></span></p></td><td><p><span><span>detail</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(6000)</span></span></p></td><td><p><span><span>[{</span></span><br><span><span>"goods_detail":[</span></span><br><span><span>{</span></span><br><span><span>"goods_id":"iphone6s_16G",</span></span><br><span><span>"wxpay_goods_id":"1001",</span></span><br><span><span>"goods_name":"iPhone6s 16G",</span></span><br><span><span>"quantity":1,</span></span><br><span><span>"price":528800,</span></span><br><span><span>"goods_category":"123456",</span></span><br><span><span>"body":"苹果手机"</span></span><br><span><span>},</span></span><br><span><span>{</span></span><br><span><span>"goods_id":"iphone6s_32G",</span></span><br><span><span>"wxpay_goods_id":"1002",</span></span><br><span><span>"goods_name":"iPhone6s 32G",</span></span><br><span><span>"quantity":1,</span></span><br><span><span>"price":608800,</span></span><br><span><span>"goods_category":"123789",</span></span><br><span><span>"body":"苹果手机"</span></span><br><span><span>}</span></span><br><span><span>]</span></span><br><span><span>}]</span></span></p></td><td><p><span><span>单品优惠字段(暂未上线)</span></span></p></td></tr><tr><td><p><span><span>附加数据</span></span></p></td><td><p><span><span>attach</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(127)</span></span></p></td><td><p><span><span>深圳分店</span></span></p></td><td><p><span><span>附加数据，在查询API和支付通知中原样返回，该字段主要用于商户携带订单的自定义数据</span></span></p></td></tr><tr><td><p><span><span>商户订单号</span></span></p></td><td><p><span><span>out_trade_no</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>20150806125346</span></span></p></td><td><p><span><span>商户系统内部订单号，要求32个字符内（最少6个字符），只能是数字、大小写字母_-|*且在同一个商户号下唯一。详见</span></span><span><span><a>商户订单号</a></span></span></p></td></tr><tr><td><p><span><span>货币类型</span></span></p></td><td><p><span><span>fee_type</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>CNY</span></span></p></td><td><p><span><span>符合ISO&nbsp;4217标准的三位字母代码，默认人民币：CNY，其他值列表详见</span></span><span><span><a>货币类型</a></span></span></p></td></tr><tr><td><p><span><span>总金额</span></span></p></td><td><p><span><span>total_fee</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>int</span></span></p></td><td><p><span><span>888</span></span></p></td><td><p><span><span>订单总金额，单位为分，详见</span></span><span><span><a>支付金额</a></span></span></p></td></tr><tr><td><p><span><span>终端IP</span></span></p></td><td><p><span><span>spbill_create_ip</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(64)</span></span></p></td><td><p><span><span>123.12.12.123</span></span></p></td><td><p><span><span>必须传正确的用户端IP,支持ipv4、ipv6格式，获取方式详见</span></span><span><span><a>获取用户ip指引</a></span></span></p></td></tr><tr><td><p><span><span>交易起始时间</span></span></p></td><td><p><span><span>time_start</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(14)</span></span></p></td><td><p><span><span>20091225091010</span></span></p></td><td><p><span><span>订单生成时间，格式为yyyyMMddHHmmss，如2009年12月25日9点10分10秒表示为20091225091010。其他详见</span></span><span><span><a>时间规则</a></span></span></p></td></tr><tr><td><p><span><span>交易结束时间</span></span></p></td><td><p><span><span>time_expire</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(14)</span></span></p></td><td><p><span><span>20091227091010</span></span></p></td><td><p><span><span>订单失效时间，格式为yyyyMMddHHmmss，如2009年12月27日9点10分10秒表示为20091227091010。</span></span></p></td></tr><tr><td><p><span><span>商品标记</span></span></p></td><td><p><span><span>goods_tag</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>WXG</span></span></p></td><td><p><span><span>商品标记，代金券或立减优惠功能的参数，说明详见</span></span><span><span><a>代金券或立减优惠</a></span></span></p></td></tr><tr><td><p><span><span>通知地址</span></span></p></td><td><p><span><span>notify_url</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(256)</span></span></p></td><td><p><span><span>https://www.weixin.qq.com/wxpay/pay.php</span></span></p></td><td><p><span><span>接收微信支付异步通知回调地址，通知url必须为直接可访问的url，不能携带参数。</span></span></p></td></tr><tr><td><p><span><span>交易类型</span></span></p></td><td><p><span><span>trade_type</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>MWEB</span></span></p></td><td><p><span><span>H5支付的交易类型为MWEB</span></span></p></td></tr><tr><td><p><span><span>商品ID</span></span></p></td><td><p><span><span>product_id</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>12235413214070356458058</span></span></p></td><td><p><span><span>trade_type=NATIVE，此参数必传。此id为二维码中包含的商品ID，商户自行定义。</span></span></p></td></tr><tr><td><p><span><span>用户标识</span></span></p></td><td><p><span><span>openid</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>oUpF8uMuAJO_M2pxb1Q9zNjWeS6o</span></span></p></td><td><p><span><span>trade_type=JSAPI，此参数必传，用户在商户appid下的唯一标识。openid如何获取，可参考【</span></span><span><span><a>获取openid</a></span></span><span>】。企业号请使用【</span><span><span><a>企业号OAuth2.0接口</a></span></span><span>】获取企业号内成员userid，再调用【</span><span><span><a>企业号userid转openid接口</a></span></span><span>】进行转换</span></p></td></tr><tr><td><p><span><span>电子发票入口开放标识</span></span></p></td><td><p><span><span>receipt</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(8)</span></span></p></td><td><p><span><span>Y</span></span></p></td><td><p><span><span>Y，传入Y时，支付成功消息和支付详情页将出现开票入口。需要在微信支付商户平台或微信公众平台开通电子发票功能，传此字段才可生效</span></span></p></td></tr><tr><td><p><span><span>场景信息</span></span></p></td><td><p><span><span>scene_info</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(256)</span></span></p></td><td><p><span><span>//IOS移动应用</span></span><br><span><span>{"h5_info": {"type":"IOS","app_name": "王者荣耀","bundle_id": "com.tencent.wzryIOS"}}</span></span></p><p><span><span>//安卓移动应用</span></span><br><span><span>{"h5_info": {"type":"Android","app_name": "王者荣耀","package_name": "com.tencent.tmgp.sgame"}}</span></span></p><p><span><span>//WAP网站应用</span></span><br><span><span>{"h5_info": {"type":"Wap","wap_url": "https://pay.qq.com","wap_name": "腾讯充值"}}</span></span></p><p><span><span>//门店信息</span></span><br><span><span>{"store_info" : {</span></span><br><span><span>"id": "SZTX001",</span></span><br><span><span>"name": "腾大餐厅",</span></span><br><span><span>"area_code": "440305",</span></span><br><span><span>"address": "科技园中一路腾讯大厦" }}</span></span></p></td><td><p><span><span>该字段用于上报支付的场景信息,针对H5支付有以下三种场景,请根据对应场景上报</span></span><span><span>,H5支付不建议在APP端使用，针对场景1，2请接入APP支付，不然可能会出现兼容性问题</span></span></p><p><span><span>1，IOS移动应用</span></span><br><span><span>{"h5_info":&nbsp;//h5支付固定传"h5_info"</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;{"type": "",&nbsp;&nbsp;//场景类型</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"app_name": "",&nbsp;&nbsp;//应用名</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"bundle_id": ""&nbsp;&nbsp;//bundle_id</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><br><span><span>}</span></span></p><p><span><span>2，安卓移动应用</span></span><br><span><span>{"h5_info":&nbsp;//h5支付固定传"h5_info"</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;{"type": "",&nbsp;&nbsp;//场景类型</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"app_name": "",&nbsp;&nbsp;//应用名</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"package_name": ""&nbsp;&nbsp;//包名</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><br><span><span>}</span></span></p><p><span><span>3，WAP网站应用</span></span><br><span><span>{"h5_info":&nbsp;//h5支付固定传"h5_info"</span></span><br><span><span>&nbsp;&nbsp;&nbsp;{"type": "",&nbsp;&nbsp;//场景类型</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;"wap_url": "",//WAP网站URL地址</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;"wap_name": ""&nbsp;&nbsp;//WAP 网站名</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><br><span><span>}</span></span></p><p><span><span>4，门店信息</span></span><br><span><span>{"store_info" : {</span></span><br><span><span>"id": "", //门店ID</span></span><br><span><span>"name": "", //门店名称</span></span><br><span><span>"area_code": "", //门店所在地行政区划码，详细见</span></span><span><span>《</span></span><span><span><span><svg><g><path></path></g><defs><clipPath><path></path></clipPath></defs></svg></span><a>最新县及县以上行政区划代码.csv</a></span></span><span><span>》</span></span><br><span>"address": "" //门店地址 }}</span></p></td></tr></tbody></table></div><div><p><span><span>举例如下：</span></span></p></div><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;</span><span>
</span></span></span><span><span>2</span><span><span>&lt;appid&gt;wx2421b1c4370ec43b&lt;/appid&gt;</span><span>
</span></span></span><span><span>3</span><span><span>&lt;attach&gt;支付测试&lt;/attach&gt;</span><span>
</span></span></span><span><span>4</span><span><span>&lt;body&gt;H5支付测试&lt;/body&gt;</span><span>
</span></span></span><span><span>5</span><span><span>&lt;mch_id&gt;10000100&lt;/mch_id&gt;</span><span>
</span></span></span><span><span>6</span><span><span>&lt;nonce_str&gt;1add1a30ac87aa2db72f57a2375d8fec&lt;/nonce_str&gt;</span><span>
</span></span></span><span><span>7</span><span><span>&lt;notify_url&gt;https://wxpay.wxutil.com/pub_v2/pay/notify.v2.php&lt;/notify_url&gt;</span><span>
</span></span></span><span><span>8</span><span><span>&lt;openid&gt;oUpF8uMuAJO_M2pxb1Q9zNjWeS6o&lt;/openid&gt;</span><span>
</span></span></span><span><span>9</span><span><span>&lt;out_trade_no&gt;1415659990&lt;/out_trade_no&gt;</span><span>
</span></span></span><span><span>10</span><span><span>&lt;spbill_create_ip&gt;14.23.150.211&lt;/spbill_create_ip&gt;</span><span>
</span></span></span><span><span>11</span><span><span>&lt;total_fee&gt;1&lt;/total_fee&gt;</span><span>
</span></span></span><span><span>12</span><span><span>&lt;trade_type&gt;MWEB&lt;/trade_type&gt;</span><span>
</span></span></span><span><span>13</span><span><span>&lt;scene_info&gt;{"h5_info": {"type":"IOS","app_name": "王者荣耀","package_name": "com.tencent.tmgp.sgame"}}&lt;/scene_info&gt;</span><span>
</span></span></span><span><span>14</span><span><span>&lt;sign&gt;0CB01533B8C1EF103065174F50BCA001&lt;/sign&gt;</span><span>
</span></span></span><span><span>15</span><span><span>&lt;/xml&gt;</span></span></span></pre></div><div><p><span>注：参数值用XML转义即可，CDATA标签用于说明数据不被XML解析器解析。</span></p></div><div><h2>返回结果</h2></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>返回状态码</span></span></p></td><td><p><span><span>return_code</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>SUCCESS</span></span></p></td><td><p><span><span>SUCCESS/FAIL</span></span></p><p><span><span>此字段是通信标识，非交易标识，交易是否成功需要查看trade_state来判断</span></span></p></td></tr><tr><td><p><span><span>返回信息</span></span></p></td><td><p><span><span>return_msg</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>OK</span></span></p></td><td><p><span><span>当return_code为FAIL时返回信息为错误原因 ，例如:&nbsp;签名失败、参数格式校验错误</span></span></p></td></tr></tbody></table></div><div><p><span><span>以下字段在return_code为SUCCESS的时候有返回</span></span></p></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>公众账号ID</span></span></p></td><td><p><span><span>appid</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>wx8888888888888888</span></span></p></td><td><p><span><span>调用接口提交的公众账号ID</span></span></p></td></tr><tr><td><p><span><span>商户号</span></span></p></td><td><p><span><span>mch_id</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>1900000109</span></span></p></td><td><p><span><span>调用接口提交的商户号</span></span></p></td></tr><tr><td><p><span><span>设备号</span></span></p></td><td><p><span><span>device_info</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>013467007045764</span></span></p></td><td><p><span><span>调用接口提交的终端设备号，</span></span></p></td></tr><tr><td><p><span><span>随机字符串</span></span></p></td><td><p><span><span>nonce_str</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></span></p></td><td><p><span><span>微信返回的随机字符串</span></span></p></td></tr><tr><td><p><span><span>签名</span></span></p></td><td><p><span><span>sign</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>C380BEC2BFD727A4B6845133519F3AD6</span></span></p></td><td><p><span><span>微信返回的签名，详见</span></span><span><span><a>签名算法</a></span></span></p></td></tr><tr><td><p><span><span>业务结果</span></span></p></td><td><p><span><span>result_code</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>SUCCESS</span></span></p></td><td><p><span><span>SUCCESS/FAIL</span></span></p></td></tr><tr><td><p><span><span>错误代码</span></span></p></td><td><p><span><span>err_code</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(32)</span></span></p></td><td><p><span><span>SYSTEMERROR</span></span></p></td><td><p><span><span>详细参见错误列表</span></span></p></td></tr><tr><td><p><span><span>错误代码描述</span></span></p></td><td><p><span><span>err_code_des</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>String(128)</span></span></p></td><td><p><span><span>系统错误</span></span></p></td><td><p><span><span>错误返回的信息描述</span></span></p></td></tr></tbody></table></div><div><p><span><span>以下字段在return_code&nbsp;和result_code都为SUCCESS的时候有返回</span></span></p></div><div><table><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>字段名</span></span></p></th><th><p><span><span>变量名</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>类型</span></span></p></th><th><p><span><span>示例值</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>交易类型</span></span></p></td><td><p><span><span>trade_type</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(16)</span></span></p></td><td><p><span><span>MWEB</span></span></p></td><td><p><span><span>调用接口提交的交易类型，取值如下：JSAPI，NATIVE，APP，,H5支付固定传MWEB</span></span></p></td></tr><tr><td><p><span><span>预支付交易会话标识</span></span></p></td><td><p><span><span>prepay_id</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(64)</span></span></p></td><td><p><span><span>wx201410272009395522657a690389285100</span></span></p></td><td><p><span><span>微信生成的预支付会话标识，用于后续接口调用中使用，该值有效期为2小时,针对H5支付此参数无特殊用途</span></span></p></td></tr><tr><td><p><span><span>支付跳转链接</span></span></p></td><td><p><span><span>mweb_url</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>String(64)</span></span></p></td><td><p><span><span>https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx2016121516420242444321ca0631331346&amp;package=1405458241</span></span></p></td><td><p><span><span>mweb_url为拉起微信支付收银台的中间页面，可通过访问该url来拉起微信客户端，完成支付,mweb_url的有效期为5分钟。</span></span></p></td></tr></tbody></table></div><div><p><span><span>举例如下：</span></span></p></div><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;</span><span>
</span></span></span><span><span>2</span><span><span>&nbsp;&nbsp;&nbsp;&lt;return_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/return_code&gt;</span><span>
</span></span></span><span><span>3</span><span><span>&nbsp;&nbsp;&nbsp;&lt;return_msg&gt;&lt;![CDATA[OK]]&gt;&lt;/return_msg&gt;</span><span>
</span></span></span><span><span>4</span><span><span>&nbsp;&nbsp;&nbsp;&lt;appid&gt;&lt;![CDATA[wx2421b1c4370ec43b]]&gt;&lt;/appid&gt;</span><span>
</span></span></span><span><span>5</span><span><span>&nbsp;&nbsp;&nbsp;&lt;mch_id&gt;&lt;![CDATA[10000100]]&gt;&lt;/mch_id&gt;</span><span>
</span></span></span><span><span>6</span><span><span>&nbsp;&nbsp;&nbsp;&lt;nonce_str&gt;&lt;![CDATA[IITRi8Iabbblz1Jc]]&gt;&lt;/nonce_str&gt;</span><span>
</span></span></span><span><span>7</span><span><span>&nbsp;&nbsp;&nbsp;&lt;sign&gt;&lt;![CDATA[7921E432F65EB8ED0CE9755F0E86D72F]]&gt;&lt;/sign&gt;</span><span>
</span></span></span><span><span>8</span><span><span>&nbsp;&nbsp;&nbsp;&lt;result_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/result_code&gt;</span><span>
</span></span></span><span><span>9</span><span><span>&nbsp;&nbsp;&nbsp;&lt;prepay_id&gt;&lt;![CDATA[wx201411101639507cbf6ffd8b0779950874]]&gt;&lt;/prepay_id&gt;</span><span>
</span></span></span><span><span>10</span><span><span>&nbsp;&nbsp;&nbsp;&lt;trade_type&gt;&lt;![CDATA[MWEB]]&gt;&lt;/trade_type&gt;</span><span>
</span></span></span><span><span>11</span><span><span>&nbsp;&nbsp;&nbsp;&lt;mweb_url&gt;&lt;![CDATA[https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx2016121516420242444321ca0631331346&amp;package=1405458241]]&gt;&lt;/mweb_url&gt;</span><span>
</span></span></span><span><span>12</span><span><span>&lt;/xml&gt;</span></span></span></pre></div><div><h2>错误码</h2></div><div><table><colgroup><col><col><col><col></colgroup><tbody><tr><th><p><span><span>名称</span></span></p></th><th><p><span><span>描述</span></span></p></th><th><p><span><span>原因</span></span></p></th><th><p><span><span>解决方案</span></span></p></th></tr><tr><td><p><span><span>NOAUTH</span></span></p></td><td><p><span><span>商户无此接口权限</span></span></p></td><td><p><span><span>商户未开通此接口权限</span></span></p></td><td><p><span><span>请商户前往申请此接口权限</span></span></p></td></tr><tr><td><p><span><span>ORDERPAID</span></span></p></td><td><p><span><span>商户订单已支付</span></span></p></td><td><p><span><span>商户订单已支付，无需重复操作</span></span></p></td><td><p><span><span>商户订单已支付，无需更多操作</span></span></p></td></tr><tr><td><p><span><span>ORDERCLOSED</span></span></p></td><td><p><span><span>订单已关闭</span></span></p></td><td><p><span><span>当前订单已关闭，无法支付</span></span></p></td><td><p><span><span>当前订单已关闭，请重新下单</span></span></p></td></tr><tr><td><p><span><span>SYSTEMERROR</span></span></p></td><td><p><span><span>系统错误</span></span></p></td><td><p><span><span>系统超时</span></span></p></td><td><p><span><span>系统异常，请用相同参数重新调用</span></span></p></td></tr><tr><td><p><span><span>APPID_NOT_EXIST</span></span></p></td><td><p><span><span>APPID不存在</span></span></p></td><td><p><span><span>参数中缺少APPID</span></span></p></td><td><p><span><span>请检查APPID是否正确</span></span></p></td></tr><tr><td><p><span><span>MCHID_NOT_EXIST</span></span></p></td><td><p><span><span>MCHID不存在</span></span></p></td><td><p><span><span>参数中缺少MCHID</span></span></p></td><td><p><span><span>请检查MCHID是否正确</span></span></p></td></tr><tr><td><p><span><span>APPID_MCHID_NOT_MATCH</span></span></p></td><td><p><span><span>appid和mch_id不匹配</span></span></p></td><td><p><span><span>appid和mch_id不匹配</span></span></p></td><td><p><span><span>请确认appid和mch_id是否匹配</span></span></p></td></tr><tr><td><p><span><span>LACK_PARAMS</span></span></p></td><td><p><span><span>缺少参数</span></span></p></td><td><p><span><span>缺少必要的请求参数</span></span></p></td><td><p><span><span>请检查参数是否齐全</span></span></p></td></tr><tr><td><p><span><span>OUT_TRADE_NO_USED</span></span></p></td><td><p><span><span>商户订单号重复</span></span></p></td><td><p><span><span>同一笔交易不能多次提交</span></span></p></td><td><p><span><span>请核实商户订单号是否重复提交</span></span></p></td></tr><tr><td><p><span><span>SIGNERROR</span></span></p></td><td><p><span><span>签名错误</span></span></p></td><td><p><span><span>参数签名结果不正确</span></span></p></td><td><p><span><span>请检查签名参数和方法是否都符合签名算法要求</span></span></p></td></tr><tr><td><p><span><span>XML_FORMAT_ERROR</span></span></p></td><td><p><span><span>XML格式错误</span></span></p></td><td><p><span><span>XML格式错误</span></span></p></td><td><p><span><span>请检查XML参数格式是否正确</span></span></p></td></tr><tr><td><p><span><span>REQUIRE_POST_METHOD</span></span></p></td><td><p><span><span>请使用post方法</span></span></p></td><td><p><span><span>未使用post传递参数&nbsp;</span></span></p></td><td><p><span><span>请检查请求参数是否通过post方法提交</span></span></p></td></tr><tr><td><p><span><span>POST_DATA_EMPTY</span></span></p></td><td><p><span><span>post数据为空</span></span></p></td><td><p><span><span>post数据不能为空</span></span></p></td><td><p><span><span>请检查post数据是否为空</span></span></p></td></tr><tr><td><p><span><span>NOT_UTF8</span></span></p></td><td><p><span><span>编码格式错误</span></span></p></td><td><p><span><span>未使用指定编码格式</span></span></p></td><td><p><span><span>请使用UTF-8编码格式</span></span></p></td></tr></tbody></table></div><p>&nbsp;</p></div></body></html></div><div></div></div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><div> 更多支持 </div><div><a>开发文档(服务商)</a><a>开发文档(V2版)</a><a>开发者社区</a><a>微信开放平台</a><a>微信公众平台</a><a>腾讯客服</a></div></div></div></div><div><div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><a><span>应用场景</span></a></div><div><a><span>接口链接</span></a></div><div><a><span>是否需要证书</span></a></div><div><a><span>请求参数</span></a></div><div><a><span>返回结果</span></a></div><div><a><span>错误码</span></a></div></div><div><a><i></i><span>AI开发助手</span></a></div></div><div><div><div><img><img><div> 元宝AI </div></div><div><div><img><img><div> 反馈 </div></div><div><img><img><div> 目录 </div></div><div><img><img><div> 置顶 </div></div></div></div></div></div></div></main><footer><div> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div> Powered By Tencent &amp; Tenpay<br>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>