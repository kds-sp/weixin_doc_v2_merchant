<!DOCTYPE html>
    <html>
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta />
        
    <title>H5纯签约_产品文档（V2）|微信支付商户文档中心</title><meta>
    <meta>
    
    
    
    
  
      </head>
      <body>
        
        <div><section><header><div><div><div><a><img></a></div><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div><div><div> 文档中心 </div><img></div></div></div><div><img><div><a>首页</a><a>接入指引</a><a>产品中心</a><a>解决方案</a><a>文档中心</a><a>接入微信支付</a></div></div></header><section><div><div><div><div><a>产品文档（V2）</a><a>通用规则</a><a>SDK&amp;开发工具</a><a>更新日志</a></div></div><div><div><div><img><div>产品文档（V2）</div></div></div><div><button><span> 技术咨询 </span></button></div></div></div></div></section><section><aside><div><div><ul><li><section><p><span><span>支付产品</span></span><span></span></p><ul><li><section><p><span><span>付款码支付</span></span><span></span></p></section></li><li><section><p><span><span>JSAPI支付</span></span><span></span></p></section></li><li><section><p><span><span>Native支付</span></span><span></span></p></section></li><li><section><p><span><span>APP支付</span></span><span></span></p></section></li><li><section><p><span><span>H5支付</span></span><span></span></p></section></li><li><section><p><span><span>小程序支付</span></span><span></span></p></section></li></ul></section></li><li><section><p><span><span>运营工具</span></span><span></span></p><ul><li><section><p><span><span>现金红包</span></span><span></span></p></section></li><li><section><p><span><span>小程序红包</span></span><span></span></p></section></li><li><section><p><span><span>付款到银行卡</span></span><span></span></p></section></li><li></li><li><section><p><span><span>委托代扣</span></span><span></span></p><ul><li><div><a><span>产品介绍</span></a></div></li><li><section><p><span><span>接入指引</span></span><span></span></p></section></li><li><section><p><span><span>API列表</span></span><span></span></p><ul><li><section><p><span><span>纯签约API</span></span><span></span></p><ul><li><div><a><span>公众号纯签约</span></a></div></li><li><div><a><span>APP纯签约</span></a></div></li><li><div><a><span>小程序纯签约</span></a></div></li><li><div><a><span>H5纯签约</span></a></div></li><li><div><a><span>APP调起签约</span></a></div></li></ul></section></li><li><section><p><span><span>支付中签约</span></span><span></span></p></section></li><li><section><p><span><span>扣款及解约API</span></span><span></span></p></section></li><li><section><p><span><span>查询及回调通知API</span></span><span></span></p></section></li><li><section><p><span><span>基础API</span></span><span></span></p></section></li></ul></section></li><li><div><a><span>常见问题</span></a></div></li></ul></section></li><li></li><li></li></ul></section></li><li><section><p><span><span>扩展工具</span></span><span></span></p><ul><li><section><p><span><span>分账</span></span><span></span></p></section></li><li><section><p><span><span>清关报关</span></span><span></span></p></section></li><li></li><li></li><li></li></ul></section></li></ul></div></div></aside><main><div><main><div><div><h1>H5纯签约</h1><span> 更新时间：2025.09.24</span><div><div><html><head></head><body><div><div><p><span><span>该方式适用于手机、平板电脑等使用H5浏览器的设备场景使用微信签约扣款。商户在网站前端通过微信支付H5纯签约接口与用户签订委托扣款协议，再通过后台接口申请扣款来完成代扣交易。</span></span></p></div><table><tbody><tr><td><table><tbody><tr><td><svg><path></path></svg></td><td><div><p><span><span><span>注意</span></span></span></p></div><p><span>1、如果签约成功，微信会异步通知给商户（notify_url为通知路径），如果签约失败则不通知。</span></p><p><span>2、调用此接口后获得redirect_url，需要在前端跳转到redirect_url，在商户的前端页面&lt;head&gt;处需要添加声明&lt;meta&nbsp;name="referrer" content="no-referrer-when-downgrade"&gt;</span></p><p><span>3、此外，不能使用window.location.replace(redirect_url)的方式跳转，而要通过window.location.href&nbsp;= redirect_url的方式跳转。</span></p><p><span>4、在redirect_url页面，会唤起微信。无论用户是否同意，redirect_url的页面会在3秒后自动回到refer页面。</span></p><p><span>5、如果获取的refer只有域名没有路径，那么签约完成后，需要用户手动回到浏览器。</span></p><div><p><span><span><span>特别提醒</span></span></span><span><span>：</span></span><span>该业务接口暂未全面开放，需要单独申请后方可使用，详情可查看申请指引：</span><span><a>委托代扣-App&amp;H5纯签约申请流程</a></span></p></div></td></tr></tbody></table></td></tr></tbody></table><div><h2><span>接口说明</span></h2></div><div><p><span><span><span>适用对象：</span></span></span><span><span>直连商户</span></span></p></div><div><p><span><span><span>请求URL：</span></span></span><span><span>&nbsp;https://api.mch.weixin.qq.com/papay/h5entrustweb</span></span></p></div><div><p><span><span><span>请求方式：</span></span></span><span><span>&nbsp;GET</span></span></p></div><div><p><span><span><span>签名方式：</span></span></span><span><span>&nbsp;HMAC-SHA256、MD5</span></span></p></div><div><p><span><span><span>是否需要证书：</span></span></span><span><span>&nbsp;否</span></span></p></div><div><h2><span>请求参数</span></h2></div><div><table><colgroup><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>参数名</span></span></p></th><th><p><span><span>变量</span></span></p></th><th><p><span><span>类型[长度限制]</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>应用ID</span></span></p></td><td><p><span><span>appid</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>直连商户申请的公众号或移动应用appid。</span></span><br><span><span>示例值：wxcbda96de0b165486</span></span></p></td></tr><tr><td><p><span><span>商户号</span></span></p></td><td><p><span><span>mch_id</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>商户号是商户在微信申请微信支付成功后分配的账号ID，登录平台为pay.weixin.qq.com</span></span><br><span><span>示例值：1200009811</span></span></p></td></tr><tr><td><p><span><span>模板id</span></span></p></td><td><p><span><span>plan_id</span></span></p></td><td><p><span><span>string[1,28]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>协议模板id，设置路径见</span></span><span><span><a>开发步骤</a></span></span><span>。</span><br><span><span>示例值：12535</span></span></p></td></tr><tr><td><p><span><span>签约协议号</span></span></p></td><td><p><span><span>contract_code</span></span></p></td><td><p><span><span>string[1,128]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>商户侧的签约协议号，由商户生成，只能是数字、大小写字母的描述。</span></span><br><span><span>示例值：100000</span></span></p></td></tr><tr><td><p><span><span>请求序列号</span></span></p></td><td><p><span><span>request_serial</span></span></p></td><td><p><span><span>int&nbsp;64</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>商户请求签约时的序列号，要求唯一性。禁止使用0开头，序列号主要用于排序，不作为查询条件，纯数字，范围不能超过int64的范围（9223372036854775807）。</span></span><br><span><span>示例值：1000</span></span></p></td></tr><tr><td><p><span><span>用户账户展示名称</span></span></p></td><td><p><span><span>contract_display_account</span></span></p></td><td><p><span><span>string[1,128]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>签约用户的名称，用于用户签约页面的“开通账号”处进行展示，参数值不支持UTF8非3字节编码的字符，例如表情符号，所以请勿传微信昵称到该字段</span></span><br><span><span>示例值：微信代扣</span></span></p></td></tr><tr><td><p><span><span>回调通知url</span></span></p></td><td><p><span><span>notify_url</span></span></p></td><td><p><span><span>string[1,256]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>用于接收签约成功消息的回调通知地址，以http或https开头，通知url必须为外网可访问的url，不能携带参数。</span></span><br><span><span>请对notify_url参数值进行encode处理,注意是对参数值进行encode，例如参数为notify_url=“https://weixin.qq.com”，则需要encode的内容为https://weixin.qq.com。</span></span><br><span><span>示例值：https://weixin.qq.com</span></span></p></td></tr><tr><td><p><span><span>版本号</span></span></p></td><td><p><span><span>version</span></span></p></td><td><p><span><span>string[1,8]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>固定值1.0</span></span><br><span><span>示例值：1.0</span></span></p></td></tr><tr><td><p><span><span>签名</span></span></p></td><td><p><span><span>sign</span></span></p></td><td><p><span><span>string[1,64]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>详见</span></span><span><span><a>签名生成算法</a></span></span><br><span><span>示例值：C380BEC2BFD727A4B6845133519F3AD6</span></span></p></td></tr><tr><td><p><span><span>签名类型</span></span></p></td><td><p><span><span>sign_type</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>MD5或者HMAC-SHA256，不填默认HMAC-SHA256</span></span><br><span><span>注意：H5的预签约的默认签名方式是(sign_type为空或无该字段)：HMAC-SHA256</span></span><br><span><span>示例值：MD5</span></span></p></td></tr><tr><td><p><span><span>时间戳</span></span></p></td><td><p><span><span>timestamp</span></span></p></td><td><p><span><span>string[1,10]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>系统当前时间，10位</span></span><br><span><span>示例值：1414488825</span></span></p></td></tr><tr><td><p><span><span>客户端&nbsp;IP</span></span></p></td><td><p><span><span>clientip</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>用户客户端的IP地址</span></span><br><span><span>示例值：119.145.83.6</span></span></p></td></tr><tr><td><p><span><span>回调应用appid</span></span></p></td><td><p><span><span>return_appid</span></span></p></td><td><p><span><span>string[1,32]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>用来控制签约页面结束后的返回路径。</span></span><br><span><span>当指定该字段时，且商户模板标注商户具有指定返回app的权限时，签约成功将返回return_appid指定的app应用，如果不填且签约发起时的浏览器UA可被微信识别，则跳转到浏览器，否则留在微信</span></span><br><span><span>示例值：wxcbda96de0b165486</span></span></p></td></tr></tbody></table></div><div><h2><span>请求示例</span></h2></div><p><span><span>URL</span></span></p><div><img><pre><span><span>1</span><span><span>https://api.mch.weixin.qq.com/papay/h5entrustweb?appid=wx426a3015555a46be&amp;contract_code=122&amp;contract_display_account=name1&amp;mch_id=1223816102¬ify_url=https%3A%2F%2Fwww.qq.com%2Ftest%2Fpapay&amp;plan_id=106&amp;request_serial=123&amp; return_appid= wxcbda96de0b165542&amp;clientip=12.1.1.12&amp;timestamp=1414488825&amp;version=1.0&amp;sign= 130C7B07DD3B8074F7BF8BEF5C9A86487A1C57478F8C55587876B9C782F72036</span></span></span></pre></div><div><h2><span>返回参数</span></h2></div><div><table><colgroup><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>参数名</span></span></p></th><th><p><span><span>变量</span></span></p></th><th><p><span><span>类型[长度限制]</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>返回状态码</span></span></p></td><td><p><span><span>return_code</span></span></p></td><td><p><span><span>string[1,16]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>SUCCESS/FAIL</span></span><br><span><span>非签约结果标识，签约发起是否成功需要查看result_code来判断。</span></span><br><span><span>示例值：SUCCESS</span></span></p></td></tr><tr><td><p><span><span>返回信息</span></span></p></td><td><p><span><span>return_msg</span></span></p></td><td><p><span><span>string[1,128]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>返回信息，如非空，为错误原因</span></span><br><span><span>如：签名失败&nbsp;等。</span></span><br><span><span>示例值：签名失败</span></span></p></td></tr></tbody></table></div><div><p><span><span><span>以下字段在return_code为SUCCESS的时候有返回</span></span></span></p></div><div><table><colgroup><col><col><col><col><col></colgroup><tbody><tr><th><p><span><span>参数名</span></span></p></th><th><p><span><span>变量</span></span></p></th><th><p><span><span>类型[长度限制]</span></span></p></th><th><p><span><span>必填</span></span></p></th><th><p><span><span>描述</span></span></p></th></tr><tr><td><p><span><span>业务结果</span></span></p></td><td><p><span><span>result_code</span></span></p></td><td><p><span><span>string[1,16]</span></span></p></td><td><p><span><span>是</span></span></p></td><td><p><span><span>SUCCESS/FAIL</span></span><br><span><span>示例值：SUCCESS</span></span></p></td></tr><tr><td><p><span><span>业务结果描述</span></span></p></td><td><p><span><span>result_msg</span></span></p></td><td><p><span><span>string[1,128]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>如非空，为错误原因，如签名错误</span></span><br><span><span>示例值：SIGN_ERROR</span></span></p></td></tr><tr><td><p><span><span>跳转URL</span></span></p></td><td><p><span><span>redirect_url</span></span></p></td><td><p><span><span>string[1,256]</span></span></p></td><td><p><span><span>否</span></span></p></td><td><p><span><span>redirect_url的有效期为10分钟，跳转签约页面url，用户通过跳转访问此URL即可进入微信签约页面，进行签约。注意这里请求跳转url的页面地址必须在微信后台配置（申请H5签约权限时配置）。</span></span><br><span><span>示例值：https://payapp.weixin.qq.com</span></span></p></td></tr></tbody></table></div><div><h2><span>返回示例</span></h2></div><p><span><span>正常示例</span></span></p><div><img><pre><span><span>1</span><span><span>&lt;xml&gt;</span><span>
</span></span></span><span><span>2</span><span><span>&nbsp;&lt;return_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/return_code&gt;</span><span>
</span></span></span><span><span>3</span><span><span>&nbsp;&lt;return_msg&gt;&lt;![CDATA[PARAM_ERROR]]&gt;&lt;/return_msg&gt;</span><span>
</span></span></span><span><span>4</span><span><span>&nbsp;&lt;result_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/result_code&gt;</span><span>
</span></span></span><span><span>5</span><span><span>&nbsp;&lt;result_msg&gt;&lt;![CDATA[SIGN_ERROR]]&gt;&lt;/result_msg&gt;</span><span>
</span></span></span><span><span>6</span><span><span>&nbsp;&lt;redirect_url&gt;&lt;![CDATA[https://payapp.weixin.qq.com]]&gt;&lt;/redirect_url&gt;</span><span>
</span></span></span><span><span>7</span><span><span>&lt;/xml&gt;    </span></span></span></pre></div><p>&nbsp;</p></div></body></html></div><div></div></div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><div> 更多支持 </div><div><a>开发文档(服务商)</a><a>开发文档(V2版)</a><a>开发者社区</a><a>微信开放平台</a><a>微信公众平台</a><a>腾讯客服</a></div></div></div></div><div><div><div><div><div> 文档是否有帮助 </div><div><button><i></i>是 </button><button><i></i>否 </button></div></div></div><div><div><a><span>接口说明</span></a></div><div><a><span>请求参数</span></a></div><div><a><span>请求示例</span></a></div><div><a><span>返回参数</span></a></div><div><a><span>返回示例</span></a></div></div><div><a><i></i><span>AI开发助手</span></a></div></div><div><div><div><img><img><div> 元宝AI </div></div><div><div><img><img><div> 反馈 </div></div><div><img><img><div> 目录 </div></div><div><img><img><div> 置顶 </div></div></div></div></div></div></div></main><footer><div> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div> Powered By Tencent &amp; Tenpay<br>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>