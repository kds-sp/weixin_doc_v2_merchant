<!DOCTYPE html>
    <html lang="zh-CN">
      <head>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <meta charset="UTF-8" />
        
    <title>申请退款_产品文档（V2）|微信支付商户文档中心</title><meta property="og:title" content="申请退款_产品文档（V2）|微信支付商户文档中心">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
    
    
    
  
      </head>
      <body>
        
        <div id="app"><section class="t-layout" data-v-45cd89fe><header class="t-layout__header wrap" data-v-45cd89fe data-v-24ca267f><div class="header" data-v-24ca267f><div class="header-wrap" data-v-24ca267f><div class="logo" data-v-24ca267f><a href="https://pay.weixin.qq.com/" data-v-24ca267f><img class="logo-partner" src="https://wx.gtimg.com/pay/img/common/logo.svg?v=20190327" alt data-v-24ca267f></a></div><div class="link" data-v-24ca267f><a href="https://pay.weixin.qq.com/index.php/core/home/login?return_url=%2F" class="" data-v-24ca267f>首页</a><a href="https://pay.weixin.qq.com/static/applyment_guide/applyment_index.shtml" class="" data-v-24ca267f>接入指引</a><a href="https://pay.weixin.qq.com/static/product/product_index.shtml" class="" data-v-24ca267f>产品中心</a><a href="https://pay.weixin.qq.com/static/solution/solution_index.shtml" class="" data-v-24ca267f>解决方案</a><a href="https://pay.weixin.qq.com/doc/v2" class="selected" data-v-24ca267f>文档中心</a><a href="http://pay.weixin.qq.com/index.php/apply/applyment_home/guide_normal" class="btn-primary btn-apply" target="_blank" data-v-24ca267f>接入微信支付</a></div><div class="navbar-toggle" data-v-24ca267f><div class="navbar-toggle__des" data-v-24ca267f> 文档中心 </div><img class="navbar-toggle__icon" src="https://gtimg.wechatpay.cn/resource/xres/img/202409/55b0d9d534b0ccd145bcbe8e932f3053_80x80.svg" alt data-v-24ca267f></div></div></div><div class="navbar-collapse" data-v-24ca267f><img class="close-icon" src="https://gtimg.wechatpay.cn/resource/xres/img/202409/cbbd950ece1f5688079a7f55da0798f9_48x48.svg" alt data-v-24ca267f><div class="link" data-v-24ca267f><a href="https://pay.weixin.qq.com/index.php/core/home/login?return_url=%2F" class="" data-v-24ca267f>首页</a><a href="https://pay.weixin.qq.com/static/applyment_guide/applyment_index.shtml" class="" data-v-24ca267f>接入指引</a><a href="https://pay.weixin.qq.com/static/product/product_index.shtml" class="" data-v-24ca267f>产品中心</a><a href="https://pay.weixin.qq.com/static/solution/solution_index.shtml" class="" data-v-24ca267f>解决方案</a><a href="https://pay.weixin.qq.com/doc/v2" class="selected" data-v-24ca267f>文档中心</a><a href="https://pay.weixin.qq.com/index.php/apply/applyment_home/guide_normal" class="btn-primary btn-apply" target="_blank" data-v-24ca267f>接入微信支付</a></div></div></header><section class="t-layout subnavbar-layout" data-v-45cd89fe><div class="sub-navbar" data-v-204f5510><div class="sub-navbar-wrap" data-v-204f5510><div class="segment-nav" data-v-204f5510><div class="segment-nav-left" data-v-204f5510><a href="javascript:" class="selected" data-v-204f5510>产品文档（V2）</a><a href="javascript:" class="" data-v-204f5510>通用规则</a><a href="javascript:" class="" data-v-204f5510>SDK&amp;开发工具</a><a href="javascript:" class="" data-v-204f5510>更新日志</a></div></div><div class="segment-nav-box" data-v-204f5510><div class="segment-nav-toggle" data-v-204f5510><div class="sub-navbar-toggle" data-v-204f5510><img class="sub-navbar-toggle__icon" src="https://gtimg.wechatpay.cn/resource/xres/img/202409/6926a37e3d500f8a9446546bb16252ad_80x80.svg" alt="" data-v-204f5510><div class="sub-navbar-toggle__des" data-v-204f5510>产品文档（V2）</div></div></div><div class="online-service" data-v-204f5510><button class="t-button t-button--variant-base t-button--theme-primary" type="button" href tabindex="0" data-v-204f5510><span class="t-button__text"> 技术咨询 </span></button></div></div></div></div></section><section class="t-layout content-layout" data-v-45cd89fe><aside class="t-layout__sider wrap" id="sidebar" data-v-45cd89fe data-v-c3fa0a07><div class="sidebar" data-v-c3fa0a07><div class="inner" data-v-c3fa0a07><ul class="sidebar-links sidebar-links-spacing" data-v-c3fa0a07><li><section class="sidebar-group collapsable depth-0"><p class="open sidebar-heading ellipsis"><span><span>支付产品</span></span><span class="up arrow"></span></p><ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable depth-1"><p class="open sidebar-heading ellipsis"><span><span>付款码支付</span></span><span class="up arrow"></span></p><ul class="sidebar-links sidebar-group-items"><li><div><a href="4011987975.html" class="sidebar-link ellipsis"><span>支付账户</span></a></div></li><li><div><a href="4011936234.html" class="sidebar-link ellipsis"><span>场景介绍</span></a></div></li><li><div><a href="4011936523.html" class="sidebar-link ellipsis"><span>验证密码规则</span></a></div></li><li><div><a href="4011936527.html" class="sidebar-link ellipsis"><span>案例介绍</span></a></div></li><li><div><a href="4011986581.html" class="sidebar-link ellipsis"><span>协议规则</span></a></div></li><li><div><a href="4011936672.html" class="sidebar-link ellipsis"><span>开发指引</span></a></div></li><li><section class="sidebar-group collapsable depth-2"><p class="open sidebar-heading ellipsis"><span><span>API列表</span></span><span class="up arrow"></span></p><ul class="sidebar-links sidebar-group-items"><li><div><a href="4011937125.html" class="sidebar-link ellipsis"><span>付款码支付</span></a></div></li><li><div><a href="4011937320.html" class="sidebar-link ellipsis"><span>查询订单</span></a></div></li><li><div><a href="4011937361.html" class="sidebar-link ellipsis"><span>撤销订单</span></a></div></li><li><div><a href="4011937624.html" class="active sidebar-link ellipsis"><span>申请退款</span></a></div></li><li><div><a href="4011939577.html" class="sidebar-link ellipsis"><span>查询退款</span></a></div></li><li><div><a href="4011939627.html" class="sidebar-link ellipsis"><span>下载交易账单</span></a></div></li><li><div><a href="4011939779.html" class="sidebar-link ellipsis"><span>下载资金账单</span></a></div></li><li><div><a href="4011939966.html" class="sidebar-link ellipsis"><span>交易保障</span></a></div></li><li><div><a href="4011940944.html" class="sidebar-link ellipsis"><span>付款码查询openid</span></a></div></li><li><div><a href="4011940955.html" class="sidebar-link ellipsis"><span>退款结果通知</span></a></div></li></ul></section></li><li><div><a href="4016429686.html" class="sidebar-link ellipsis"><span>常见问题</span></a></div></li></ul></section></li><li><section class="sidebar-group collapsable depth-1"><p class="sidebar-heading ellipsis"><span><span>JSAPI支付</span></span><span class="down arrow"></span></p></section></li><li><section class="sidebar-group collapsable depth-1"><p class="sidebar-heading ellipsis"><span><span>Native支付</span></span><span class="down arrow"></span></p></section></li><li><section class="sidebar-group collapsable depth-1"><p class="sidebar-heading ellipsis"><span><span>APP支付</span></span><span class="down arrow"></span></p></section></li><li><section class="sidebar-group collapsable depth-1"><p class="sidebar-heading ellipsis"><span><span>H5支付</span></span><span class="down arrow"></span></p></section></li><li><section class="sidebar-group collapsable depth-1"><p class="sidebar-heading ellipsis"><span><span>小程序支付</span></span><span class="down arrow"></span></p></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading ellipsis"><span><span>运营工具</span></span><span class="up arrow"></span></p><ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable depth-1"><p class="sidebar-heading ellipsis"><span><span>现金红包</span></span><span class="down arrow"></span></p></section></li><li><section class="sidebar-group collapsable depth-1"><p class="sidebar-heading ellipsis"><span><span>小程序红包</span></span><span class="down arrow"></span></p></section></li><li><section class="sidebar-group collapsable depth-1"><p class="sidebar-heading ellipsis"><span><span>付款到银行卡</span></span><span class="down arrow"></span></p></section></li><li></li><li><section class="sidebar-group collapsable depth-1"><p class="sidebar-heading ellipsis"><span><span>委托代扣</span></span><span class="down arrow"></span></p></section></li><li></li><li></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading ellipsis"><span><span>扩展工具</span></span><span class="up arrow"></span></p><ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable depth-1"><p class="sidebar-heading ellipsis"><span><span>分账</span></span><span class="down arrow"></span></p></section></li><li><section class="sidebar-group collapsable depth-1"><p class="sidebar-heading ellipsis"><span><span>清关报关</span></span><span class="down arrow"></span></p></section></li><li></li><li></li><li></li></ul></section></li></ul></div></div></aside><main class="t-layout__content" data-v-45cd89fe><div class="page-container" data-v-45cd89fe><main class="page" data-v-45cd89fe><div class="page-inner-container" data-v-45cd89fe><div id="page-content" class="page-content" data-v-45cd89fe><h1 class="content-title" data-v-45cd89fe>申请退款</h1><span class="last-updated-date" data-v-45cd89fe> 更新时间：2025.03.21</span><div id="main-content" class="theme-default-content" data-v-45cd89fe><div data-v-45cd89fe><html><head></head><body><div class="iwiki-wrapper"><div class="iwiki-wrapper"><div><h2 class="iwiki-h2" id="应用场景">应用场景</h2></div><div><p class="iwiki-p"><span><span>当交易发生之后一段时间内，由于买家或者卖家的原因需要退款时，卖家可以通过退款接口将支付款退还给买家，微信支付将在收到退款请求并且验证成功之后，按照退款规则将支付款按原路退到买家账号上。&nbsp;</span></span></p></div><table cellspacing="0" cellpadding="0" border="0" class=" iwiki-commonTable" width="100%"><tbody><tr><td class="iwiki-panel" width="100%"><table cellspacing="0" cellpadding="0" border="0" class="iwiki-panel-innerTable iwiki-panel-type-success iwiki-commonTable" width="100%"><tbody><tr><td class="iwiki-panel-iconTd success" width="24" height="24" valign="top"><svg focusable="false" aria-hidden="true" viewBox="0 0 16 16"><path d="M8 1C4.13 1 1 4.13 1 8C1 11.87 4.13 15 8 15C11.87 15 15 11.87 15 8C15 4.13 11.87 1 8 1ZM11.05 6.59L7.51 10.13C7.41 10.23 7.25 10.23 7.16 10.13L4.95 7.92C4.85 7.82 4.85 7.66 4.95 7.57L5.3 7.22C5.4 7.12 5.56 7.12 5.65 7.22L7.33 8.9L10.34 5.89C10.44 5.79 10.6 5.79 10.69 5.89L11.04 6.24C11.14 6.34 11.14 6.5 11.04 6.59H11.05Z" fill="currentColor"></path></svg></td><td class="iwiki-panel-inner" width="100%"><div><p class="iwiki-p"><span><span>注意：</span></span></p></div><div><p class="iwiki-p"><span><span>1、交易时间超过一年的订单无法提交退款</span></span></p></div><div><p class="iwiki-p"><span><span>2、微信支付退款支持单笔交易分多次退款，多次退款需要提交原支付订单的商户订单号和设置不同的退款单号。申请退款总金额不能超过订单金额。</span></span><span><span>&nbsp;</span></span><span>一笔退款失败后重新提交，请不要更换退款单号，请使用原商户退款单号</span></p></div><div><p class="iwiki-p"><span><span>3、请求频率限制：150qps，即每秒钟正常的申请退款请求次数不超过150次</span></span></p></div><div><p class="iwiki-p"><span><span>4、每个支付订单的部分退款次数不能超过50次</span></span></p></div><div><p class="iwiki-p"><span><span>5、如果同一个用户有多笔退款，建议分不同批次进行退款，避免并发退款导致退款失败</span></span></p></div><div><p class="iwiki-p"><span><span>6、申请退款接口的返回仅代表业务的受理情况，具体退款是否成功，需要通过退款查询接口获取结果。</span></span></p></div><div><p class="iwiki-p"><span><span>7、一个月之前的订单申请退款频率限制为：5000/min</span></span></p></div><div><p class="iwiki-p"><span><span>8、同一笔订单多次退款的请求需相隔1分钟</span></span></p></div></td></tr></tbody></table></td></tr></tbody></table><div><h2 class="iwiki-h2" id="状态机">状态机</h2></div><div><p class="iwiki-p"><span><span>退款状态转变如下：</span></span></p></div><div><p class="iwiki-p"><span class="iwiki-inlineExtension-outer iwiki-border-none"><img src="https://gtimg.wechatpay.cn/resource/xres/mmpaydoc/static/img/72549d8ff6ddbb92ad4e71f10f170974.png" name="image.png" class="iwiki-image iwiki-border-none" type="image" width="437" height="486"></span>&nbsp;</p></div><div><h2 class="iwiki-h2" id="接口地址">接口地址</h2></div><div><p class="iwiki-p"><span><span>接口链接：https://api.mch.weixin.qq.com/secapi/pay/refund</span></span></p></div><div><h2 class="iwiki-h2" id="是否需要证书">是否需要证书</h2></div><div><p class="iwiki-p"><span><span>请求需要双向证书。&nbsp;详见</span></span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011985891" target="_blank">证书使用</a></span></span></p></div><div><h3 class="iwiki-h3" id="请求参数">请求参数</h3></div><div class="iwiki-tableNode-wrapper"><table class="iwiki-tableNode"><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span><span>字段名</span></span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span><span>变量名</span></span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span><span>必填</span></span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span><span>类型</span></span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span><span>示例值</span></span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span><span>描述</span></span></p></th></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>公众账号ID</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>appid</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>是</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(32)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>wx8888888888888888</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>微信分配的公众账号ID（企业号corpid即为此appid）</span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>商户号</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>mch_id</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>是</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(32)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>1900000109</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>微信支付分配的商户号</span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>随机字符串</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>nonce_str</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>是</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(32)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>随机字符串，不长于32位。推荐</span></span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011985891" target="_blank">随机数生成算法</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>签名</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>sign</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>是</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(32)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>C380BEC2BFD727A4B6845133519F3AD6</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>签名，详见</span></span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011985891" target="_blank">签名生成算法</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>签名类型</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>sign_type</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>否</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(32)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>HMAC-SHA256</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>签名类型，目前支持HMAC-SHA256和MD5，默认为MD5</span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>微信支付订单号</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>transaction_id</span></span></p></td><td colspan="1" rowspan="2" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>二选一</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(32)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>1217752501201407033233368018</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>微信生成的订单号，在支付通知中有返回</span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>商户订单号</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>out_trade_no</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(32)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>1217752501201407033233368018</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>商户系统内部订单号，要求32个字符内（最少6个字符），只能是数字、大小写字母_-|*且在同一个商户号下唯一。详见</span></span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011941162" target="_blank">商户订单号</a></span></span></p><p class="iwiki-p"><span><span>transaction_id、out_trade_no二选一，如果同时存在优先级：transaction_id&gt;&nbsp;out_trade_no</span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>商户退款单号</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>out_refund_no</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>是</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(64)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>1217752501201407033233368018</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>商户系统内部的退款单号，商户系统内部唯一，只能是数字、大小写字母_-|*@&nbsp;，同一退款单号多次请求只退一笔。</span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>订单金额</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>total_fee</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>是</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>int</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>100</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>订单总金额，单位为分，只能为整数，详见</span></span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011941162" target="_blank">支付金额</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>退款金额</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>refund_fee</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>是</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>int</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>100</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>退款总金额，订单总金额，单位为分，只能为整数，详见</span></span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011941162" target="_blank">支付金额</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>退款货币种类</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>refund_fee_type</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>否</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(8)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>CNY</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>退款货币类型，需与支付一致，或者不填。符合ISO&nbsp;4217标准的三位字母代码，默认人民币：CNY，其他值列表详见</span></span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011941162" target="_blank">货币类型</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>退款原因</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>refund_desc</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>否</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(80)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>商品已售完</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>若商户传入，会在下发给用户的退款消息中体现退款原因</span></span></p><p class="iwiki-p"><span><span>注意：若订单退款金额≤1元，且属于部分退款，则不会在退款消息中体现退款原因</span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>退款资金来源</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>refund_account</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>否</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(30)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>REFUND_SOURCE_RECHARGE_FUNDS</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>仅针对老资金流商户使用</span></span></p><p class="iwiki-p"><span><span>REFUND_SOURCE_UNSETTLED_FUNDS---未结算资金退款（默认使用未结算资金退款）</span></span></p><p class="iwiki-p"><span><span>REFUND_SOURCE_RECHARGE_FUNDS---可用余额退款</span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>退款结果通知url</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>notify_url</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>否</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>String(256)</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>https://weixin.qq.com/notify/</span></span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span><span>异步接收微信支付退款结果通知的回调地址，通知URL必须为外网可访问的url，不允许带参数</span></span><br><span><span>公网域名必须为https，如果是走专线接入，使用专线NAT&nbsp;IP或者私有回调域名可使用http</span></span></p><p class="iwiki-p"><span><span>如果参数中传了notify_url，则商户平台上配置的回调地址将不会生效。</span></span></p></td></tr></tbody></table></div><div><p class="iwiki-p"><span><span>举例如下：</span></span></p></div><div class="iwiki-codeBlock-div" language="null"><img class="iwiki-codeBlock-copy" src="https://gtimg.wechatpay.cn/resource/xres/img/202409/5236a3a065efe1276d29855d7cad26f8_16x16.svg" width="20" height="20"><pre class="iwiki-codeBlock"><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber firstline">1</span><span class="iwiki-codeBlock-line"><span>&lt;xml&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">2</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;appid&gt;wx2421b1c4370ec43b&lt;/appid&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">3</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;mch_id&gt;10000100&lt;/mch_id&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">4</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;nonce_str&gt;6cefdb308e1e2e8aabd48cf79e546a02&lt;/nonce_str&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">5</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;out_refund_no&gt;1415701182&lt;/out_refund_no&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">6</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;out_trade_no&gt;1415757673&lt;/out_trade_no&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">7</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;refund_fee&gt;1&lt;/refund_fee&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">8</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;total_fee&gt;1&lt;/total_fee&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">9</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;transaction_id&gt;4006252001201705123297353072&lt;/transaction_id&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">10</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;sign&gt;FE56DD4AA85C0EECA82C35595A69E153&lt;/sign&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber lastline">11</span><span class="iwiki-codeBlock-line"><span>&lt;/xml&gt;</span></span></span></pre></div><div><h2 class="iwiki-h2" id="返回结果">返回结果</h2></div><div class="iwiki-tableNode-wrapper"><table class="iwiki-tableNode"><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>字段名</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>变量名</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>必填</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>类型</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>示例值</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>描述</span></p></th></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>返回状态码</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>return_code</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(16)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>SUCCESS</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>SUCCESS/FAIL</span></p><p class="iwiki-p"><span>此字段是通信标识，表示接口层的请求结果，并非退款状态。</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>返回信息</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>return_msg</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(128)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>OK</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>当return_code为FAIL时返回信息为错误原因&nbsp;，例如</span></p><p class="iwiki-p"><span>签名失败</span></p><p class="iwiki-p"><span>参数格式校验错误</span></p></td></tr></tbody></table></div><div><p class="iwiki-p"><span>以下字段在return_code为SUCCESS的时候有返回</span></p></div><div class="iwiki-tableNode-wrapper"><table class="iwiki-tableNode"><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>字段名</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>变量名</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>必填</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>类型</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>示例值</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>描述</span></p></th></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>业务结果</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>result_code</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(16)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>SUCCESS</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>SUCCESS/FAIL</span></p><p class="iwiki-p"><span>SUCCESS退款申请接收成功，结果通过退款查询接口查询</span></p><p class="iwiki-p"><span>FAIL&nbsp;提交业务失败</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>错误代码</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>err_code</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(32)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>SYSTEMERROR</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>列表详见错误码列表</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>错误代码描述</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>err_code_des</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(128)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>系统超时</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>结果信息描述</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>公众账号ID</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>appid</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(32)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>wx8888888888888888</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>微信分配的公众账号ID</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>商户号</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>mch_id</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(32)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>1900000109</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>微信支付分配的商户号</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>随机字符串</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>nonce_str</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(32)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>随机字符串，不长于32位</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>签名</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>sign</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(32)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>5K8264ILTKCH16CQ2502SI8ZNMTM67VS</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>签名，详见</span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011985891" target="_blank">签名算法</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>微信支付订单号</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>transaction_id</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(32)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>4007752501201407033233368018</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>微信订单号</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>商户订单号</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>out_trade_no</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(32)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>33368018</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>商户系统内部订单号，要求32个字符内（最少6个字符），只能是数字、大小写字母_-|*且在同一个商户号下唯一。详见</span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011941162" target="_blank">商户订单号</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>商户退款单号</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>out_refund_no</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(64)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>121775250</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>商户系统内部的退款单号，商户系统内部唯一，只能是数字、大小写字母_-|*@&nbsp;，同一退款单号多次请求只退一笔。</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>微信退款单号</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>refund_id</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(32)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>2007752501201407033233368018</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>微信退款单号</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>退款金额</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>refund_fee</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>int</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>100</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>退款总金额,单位为分,可以做部分退款</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>应结退款金额</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>settlement_refund_fee</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>int</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>100</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>去掉非充值代金券退款金额后的退款金额，退款金额=申请退款金额-非充值代金券退款金额，退款金额&lt;=申请退款金额</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>标价金额</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>total_fee</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>int</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>100</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>订单总金额，单位为分，只能为整数，详见</span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011941162" target="_blank">支付金额</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>应结订单金额</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>settlement_total_fee</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>int</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>100</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>去掉非充值代金券金额后的订单总金额，应结订单金额=订单金额-非充值代金券金额，应结订单金额&lt;=订单金额。</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>标价币种</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>fee_type</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(8)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>CNY</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>订单金额货币类型，符合ISO&nbsp;4217标准的三位字母代码，默认人民币：CNY，其他值列表详见</span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011941162" target="_blank">货币类型</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>现金支付金额</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>cash_fee</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>是</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>int</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>100</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>现金支付金额，单位为分，只能为整数，详见</span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011941162" target="_blank">支付金额</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>现金支付币种</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>cash_fee_type</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(16)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>CNY</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>货币类型，符合ISO&nbsp;4217标准的三位字母代码，默认人民币：CNY，其他值列表详见</span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011941162" target="_blank">货币类型</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>现金退款金额</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>cash_refund_fee</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>int</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>100</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>现金退款金额，单位为分，只能为整数，详见</span><span><span><a href="https://pay.weixin.qq.com/doc/v2/merchant/4011941162" target="_blank">支付金额</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>代金券类型</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>coupon_type_$n</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(8)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>CASH</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>CASH--充值代金券</span></p><p class="iwiki-p"><span>NO_CASH---非充值代金券</span></p><p class="iwiki-p"><span>订单使用代金券时有返回（取值：CASH、NO_CASH）。$n为下标,从0开始编号，举例：coupon_type_0</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>代金券退款总金额</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>coupon_refund_fee</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>int</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>100</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>代金券退款金额&lt;=退款金额，退款金额-代金券或立减优惠退款金额为现金，说明详见</span><span><span><a href="https://pay.weixin.qq.com/doc/v3/merchant/4012084079" target="_blank">代金券或立减优惠</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>单个代金券退款金额</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>coupon_refund_fee_$n</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>int</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>100</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>代金券退款金额&lt;=退款金额，退款金额-代金券或立减优惠退款金额为现金，说明详见</span><span><span><a href="https://pay.weixin.qq.com/doc/v3/merchant/4012084079" target="_blank">代金券或立减优惠</a></span></span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>退款代金券使用数量</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>coupon_refund_count</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>int</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>1</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>退款代金券使用数量</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>退款代金券ID</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>coupon_refund_id_$n</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>否</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>String(20)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>10000&nbsp;</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>退款代金券ID,&nbsp;$n为下标，从0开始编号</span></p></td></tr></tbody></table></div><div><p class="iwiki-p"><span>举例如下：</span></p></div><div class="iwiki-codeBlock-div" language="null"><img class="iwiki-codeBlock-copy" src="https://gtimg.wechatpay.cn/resource/xres/img/202409/5236a3a065efe1276d29855d7cad26f8_16x16.svg" width="20" height="20"><pre class="iwiki-codeBlock"><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber firstline">1</span><span class="iwiki-codeBlock-line"><span>&lt;xml&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">2</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;return_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/return_code&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">3</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;return_msg&gt;&lt;![CDATA[OK]]&gt;&lt;/return_msg&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">4</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;appid&gt;&lt;![CDATA[wx2421b1c4370ec43b]]&gt;&lt;/appid&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">5</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;mch_id&gt;&lt;![CDATA[10000100]]&gt;&lt;/mch_id&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">6</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;nonce_str&gt;&lt;![CDATA[NfsMFbUFpdbEhPXP]]&gt;&lt;/nonce_str&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">7</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;sign&gt;&lt;![CDATA[B7274EB9F8925EB93100DD2085FA56C0]]&gt;&lt;/sign&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">8</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;result_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/result_code&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">9</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;transaction_id&gt;&lt;![CDATA[1008450740201411110005820873]]&gt;&lt;/transaction_id&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">10</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;out_trade_no&gt;&lt;![CDATA[1415757673]]&gt;&lt;/out_trade_no&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">11</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;out_refund_no&gt;&lt;![CDATA[1415701182]]&gt;&lt;/out_refund_no&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">12</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;refund_id&gt;&lt;![CDATA[2008450740201411110000174436]]&gt;&lt;/refund_id&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber">13</span><span class="iwiki-codeBlock-line"><span>&nbsp;&nbsp;&nbsp;&lt;refund_fee&gt;1&lt;/refund_fee&gt;</span><span>
</span></span></span><span class="iwiki-codeBlock-lines"><span class="iwiki-codeBlock-linenumber lastline">14</span><span class="iwiki-codeBlock-line"><span>&lt;/xml&gt;</span></span></span></pre></div><div><h2 class="iwiki-h2" id="错误码">错误码</h2></div><div class="iwiki-tableNode-wrapper"><table class="iwiki-tableNode"><colgroup><col><col><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>名称</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>描述</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>原因</span></p></th><th colspan="1" rowspan="1" class="iwiki-tableHeader" bgcolor="#f4f5f9" valign="middle" align="left"><p class="iwiki-p"><span>解决方案</span></p></th></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>SYSTEMERROR</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>接口返回错误</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>系统超时等</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请不要更换商户退款单号，请使用相同参数再次调用API。</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>BIZERR_NEED_RETRY</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>退款业务流程错误，需要商户触发重试来解决</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>并发情况下，业务被拒绝，商户重试即可解决</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请不要更换商户退款单号，请使用相同参数再次调用API。</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>TRADE_OVERDUE</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>订单已经超过退款期限</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>订单已经超过可退款的最大期限(支付后一年内可退款)</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请选择其他方式自行退款</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>ERROR</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>业务错误</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>申请退款业务发生错误</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>该错误都会返回具体的错误原因，请根据实际返回做相应处理。</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>USER_ACCOUNT_ABNORMAL</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>退款请求失败</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>用户账号注销</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>此状态代表退款申请失败，商户可自行处理退款。</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>INVALID_REQ_TOO_MUCH</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>无效请求过多</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>连续错误请求数过多被系统短暂屏蔽</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请检查业务是否正常，确认业务正常后请在1分钟后再来重试</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>NOTENOUGH</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>余额不足</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>商户可用退款余额不足</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>此状态代表退款申请失败，商户可根据具体的错误提示做相应的处理。</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>INVALID_TRANSACTIONID</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>无效transaction_id</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请求参数未按指引进行填写</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请求参数错误，检查原交易号是否存在或发起支付交易接口返回失败</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>PARAM_ERROR</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>参数错误</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请求参数未按指引进行填写</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请求参数错误，请重新检查再调用退款申请</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>APPID_NOT_EXIST</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>APPID不存在</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>参数中缺少APPID</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请检查APPID是否正确</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>MCHID_NOT_EXIST</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>MCHID不存在</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>参数中缺少MCHID</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请检查MCHID是否正确</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>ORDERNOTEXIST</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>订单号不存在</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>缺少有效的订单号</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请检查你的订单号是否正确且是否已支付，未支付的订单不能发起退款</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>REQUIRE_POST_METHOD</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请使用post方法</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>未使用post传递参数&nbsp;</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请检查请求参数是否通过post方法提交</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>SIGNERROR</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>签名错误</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>参数签名结果不正确</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请检查签名参数和方法是否都符合签名算法要求</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>XML_FORMAT_ERROR</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>XML格式错误</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>XML格式错误</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请检查XML参数格式是否正确</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>FREQUENCY_LIMITED</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>频率限制</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>1个月之前的订单申请退款有频率限制</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>该笔退款为受理中，请调用查单接口确认或降低频率原单重试，重试请勿更换单号</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>NOAUTH</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>异常IP请求不予受理</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请求ip异常</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>如果是动态ip，请登录商户平台后台关闭ip安全配置；</span><br><span>如果是静态ip，请确认商户平台配置的请求ip&nbsp;在不在配的ip列表里&nbsp;&nbsp;</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>CERT_ERROR</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>证书校验错误</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请检查证书是否正确，证书是否过期或作废。</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请检查证书是否正确，证书是否过期或作废。</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>INVALID_REQUEST</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>请求参数符合参数格式，但不符合业务规则</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>此状态代表退款申请失败，商户可根据具体的错误提示做相应的处理。</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>此状态代表退款申请失败，商户可根据具体的错误提示做相应的处理。</span></p></td></tr><tr><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>ORDER_NOT_READY</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>订单处理中，暂时无法退款，请稍后再试</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>订单处理中，暂时无法退款，请稍后再试&nbsp;&nbsp;</span></p></td><td colspan="1" rowspan="1" class="iwiki-tableCell" bgcolor="white" valign="middle"><p class="iwiki-p"><span>订单处理中，暂时无法退款，请稍后再试&nbsp;&nbsp;</span></p></td></tr></tbody></table></div><p class="iwiki-p">&nbsp;</p></div><p class="iwiki-p">&nbsp;</p></div></body></html></div><div class="hr-line" data-v-45cd89fe></div></div><div class="feedback-and-moresupport" data-v-45cd89fe><div class="feedback-box" data-v-45cd89fe data-v-77eca616><div class="feedback-panel-text" data-v-77eca616> 文档是否有帮助 </div><div class="feedback-panel-choices" data-v-77eca616><button class="feedback-option" data-v-77eca616><i class="icon help-icon" data-v-77eca616></i>是 </button><button class="feedback-option" data-v-77eca616><i class="icon no-help-icon" data-v-77eca616></i>否 </button></div></div></div><div class="relative-doc-and-moresupport" data-v-45cd89fe><div class="more-support" data-v-45cd89fe data-v-e0c53a30><div class="more-support__title" data-v-e0c53a30> 更多支持 </div><div class="more-support__lists" data-v-e0c53a30><a href="https://pay.weixin.qq.com/doc/v3/partner/4012069852" target="_blank" data-v-e0c53a30>开发文档(服务商)</a><a href="https://pay.weixin.qq.com/doc/v2" target="_blank" data-v-e0c53a30>开发文档(V2版)</a><a href="https://developers.weixin.qq.com/community/pay" target="_blank" data-v-e0c53a30>开发者社区</a><a href="https://open.weixin.qq.com/" target="_blank" data-v-e0c53a30>微信开放平台</a><a href="https://mp.weixin.qq.com/" target="_blank" data-v-e0c53a30>微信公众平台</a><a href="https://kf.qq.com/product/wechatpaymentmerchant.html" target="_blank" data-v-e0c53a30>腾讯客服</a></div></div></div></div><div class="sub-sidebar" data-v-45cd89fe data-v-7f9bf920><div class="toc" data-v-7f9bf920><div class="mb32" data-v-7f9bf920><div class="feedback-box" data-v-7f9bf920 data-v-77eca616><div class="feedback-panel-text" data-v-77eca616> 文档是否有帮助 </div><div class="feedback-panel-choices" data-v-77eca616><button class="feedback-option" data-v-77eca616><i class="icon help-icon" data-v-77eca616></i>是 </button><button class="feedback-option" data-v-77eca616><i class="icon no-help-icon" data-v-77eca616></i>否 </button></div></div></div><div class="toc-container mb40" data-v-7f9bf920 data-v-c65b4426><div class="toc-h2 toc-active toc-item" data-v-c65b4426><a href="4011937624.html#应用场景" title="应用场景" class="ellipsis" data-v-c65b4426><span data-v-c65b4426>应用场景</span></a></div><div class="toc-h2 toc-item" data-v-c65b4426><a href="4011937624.html#状态机" title="状态机" class="ellipsis" data-v-c65b4426><span data-v-c65b4426>状态机</span></a></div><div class="toc-h2 toc-item" data-v-c65b4426><a href="4011937624.html#接口地址" title="接口地址" class="ellipsis" data-v-c65b4426><span data-v-c65b4426>接口地址</span></a></div><div class="toc-h2 toc-item" data-v-c65b4426><a href="4011937624.html#是否需要证书" title="是否需要证书" class="ellipsis" data-v-c65b4426><span data-v-c65b4426>是否需要证书</span></a></div><div class="toc-h3 toc-item" data-v-c65b4426><a href="4011937624.html#请求参数" title="请求参数" class="ellipsis" data-v-c65b4426><span data-v-c65b4426>请求参数</span></a></div><div class="toc-h2 toc-item" data-v-c65b4426><a href="4011937624.html#返回结果" title="返回结果" class="ellipsis" data-v-c65b4426><span data-v-c65b4426>返回结果</span></a></div><div class="toc-h2 toc-item" data-v-c65b4426><a href="4011937624.html#错误码" title="错误码" class="ellipsis" data-v-c65b4426><span data-v-c65b4426>错误码</span></a></div></div><div class="support-container" data-v-7f9bf920 data-v-787fd1f1><a href="https://support.pay.weixin.qq.com/aidevhelper?from=wechatpaydoc" target="_blank" class="support-btn" data-v-787fd1f1><i class="support-icon" data-v-787fd1f1></i><span class="support-text" data-v-787fd1f1>AI开发助手</span></a></div></div><div class="toc-mobile" data-v-7f9bf920><div class="sub-sidebar-group" data-v-7f9bf920 data-v-18ea8254><div class="group-item" data-v-18ea8254><img class="group-icon" src="https://gtimg.wechatpay.cn/resource/xres/img/202509/441b156fa07f0548ddda2a0b711b478e_20x20.svg" alt="" data-v-18ea8254><img class="group-icon-hover" src="https://gtimg.wechatpay.cn/resource/xres/img/202511/d17b46871fb8b4187e40e334c9564e6f_84x84.png" alt="" data-v-18ea8254><div class="group-info" data-v-18ea8254> 元宝AI </div></div><div class="group-items" data-v-18ea8254><div class="group-item" data-v-18ea8254><img class="group-icon" src="https://gtimg.wechatpay.cn/resource/xres/img/202409/5c7b6ed2432ae0401a49a60329a1c5c9_80x80.svg" alt="" data-v-18ea8254><img class="group-icon-hover" src="https://gtimg.wechatpay.cn/resource/xres/img/202409/c2c45e34bb7e9c67c51b22550d44b813_80x80.svg" alt="" data-v-18ea8254><div class="group-info" data-v-18ea8254> 反馈 </div></div><div class="group-item" data-v-18ea8254><img class="group-icon" src="https://gtimg.wechatpay.cn/resource/xres/img/202409/55b0d9d534b0ccd145bcbe8e932f3053_80x80.svg" alt="" data-v-18ea8254><img class="group-icon-hover" src="https://gtimg.wechatpay.cn/resource/xres/img/202409/88d0ba6a5d2578733aa9f3c586f07224_80x80.svg" alt="" data-v-18ea8254><div class="group-info" data-v-18ea8254> 目录 </div></div><div class="group-item" data-v-18ea8254><img class="group-icon" src="https://gtimg.wechatpay.cn/resource/xres/img/202409/70ba1309ab6ade7e84f4f6d006c15621_48x49.png" alt="" data-v-18ea8254><img class="group-icon-hover" src="https://gtimg.wechatpay.cn/resource/xres/img/202409/eb04b4d41529b9413c0cba2a825c9d95_48x49.png" alt="" data-v-18ea8254><div class="group-info" data-v-18ea8254> 置顶 </div></div></div></div></div></div></div></main><footer class="t-layout__footer footer" data-v-45cd89fe><div class="footer-copyright" data-v-45cd89fe> Powered By Tencent &amp; Tenpay Copyright 2005-2025 Tenpay All Rights Reserved. </div><div class="footer-copyright footer-copyright-mobile" data-v-45cd89fe> Powered By Tencent &amp; Tenpay<br data-v-45cd89fe>Copyright 2005-2025 Tenpay All Rights Reserved. </div></footer></div></main></section></section></div>
        <div id="teleported"></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </body>
    </html>